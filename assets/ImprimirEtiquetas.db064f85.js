import{_ as ae,ay as ve,ak as O,o as v,p as D,f as a,w as l,d as I,bg as de,L as ge,P as ie,F as H,u as W,H as L,S as T,v as be,T as w,k as g,t as _,Q as C,X as Ce,e as Q,s as we,ad as Ee,dy as qe,cV as ye,dz as _e,dA as Ie,dB as Se,dC as Ve,dD as xe,dE as Pe,dF as Fe,al as P,dG as ne,dH as Me,a8 as j,dI as ke,dJ as De,ap as $e,ab as Be,x as je,di as Te,dK as X,r as q,z as Ne,h as te,i as ce,W as ze,N as Y,E as Ue,j as G,av as Ae,au as Z,ax as ee,b9 as oe,U as M,C as F,D as Re,$ as Le,dL as Qe,G as Oe,J as He,m as We,l as Ge,I as Je,K as Ke,Y as Xe,Z as Ye}from"./index.b5bd9116.js";import"./xlsx.ace712e3.js";const Ze={data(){return{indexSelected:-1}},methods:{addEtiqueta(e){this.$emit("addEtiqueta",e)},async buscarItems(){var e=this;if(this.setWidthListSearches(),this.campo.isLoading=!0,!this.campo.value&&(!this.campo.value||this.campo.value.length<3))return this.campo.searches=[],this.campo.isLoading=!1,!1;await e.erpQuery(),e.adjustMenuItens(),this.campo.isLoading=!1},adjustMenuItens(){let e=document.querySelector(".mobile .q-menu.q-position-engine");e&&setTimeout(()=>{e.style.left="0px !important",e.style.width="100% !important",e.style.maxWidth="100%"},1e3)},async erpQuery(){const e=this.campo;await ve[e.db].carregarMemoria(),this.getReceived(e.db);const o=99,r=1,i=["descricaoConcatenada"],t={termoBusca:e.value,ativo:!0},d=(await $db.item.ler({filtros:{...t},limit:o,page:r,sort:i})).data;e.searches=d,d.length>0&&(e.showing=O(!0)),e.isLoading=!1,await this.$forceUpdate()},getReceived(e){return e==="item"?"itens":this.modalConfig.received},getChaveDescricao(e){return Object.keys(e).find(o=>o.toLowerCase().match(/(descricao|nome|apelido)/))},setWidthListSearches(){this.campo.clientWidth||(this.campo.clientWidth=this.$refs.iCodigoBarras.$el.clientWidth)},mostrarResultados(){let e=this;if(!e.campo.searches.length)return!1;setTimeout(function(){e.campo.showing=O(!0),e.$forceUpdate()},100)},selecionarProximo(e){if(!this.campo.searches.length)return!1;this.campo.showing||(this.campo.showing=!0);let o=40,r=38;return 13===e.keyCode&&(this.indexSelected=this.indexSelected===-1&&this.campo.searches.length===1?0:this.indexSelected,this.indexSelected>-1&&(this.addEtiqueta(this.campo.searches[this.indexSelected]),this.campo.value="",this.campo.searches=[])),o===e.keyCode?this.indexSelected<this.campo.searches.length-1&&this.indexSelected++:r===e.keyCode&&this.indexSelected>0&&this.indexSelected--,!0}},props:{campo:{required:!0,type:Object}}};function eo(e,o,r,i,t,s){return v(),D("div",null,[a(we,{modelValue:r.campo.value,"onUpdate:modelValue":[o[1]||(o[1]=d=>r.campo.value=d),o[2]||(o[2]=d=>s.buscarItems())],onKeydown:s.selecionarProximo,onFocus:s.mostrarResultados,loading:r.campo.isLoading,debounce:500,filled:"",clearable:"",dense:"",ref:"iCodigoBarras",placeholder:"C\xF3digo de barras, etc...",autocomplete:"off"},{default:l(()=>[r.campo.showing?(v(),I(de,{key:0,modelValue:r.campo.showing,"onUpdate:modelValue":o[0]||(o[0]=d=>r.campo.showing=d),style:ge({minWidth:r.campo.clientWidth+"px"}),class:"menu-busca-itens","no-focus":""},{default:l(()=>[a(ie,{"no-border":"",separator:""},{default:l(()=>[(v(!0),D(H,null,W(r.campo.searches,(d,m)=>L((v(),I(T,{key:m,class:be({selected:t.indexSelected===m}),"no-focus":""},{default:l(()=>[a(w,{onClick:u=>s.addEtiqueta(d)},{default:l(()=>[g(_(d.codigoItem),1)]),_:2},1032,["onClick"]),a(w,{onClick:u=>s.addEtiqueta(d)},{default:l(()=>[g(_(d[s.getChaveDescricao(d)]),1)]),_:2},1032,["onClick"]),a(w,{onClick:u=>s.addEtiqueta(d)},{default:l(()=>[g(" R$ "+_(e.$filters.numero(d.valorVenda,2)),1)]),_:2},1032,["onClick"]),a(w,{onClick:u=>s.addEtiqueta(d)},{default:l(()=>[g(_(d.codigoBarras),1)]),_:2},1032,["onClick"]),a(w,{onClick:u=>s.addEtiqueta(d)},{default:l(()=>[a(C,{icon:"mdi-tag-plus",color:"primary",flat:"",clickable:""})]),_:2},1032,["onClick"])]),_:2},1032,["class"])),[[Ce]])),128))]),_:1})]),_:1},8,["modelValue","style"])):Q("",!0)]),_:1},8,["modelValue","onKeydown","onFocus","loading"])])}var oo=ae(Ze,[["render",eo]]),to=Ee({name:"QFile",inheritAttrs:!1,props:{...qe,...ye,..._e,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Ie,...Se],setup(e,{slots:o,emit:r,attrs:i}){const{proxy:t}=$e(),s=Ve(),d=O(null),m=O(!1),u=xe(e),{pickFiles:n,onDragover:b,onDragleave:N,processFiles:z,getDndNode:$}=Pe({editable:s.editable,dnd:m,getFileInput:se,addFilesToQueue:re}),U=Fe(e),p=P(()=>Object(e.modelValue)===e.modelValue?"length"in e.modelValue?Array.from(e.modelValue):[e.modelValue]:[]),S=P(()=>ne(p.value)),c=P(()=>p.value.map(f=>f.name).join(", ")),V=P(()=>Me(p.value.reduce((f,y)=>f+y.size,0))),E=P(()=>({totalSize:V.value,filesNumber:p.value.length,maxFiles:e.maxFiles})),k=P(()=>({tabindex:-1,type:"file",title:"",accept:e.accept,capture:e.capture,name:u.value,...i,id:s.targetUid.value,disabled:s.editable.value!==!0})),h=P(()=>"q-file q-field--auto-height"+(m.value===!0?" q-file--dnd":"")),A=P(()=>e.multiple===!0&&e.append===!0);function B(f){const y=p.value.slice();y.splice(f,1),J(y)}function le(f){const y=p.value.indexOf(f);y!==-1&&B(y)}function J(f){r("update:modelValue",e.multiple===!0?f:f[0])}function ue(f){f.keyCode===13&&Be(f)}function me(f){(f.keyCode===13||f.keyCode===32)&&n(f)}function se(){return d.value}function re(f,y){const x=z(f,y,p.value,A.value),K=se();K!=null&&(K.value=""),x!==void 0&&((e.multiple===!0?e.modelValue&&x.every(he=>p.value.includes(he)):e.modelValue===x[0])||J(A.value===!0?p.value.concat(x):x))}function R(){return[j("input",{class:[e.inputClass,"q-file__filler"],style:e.inputStyle})]}function fe(){if(o.file!==void 0)return p.value.length===0?R():p.value.map((y,x)=>o.file({index:x,file:y,ref:this}));if(o.selected!==void 0)return p.value.length===0?R():o.selected({files:p.value,ref:this});if(e.useChips===!0)return p.value.length===0?R():p.value.map((y,x)=>j(je,{key:"file-"+x,removable:s.editable.value,dense:!0,textColor:e.color,tabindex:e.tabindex,onRemove:()=>{B(x)}},()=>j("span",{class:"ellipsis",textContent:y.name})));const f=e.displayValue!==void 0?e.displayValue:c.value;return f.length!==0?[j("div",{class:e.inputClass,style:e.inputStyle,textContent:f})]:R()}function pe(){const f={ref:d,...k.value,...U.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:re};return e.multiple===!0&&(f.multiple=!0),j("input",f)}return Object.assign(s,{fieldClass:h,emitValue:J,hasValue:S,inputRef:d,innerValue:p,floatingLabel:P(()=>S.value===!0||ne(e.displayValue)),computedCounter:P(()=>{if(e.counterLabel!==void 0)return e.counterLabel(E.value);const f=e.maxFiles;return`${p.value.length}${f!==void 0?" / "+f:""} (${V.value})`}),getControlChild:()=>$("file"),getControl:()=>{const f={ref:s.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:e.tabindex};return s.editable.value===!0&&Object.assign(f,{onDragover:b,onDragleave:N,onKeydown:ue,onKeyup:me}),j("div",f,[pe()].concat(fe()))}}),Object.assign(t,{removeAtIndex:B,removeFile:le,getNativeElement:()=>d.value}),ke(t,"nativeEl",()=>d.value),De(s)}});async function ao(e){let o,r,i,t;if(!(e!=null&&e.idEmpresa))throw new Error("idEmpresa n\xE3o encontrado");if(!(e!=null&&e.idItem))throw new Error("idItem n\xE3o encontrado");if(o=await $erp().contato.get(e.idEmpresa),!o)throw new Error("Empresa n\xE3o encontrada");if(r=await $erp().item.get(e.idItem),!r)throw new Error("Item n\xE3o encontrado");if(!Number.isInteger(e==null?void 0:e.planoContaEstoque))throw new Error("Dado inv\xE1lido: planoContaEstoque (tipo esperado: Integer)");if(!Number.isInteger(e==null?void 0:e.planoContaMovimento))throw new Error("Dado inv\xE1lido: planoContaMovimento (tipo esperado: Integer)");if(i=(await $db.hibrido.lista({table:"financeiroPlanoConta",where:{codigoFinanceiroPlanoConta:e==null?void 0:e.planoContaEstoque}}))[0],!i)throw new Error("FinanceiroPlanoContaEstoque n\xE3o encontrado");if(t=(await $db.hibrido.lista({table:"financeiroPlanoConta",where:{codigoFinanceiroPlanoConta:e==null?void 0:e.planoContaMovimento}}))[0],!t)throw new Error("FinanceiroPlanoContaMovimento n\xE3o encontrado");if(!Number.isFinite(e==null?void 0:e.qtdeMomento))throw new Error("Dado inv\xE1lido: qtdeMomento (tipo esperado: Number)");if(!Number.isFinite(e==null?void 0:e.custoMomento))throw new Error("Dado inv\xE1lido: custoMomento (tipo esperado: Number)");if(!Number.isFinite(e==null?void 0:e.qtdeDesejada))throw new Error("Dado inv\xE1lido: qtdeDesejada (tipo esperado: Number)");if(!Number.isFinite(e==null?void 0:e.custoDesejado))throw new Error("Dado inv\xE1lido: custoDesejado (tipo esperado: Number)")}async function io(e){var k,h,A,B;await ao(e);const o={idEmpresa:e.idEmpresa,idItem:e.idItem,qtdeMomento:e==null?void 0:e.qtdeMomento,custoMomento:e==null?void 0:e.custoMomento,qtdeDesejada:e==null?void 0:e.qtdeDesejada,custoDesejado:e==null?void 0:e.custoDesejado,lote:e==null?void 0:e.lote,planoContaEstoque:e==null?void 0:e.planoContaEstoque,planoContaMovimento:e==null?void 0:e.planoContaMovimento,tipoEstoque:(k=e==null?void 0:e.tipoEstoque)!=null?k:"Dispon\xEDvel",observacao:(h=e==null?void 0:e.observacao)!=null?h:""},r=$utils.dataAtual(),i=o.qtdeDesejada-o.qtdeMomento,t=o.qtdeDesejada*o.custoDesejado-o.qtdeMomento*o.custoMomento,s=i<0?-1:1,d=await $erp().item.get(o.idItem),m=(await $db.hibrido.lista({table:"financeiroPlanoConta",where:{codigoFinanceiroPlanoConta:e==null?void 0:e.planoContaEstoque}}))[0],u=(await $db.hibrido.lista({table:"financeiroPlanoConta",where:{codigoFinanceiroPlanoConta:e==null?void 0:e.planoContaMovimento}}))[0],n=$utils.uuid(),b=$utils.uuid(),N=$utils.uuid(),z=$utils.uuid(),$=$utils.uuid(),U=$utils.uuid(),p={id:n,idEmpresa:o.idEmpresa,tipo:"Estoque",operacao:"Ajuste",status:"Finalizado",DataHoraEmissao:r,DataHoraFinalizado:r,observacao:o.observacao},S={id:b,idDocumento:n,idItem:o.idItem,...o.lote?{loteEmpresa:o.lote}:{},descricaoItem:d.descricao,tipoItem:"Estoque",operacao:`Ajuste ${o.tipoEstoque}`,status:"Finalizado",operacaoFator:s,quantidade:Math.abs(i),valorItem:o.custoDesejado,valorCusto:o.custoDesejado,subTotal:Math.abs(i)*o.custoDesejado,total:Math.abs(i)*o.custoDesejado,dataHoraEmissao:r,dataHoraFinalizado:r,quantidadeUltimo:o.qtdeMomento,valorCustoUltimo:o.custoMomento,codigoPlanoContaEstoque:o.planoContaEstoque,codigoPlanoContaDestino:o.planoContaMovimento},c={id:N,idEmpresa:o.idEmpresa,idFinanceiroMovimentacaoN:$,idFinanceiroPlanoConta:m.id,documentoId:n,dataEmissao:r,valorCredito:t<0?Math.abs(t):0,valorDebito:t<0?0:Math.abs(t),descricao:(A=m.descricao)==null?void 0:A.trim(),observacao:"Contabiliza\xE7\xE3o autom\xE1tica",automatico:0,liquidando:0,dataCompetencia:r,dataVencimento:r,dataMovimento:r,documentoTipo:"Ajuste de Estoque"},V={id:z,idEmpresa:o.idEmpresa,idFinanceiroMovimentacaoN:$,idFinanceiroPlanoConta:u.id,documentoId:n,dataEmissao:r,valorCredito:t<0?0:Math.abs(t),valorDebito:t<0?Math.abs(t):0,descricao:(B=u.descricao)==null?void 0:B.trim(),observacao:"Contabiliza\xE7\xE3o autom\xE1tica",automatico:0,liquidando:0,dataCompetencia:r,dataVencimento:r,dataMovimento:r,documentoTipo:"Ajuste de Estoque"},E={id:U,idEmpresa:o.idEmpresa,idItem:o.idItem,tipoItem:d.tipo,...o.lote?{loteEmpresa:o.lote}:{},tipoEstoque:o.tipoEstoque,saldo:o.qtdeDesejada,valorCusto:o.custoDesejado,valorCustoMedio:o.custoDesejado};try{await $erpPut().estoqueSaldoProdutoEmpresa.put(E),await $erpPut().documento.put(p),await $erpPut().documentoItem.put(S),await $erpPut().financeiroMovimentacao.put(c),await $erpPut().financeiroMovimentacao.put(V),await $utils.sincronismoEnviar("adicionar","estoqueSaldoProdutoEmpresa",E.id,E),await $utils.sincronismoEnviar("adicionar","documento",p.id,p),await $utils.sincronismoEnviar("adicionar","documentoItem",S.id,S),await $utils.sincronismoEnviar("adicionar","financeiroMovimentacao",c.id,c),await $utils.sincronismoEnviar("adicionar","financeiroMovimentacao",V.id,V)}catch{throw await $erpDelete().estoqueSaldoProdutoEmpresa.delete(E.id),await $erpDelete().documento.delete(p.id),await $erpDelete().documentoItem.delete(S.id),await $erpDelete().financeiroMovimentacao.delete(c.id),await $erpDelete().financeiroMovimentacao.delete(V.id),await $utils.sincronismoEnviar("remover","estoqueSaldoProdutoEmpresa",E.id),await $utils.sincronismoEnviar("remover","documento",p.id),await $utils.sincronismoEnviar("remover","documentoItem",S.id),await $utils.sincronismoEnviar("remover","financeiroMovimentacao",c.id),await $utils.sincronismoEnviar("remover","financeiroMovimentacao",V.id),new Error("Erro ao salvar os dados")}}const lo={components:{SeletorCampoTabela:Te},computed:{opcoesTipo(){return X},totalEstoqueSaldo(){return this.estoque.reduce((e,o)=>o.saldo+e,0)},showReferencia(){return this.campos.some(e=>e.name==="referencia"&&e.show)},showCodigoBarras(){return this.campos.some(e=>e.name==="codigoBarras"&&e.show)},showMarca(){return this.campos.some(e=>e.name==="marca"&&e.show)}},data(){return{show:!1,campos:[],item:{},permissaoAjusteEstoque:!1,estoque:[],descricao:{options:[],loading:!1},referencia:{options:[],loading:!1},codigoBarras:{options:[],loading:!1},fileError:!1}},emits:["salvarContinuar","salvar"],methods:{abrirItem(e){$utils.emitter.emit("abrirItem",e)},fileRejected(){this.fileError=!0,this.item.imagem=null,clearTimeout(this.fileErrorTimeout),this.fileErrorTimeout=setTimeout(()=>{this.fileError=!1,console.log("this.fileError: ",this.fileError)},2e3)},async searchDescricao(e,o,r){const i=[],t=$utils.tratamentoCompletoString(e);if(t){const s=t.split(" ");this.descricao.loading=!0,await $db.item.carregarMemoria(),await $utils.dormir(500);for(const d of $db.item.itens){let m=$utils.tratamentoCompletoString(d.descricaoConcatenada),u=!0;if(!!d.ativo&&!!m){for(const n of s)if(!~m.indexOf(n)){u=!1;break}u&&i.push({id:d.id,label:d.descricaoConcatenada})}}}i.sort((s,d)=>s.label<d.label?-1:1),o(()=>{this.descricao.options=i,this.descricao.loading=!1})},async searchReferencia(e,o,r){const i=[],t=$utils.tratamentoCompletoString(e);if(t){const s=t.split(" ");this.referencia.loading=!0,await $db.item.carregarMemoria(),await $utils.dormir(500);for(const d of $db.item.itens){let m=$utils.tratamentoCompletoString(d.referencia),u=!0;if(!!d.ativo&&!!m){for(const n of s)if(!~m.indexOf(n)){u=!1;break}u&&i.push({id:d.id,label:d.referencia})}}}i.sort((s,d)=>s.label<d.label?-1:1),o(()=>{this.referencia.options=i,this.referencia.loading=!1})},async searchCodigoBarras(e,o,r){const i=[],t=$utils.tratamentoCompletoString(e);if(t){const s=t.split(" ");this.codigoBarras.loading=!0,await $db.item.carregarMemoria(),await $utils.dormir(500);for(const d of $db.item.itens){let m=$utils.tratamentoCompletoString(d.codigoBarras),u=!0;if(!!d.ativo&&!!m){for(const n of s)if(!~m.indexOf(n)){u=!1;break}u&&i.push({id:d.id,label:d.codigoBarras})}}}i.sort((s,d)=>s.label<d.label?-1:1),o(()=>{this.codigoBarras.options=i,this.codigoBarras.loading=!1})},async salvar(e=!0){var o,r;try{let i;if(i={id:$utils.uuid(),descricaoConcatenada:this.item.descricao,descricao:this.item.descricao,...this.item.referencia?{referencia:this.item.referencia}:{},...this.item.codigoBarras?{codigoBarras:this.item.codigoBarras}:{},...this.item.marca?{marca:this.item.marca}:{},...this.item.tipo?{tipo:this.item.tipo}:{},valorCustoReposicao:(o=this.item.valorCustoReposicao)!=null?o:0,valorVenda:(r=this.item.valorVenda)!=null?r:0,ativo:!0},!await this.validate())return;this.item.imagem&&(i.imagem=await(t=>new Promise((s,d)=>{const m=new FileReader;m.readAsDataURL(t),m.onload=()=>s(m.result),m.onerror=u=>d(u)}))(this.item.imagem)),await $db.item.grava({atual:i});try{for(const t of this.estoque)t.saldo>0&&await io({idEmpresa:t.idContatoEmpresa,idItem:i.id,qtdeMomento:0,custoMomento:0,qtdeDesejada:t.saldo,custoDesejado:i.valorVenda,planoContaEstoque:146,planoContaMovimento:125})}catch(t){console.error(t)}e&&(this.show=!1,this.$emit("salvar",i.id)),e||this.$emit("salvarContinuar",i.id),$q.notify({type:"positive",message:"Produto gravado com sucesso"})}catch(i){console.error(i),$q.notify({type:"negative",message:"N\xE3o foi poss\xEDvel gravar o produto"})}},async tipoSelecionado(){await this.ajustarSecaoEstoque(),await this.validate()},async estoqueSaldoAlterado(){await this.validate()},async validate(){let e=!1;return this.$refs.form.getValidationComponents().forEach(o=>{!o.validate()&&!e&&(e=!0)}),await $db.item.existeReferencia({referencia:this.item.referencia})&&(e=!0),!e},ajustarExibicaoCampos(){var r;const e=JSON.parse((r=localStorage.getItem("modalNovoItemCampos"))!=null?r:null);let o=[{name:"referencia",label:"Refer\xEAncia",show:!0},{name:"codigoBarras",label:"C\xF3digo de barras",show:!0},{name:"marca",label:"Marca",show:!0}];if(this.permissaoAjusteEstoque&&o.push({name:"estoque",label:"Estoque",show:!0}),e)for(const i of o){const t=e.find(s=>s.name===i.name);t&&(i.show=t.show)}this.campos=o},async exibicaoCampoAlterado(){var e;this.campos.forEach(o=>{o.show||delete this.item[o.name]}),!this.item.tipo&&this.campos.some(o=>o.name==="tipo"&&o.show)&&(this.item.tipo=(e=X[0])==null?void 0:e.valor),localStorage.setItem("modalNovoItemCampos",JSON.stringify(this.campos)),await this.ajustarSecaoEstoque(),await this.validate()},async ajustarSecaoEstoque(){const e=(await $db.contato.ler({filtros:{ativo:!0,empresas:!0}})).data,o=this.campos.some(i=>i.name==="estoque"&&i.show);let r=o&&this.permissaoAjusteEstoque?this.estoque:[];if(o&&!r.length)for(const i of e)r.push({idContatoEmpresa:i.id,contatoEmpresaApelido:i.apelido,saldo:0,readonly:null});$utils.tratamentoCompletoString(this.item.tipo)!=="servico"&&r.forEach(i=>{i.readonly=!1}),(!this.item.tipo||$utils.tratamentoCompletoString(this.item.tipo)==="servico")&&(r=[]),this.estoque=r},async open(){var o;let e=setTimeout(()=>{$q.loading.show()},300);try{this.permissaoAjusteEstoque=await $db.permissao.objeto("item//estoque/ajuste_estoque"),this.item={tipo:(o=X[0])==null?void 0:o.valor},this.estoque=[],this.ajustarExibicaoCampos(),await this.ajustarSecaoEstoque(),this.show=!0,this.interval=setInterval(()=>{const r=document.getElementsByClassName("input-descricao")[0],i=document.getElementsByClassName("input-referencia")[0],t=document.getElementsByClassName("input-codigoBarras")[0];r&&(r.style.cursor="text"),i&&(i.style.cursor="text"),t&&(t.style.cursor="text"),r&&i&&t&&clearInterval(this.interval)},100)}catch(r){console.error(r)}finally{clearTimeout(e),setTimeout(()=>{$q.loading.hide()},500)}},onHide(){this.$emit("update:modelValue",!1),clearInterval(this.interval)}},props:{modelValue:{default:!1,type:Boolean,required:!0}},watch:{modelValue(){this.modelValue&&this.open()}},unmounted(){clearInterval(this.interval)}},so={class:"q-mt-lg text-right"};function ro(e,o,r,i,t,s){const d=q("SeletorCampoTabela"),m=q("Campo"),u=q("campo");return v(),I(Re,{modelValue:t.show,"onUpdate:modelValue":o[12]||(o[12]=n=>t.show=n),onHide:s.onHide},{default:l(()=>[a(Ne,{class:"card"},{default:l(()=>[a(te,{class:"bg-primary text-white"},{default:l(()=>[a(ce,null,{default:l(()=>[g("Cadastrar Produto")]),_:1}),a(C,{dense:"",flat:"",icon:"more_vert",round:"",size:"md"},{default:l(()=>[a(de,{class:"menu-busca-itens"},{default:l(()=>[L((v(),I(ie,{link:"","no-border":"",separator:""},{default:l(()=>[(v(!0),D(H,null,W(t.campos,n=>(v(),I(T,{key:n.name},{default:l(()=>[a(w,null,{default:l(()=>[a(ze,{label:n.label,modelValue:n.show,"onUpdate:modelValue":[b=>n.show=b,s.exibicaoCampoAlterado],"checked-icon":"check",color:"primary","unchecked-icon":"clear"},null,8,["label","modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024))),128))]),_:1})),[[Y]])]),_:1})]),_:1}),L(a(C,{dense:"",flat:"",icon:"close",round:""},null,512),[[Y]])]),_:1}),a(Ue,{ref:"form",class:"q-pa-md q-col-gutter-md"},{default:l(()=>[a(to,{modelValue:t.item.imagem,"onUpdate:modelValue":[o[1]||(o[1]=n=>t.item.imagem=n),o[2]||(o[2]=()=>{t.fileError=!1})],label:"Selecione a imagem",filled:"",counter:"","max-files":"1","max-file-size":"2097152",accept:".jpg, .png, image/jpeg, image/png",onRejected:s.fileRejected,class:"q-mb-md",rules:[()=>!t.fileError||"JPEG, PNG (m\xE1x. 2MB)"]},{prepend:l(()=>[a(G,{name:"attach_file"})]),append:l(()=>[a(G,{name:"close",onClick:o[0]||(o[0]=Ae(()=>{t.item.imagem=null},["stop","prevent"])),class:"cursor-pointer"})]),hint:l(()=>[g(" JPEG, PNG (m\xE1x. 2MB) ")]),_:1},8,["modelValue","onRejected","rules"]),a(Z,{"model-value":t.item.descricao,label:"Descri\xE7\xE3o","input-debounce":"500",options:t.descricao.options,loading:t.descricao.loading,onFilter:s.searchDescricao,onInputValue:o[3]||(o[3]=n=>{this.item.descricao=n}),"use-input":"","hide-selected":"","fill-input":"","hide-dropdown-icon":"","input-class":"input-descricao",dense:"",rules:[n=>!!(n!=null&&n.trim())||"Campo obrigat\xF3rio"]},{option:l(n=>[a(T,ee(oe(n.itemProps)),{default:l(()=>[a(w,null,{default:l(()=>[a(M,{style:{"inline-size":"220px","overflow-wrap":"break-word"}},{default:l(()=>[g(_(n.opt.label),1)]),_:2},1024)]),_:2},1024),a(w,{avatar:""},{default:l(()=>[a(C,{color:"primary",dense:"",flat:"",icon:"edit",round:"",size:"sm",onClick:b=>s.abrirItem(n.opt.id)},null,8,["onClick"])]),_:2},1024)]),_:2},1040)]),_:1},8,["model-value","options","loading","onFilter","rules"]),s.showReferencia?(v(),I(Z,{key:0,"model-value":t.item.referencia,label:"Refer\xEAncia","input-debounce":"500",options:t.referencia.options,loading:t.referencia.loading,onFilter:s.searchReferencia,onInputValue:o[4]||(o[4]=n=>{this.item.referencia=n}),"use-input":"","hide-selected":"","fill-input":"","hide-dropdown-icon":"","input-class":"input-referencia",dense:"",rules:[async n=>!await e.$db.item.existeReferencia({referencia:t.item.referencia})||"Refer\xEAncia j\xE1 existente"]},{option:l(n=>[a(T,ee(oe(n.itemProps)),{default:l(()=>[a(w,null,{default:l(()=>[a(M,{style:{"inline-size":"220px","overflow-wrap":"break-word"}},{default:l(()=>[g(_(n.opt.label),1)]),_:2},1024)]),_:2},1024),a(w,{avatar:""},{default:l(()=>[a(C,{color:"primary",dense:"",flat:"",icon:"edit",round:"",size:"sm",onClick:b=>s.abrirItem(n.opt.id)},null,8,["onClick"])]),_:2},1024)]),_:2},1040)]),_:1},8,["model-value","options","loading","onFilter","rules"])):Q("",!0),s.showCodigoBarras?(v(),I(Z,{key:1,"model-value":t.item.codigoBarras,label:"C\xF3digo de Barras","input-debounce":"500",options:t.codigoBarras.options,loading:t.codigoBarras.loading,onFilter:s.searchCodigoBarras,onInputValue:o[5]||(o[5]=n=>{this.item.codigoBarras=n}),"use-input":"","hide-selected":"","fill-input":"","hide-dropdown-icon":"","input-class":"input-codigoBarras",dense:""},{option:l(n=>[a(T,ee(oe(n.itemProps)),{default:l(()=>[a(w,null,{default:l(()=>[a(M,{style:{"inline-size":"220px","overflow-wrap":"break-word"}},{default:l(()=>[g(_(n.opt.label),1)]),_:2},1024)]),_:2},1024),a(w,{avatar:""},{default:l(()=>[a(C,{color:"primary",dense:"",flat:"",icon:"edit",round:"",size:"sm",onClick:b=>s.abrirItem(n.opt.id)},null,8,["onClick"])]),_:2},1024)]),_:2},1040)]),_:1},8,["model-value","options","loading","onFilter"])):Q("",!0),s.showMarca?(v(),I(d,{key:2,modelValue:t.item.marca,"onUpdate:modelValue":o[6]||(o[6]=n=>t.item.marca=n),tabela:"item",campo:"marca",label:"Marca",enableAdd:"",buscarSemCaractere:!0},null,8,["modelValue"])):Q("",!0),a(m,{modelValue:t.item.valorCustoReposicao,"onUpdate:modelValue":o[7]||(o[7]=n=>t.item.valorCustoReposicao=n),rotulo:"Custo de Reposi\xE7\xE3o",tipo:"decimal",decimals:"4",zerosDireita:"2",rules:[n=>!s.totalEstoqueSaldo||Number(n==null?void 0:n.replace(/\./g,"").replace(",","."))>0||"Campo obrigat\xF3rio"]},null,8,["modelValue","rules"]),a(m,{modelValue:t.item.valorVenda,"onUpdate:modelValue":o[8]||(o[8]=n=>t.item.valorVenda=n),rotulo:"Valor de Venda",tipo:"decimal",decimals:"4",zerosDireita:"2"},null,8,["modelValue"]),a(u,{rotuloFixo:"Tipo",tipo:"seletor",modelValue:t.item.tipo,"onUpdate:modelValue":[o[9]||(o[9]=n=>t.item.tipo=n),s.tipoSelecionado],opcoes:s.opcoesTipo},null,8,["modelValue","opcoes","onUpdate:modelValue"]),(v(!0),D(H,null,W(t.estoque,n=>(v(),I(m,{key:n.idContatoEmpresa,modelValue:n.saldo,"onUpdate:modelValue":[b=>n.saldo=b,s.estoqueSaldoAlterado],rotulo:`Estoque (${n.contatoEmpresaApelido})`,tipo:"quantidade",min:"0",decimals:"4",zerosDireita:"0",somenteLeitura:n.readonly},null,8,["modelValue","onUpdate:modelValue","rotulo","somenteLeitura"]))),128)),F("div",so,[a(C,{color:"primary",class:"text-white float-left",unelevated:"",label:"Salvar e continuar",type:"button",onClick:o[10]||(o[10]=n=>s.salvar(!1))}),L(a(C,{color:"tertiary",flat:"",label:"Cancelar"},null,512),[[Y]]),a(C,{color:"primary",class:"text-white",unelevated:"",label:"Salvar",type:"button",onClick:o[11]||(o[11]=n=>s.salvar())})])]),_:1},512)]),_:1})]),_:1},8,["modelValue","onHide"])}var no=ae(lo,[["render",ro],["__scopeId","data-v-2682f109"]]);const co={components:{CampoInsertProdutoEtiqueta:oo,ModalNovoItem:no,Avatar:Le,PromptCodigoBarras:Qe},data(){return{quantidade:1,usuario:JSON.parse(localStorage.getItem("usuario")),clienteSistema:JSON.parse(localStorage.getItem("clienteSistema")),cameraTimeout:null,promptCodigoBarras:!1,opcoesTabelasPrecoFull:[],opcoesTabelasPreco:[],mainPular:0,opcoesPlanoConta:[],modeloImpressaoSelecionada:null,empresaSelecionada:null,tabelaPreco:null,opcoesEmpresas:[],opcoesModeloImpressao:[],lista:[],item:{},modalNovoItem:!1,campos:{codigoBarras:{db:"item",value:null,isLoading:!1,showing:!1,chave:"descricaoConcatenada",chaveCadastro:"descricao",searches:[],columns:[{name:"codigoItem",label:"Codigo",align:"left",field:e=>e.codigoItem,format:e=>`${e}`,sortable:!0},{name:"descricao",label:"Descri\xE7\xE3o",align:"left",field:e=>e.descricaoConcatenada,format:e=>`${e}`,sortable:!0}]}}}},methods:{abrirPromptCodigoBarras(){this.promptCodigoBarras=!0,window.scrollTo(0,0)},async onDetected(e){clearTimeout(this.cameraTimeout),this.cameraTimeout=setTimeout(async()=>{this.$refs.campoInsertEtiqueta.campo.value=e,await this.$refs.campoInsertEtiqueta.buscarItems(),this.$refs.campoInsertEtiqueta.$refs.iCodigoBarras.focus()},200)},async listar(){const e=await this.obter(),o=(await $db.item.ler({filtros:{ids:e.map(i=>i.idItem)}})).data;let r={};for(const i of o)r[i.id]=i;this.item=r,this.listaOriginal=$utils.clonarV2(e),this.lista=e},async obter(){try{return await $db.etiqueta.ler({cpfUsuarioLogado:this.usuario.cpf})}catch(e){this.$q.notifyError("Erro ao obter dados.",e)}},async adicionar(e){var r,i;let o=this.lista.find(t=>t.idItem===e.id);if(o){const t={nomeProduto:e.descricaoConcatenada,valor:(r=e.valorVenda)!=null?r:0,quantidadeEtiquetas:o.quantidadeEtiquetas+this.quantidade};await this.atualizar({...o,...t}),o.nomeProduto=t.nomeProduto,o.valor=t.valor,o.quantidadeEtiquetas=t.quantidadeEtiquetas;return}try{o={id:$utils.uuid(),idItem:e.id,nomeProduto:e.descricaoConcatenada,valor:(i=e.valorVenda)!=null?i:0,quantidadeEtiquetas:this.quantidade,cpfUsuarioLogado:this.usuario.cpf},await $db.etiqueta.gravar({atual:o}),await this.listar(),await this.configurarValores(),$q.notify({message:"Etiqueta adicionada com sucesso.",type:"positive"})}catch(t){this.$q.notifyError("Erro ao inserir etiqueta.",t)}},async atualizar(e){try{const o=this.listaOriginal.find(r=>r.id===e.id);await $db.etiqueta.gravar({atual:e,original:o}),await this.listar(),await this.configurarValores(),$q.notify({message:"Etiqueta atualizada com sucesso.",type:"positive"})}catch(o){this.$q.notifyError("Erro ao atualizar etiqueta.",o)}},async configurarValores(){var e;for(const o of this.lista){const r=await $erp().item.get(o.idItem);let i,t;!r||(i=this.opcoesTabelasPrecoFull.filter(s=>s.codigoItemTabelaPreco===this.tabelaPreco)[0],t=await $db.itemTabelaPreco.obterValores(i,r,4),t&&(o.valor=(e=t.valorVenda)!=null?e:0))}},async tabelaPrecoSelecionada(){await this.configurarValores(),await this.atualizarTodas()},async atualizarTodas(){for(const e of this.lista)try{const o=this.listaOriginal.find(r=>r.id===e.id);await $db.etiqueta.gravar({atual:e,original:o})}catch(o){console.error(o)}$q.notify({message:"Etiquetas atualizadas com sucesso.",type:"positive"})},async remover(e){try{await $db.etiqueta.remover(e.id),await this.listar(),$q.notify({message:"Etiqueta removida com sucesso.",type:"positive"})}catch(o){this.$q.notifyError("Erro ao remover etiqueta.",o)}},async removerTodas(){$q.dialog({cancel:"Cancelar",message:"Esta a\xE7\xE3o ir\xE1 remover as etiquetas da lista.",ok:"Continuar",title:"Tem certeza?"}).onOk(async()=>{try{for(const e of this.lista)await $db.etiqueta.remover(e.id);await this.listar(),$q.notify({message:"Etiquetas removidas com sucesso.",type:"positive"})}catch(e){this.$q.notifyError("Erro ao remover etiquetas.",e)}})},async abrirModalNovoItem(){this.modalNovoItem=!0},ImprimirLista(){let e="OptiSoul/";this.modeloImpressaoSelecionada==="etiqueta_generica_ajustavel"&&(e="");let o="";this.modeloImpressaoSelecionada==="EtiquetaFila"&&(o=`
            https://app.b15.com.br/imprimir/etiquetaFila
          `),this.modeloImpressaoSelecionada!=="EtiquetaFila"&&(o=`
            https://rel.storage.b15.com.br/Relatorios/${e}${this.modeloImpressaoSelecionada}.html
            ?rid=F3DAAA9EABE48D9843C4FF4B33FA3125
            &Banco=${this.clienteSistema.bancoDeDados}
            &URLServidor=${this.clienteSistema.urlServidor}
            &CodigoUsuario=${this.usuario.codigoUsuario}
            &EmBranco=${this.mainPular}
            &TabelaPreco=${this.tabelaPreco}
            &CodigoContatoEmpresa=${this.empresaSelecionada}
            &cpfUsuarioLogado=${this.usuario.cpf}
            &hfCodigoSistema={
              data:{
                CodigoUsuario:${this.usuario.codigoUsuario},
                CodigoSistema:${this.clienteSistema.codigoSistema},
                CodigoClienteSistema:${this.clienteSistema.codigoClienteSistema},
                Sistema:${this.clienteSistema.sistema},
                URLServidor:${this.clienteSistema.urlServidor},
                BancoDeDados:${this.clienteSistema.bancoDeDados},
                CodigoCliente:${this.clienteSistema.codigoCliente},
                Cliente:${this.clienteSistema.cliente},
                Administrador:${this.clienteSistema.administrador},
                GrupoInterno:${this.clienteSistema.grupoInterno}
              }
            }
          `),window.open(o.replace(/[\s\n]/g,""),"_blank").focus()},async incluirItem(e){const o=await $erp().item.get(e);!o||this.adicionar(o)},emEstoque(e){return`Em estoque ${e}`}},async created(){this.opcoesTabelasPrecoFull=await $db.itemTabelaPreco.le({ativo:!0,tabelaMaster:!0}),this.opcoesTabelasPreco=this.opcoesTabelasPrecoFull.map(i=>({rotulo:i.descricao,valor:i.codigoItemTabelaPreco}));let e=(await $db.contato.ler({filtros:{ativo:!0,empresas:!0}})).data;this.opcoesEmpresas=e.map(i=>({rotulo:i.nome,valor:i.codigoContato,id:i.id}));let o=await $db.configuracoes.le({nome:"impressao.etiqueta"});o.length?this.opcoesModeloImpressao=o.map(i=>({rotulo:i.texto,valor:i.valor})):this.opcoesModeloImpressao=[{rotulo:"Personaliz\xE1vel",valor:"etiqueta_generica_ajustavel"},{rotulo:"Folha Argox",valor:"etiqueta-fila"},{rotulo:"Folha Carta",valor:"etiqueta-carta"},{rotulo:"Folha Pimaco",valor:"EtiquetaPimaco6Col"},{rotulo:"Etiqueta Fila",valor:"EtiquetaFila"}],this.empresaSelecionada=this.opcoesEmpresas[0].valor,this.modeloImpressaoSelecionada=this.opcoesModeloImpressao[0].valor,this.tabelaPreco=this.opcoesTabelasPreco[0].valor;const r=(await $db.configuracoes.le()).filter(i=>i.nome==="item.estoque.ajuste").sort((i,t)=>i.texto.localeCompare(t.texto));this.opcoesPlanoConta=[{rotulo:"-",valor:""},...r.map(i=>({rotulo:(i.texto||"").trim(),valor:i.valor})),{rotulo:"Especificar Contas",valor:"0"}],await this.listar(),await this.configurarValores()}},uo=e=>(Xe("data-v-6b87315c"),e=e(),Ye(),e),mo={id:"ImprimirEtiquetas"},fo={class:"col-12 col-md-auto q-my-xs q-pl-none items-center"},po={class:"col-12 col-md q-my-xs"},ho={class:"col-12 col-md q-my-xs"},vo={class:"col col-md-auto q-my-xs"},go={class:"col-auto col-md-auto q-my-xs",style:{"min-width":"100px"}},bo={class:"hideondesktop"},Co={class:"text-tertiary q-col-gutter-xs"},wo=uo(()=>F("span",{class:"hideonmobile"},"Imprimir",-1));function Eo(e,o,r,i,t,s){const d=q("barraTopo"),m=q("campo"),u=q("g-col"),n=q("CampoInsertProdutoEtiqueta"),b=q("g-row"),N=q("g-label"),z=q("badge"),$=q("avatar"),U=q("row"),p=q("ModalNovoItem"),S=q("promptCodigoBarras");return v(),D("div",mo,[a(Oe,{elevated:"",class:"bg-gradiente text-white"},{default:l(()=>[a(d),a(te,{class:"q-px-sm"},{default:l(()=>[a(G,{name:"mdi-tag-plus",size:"sm",class:"q-mr-sm"}),a(ce,null,{default:l(()=>[g("Imprimir Etiquetas")]),_:1}),a(C,{onClick:s.abrirModalNovoItem,unelevated:"",icon:"add",label:"Entrada R\xE1pida",color:"primary","text-color":"white"},null,8,["onClick"])]),_:1}),a(te,{class:"bg-light text-tertiary q-px-none"},{default:l(()=>[a(b,{gutter:"sm",items:"center",width:"100%"},{default:l(()=>[a(u,{col:"12 sm3 md3"},{default:l(()=>[a(m,{modelValue:t.quantidade,"onUpdate:modelValue":o[0]||(o[0]=c=>t.quantidade=c),min:1,dense:"",outlined:"",tipo:"quantidade",rotulo:"Quantidade",color:"tertiary"},null,8,["modelValue"])]),_:1}),a(u,{col:"6 sm-grow"},{default:l(()=>[a(n,{onAddEtiqueta:s.adicionar,campo:t.campos.codigoBarras,ref:"campoInsertEtiqueta"},null,8,["onAddEtiqueta","campo"])]),_:1}),a(u,{col:"6 sm-shrink",class:"text-center"},{default:l(()=>[a(C,{onClick:s.abrirPromptCodigoBarras,icon:"mdi-barcode-scan",flat:"",round:"",color:"primary",size:"md"},null,8,["onClick"]),a(C,{onClick:s.removerTodas,label:"Limpar",color:"primary",flat:""},null,8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1}),a(Je,null,{default:l(()=>[a(He,null,{default:l(()=>[a(b,null,{default:l(()=>[t.lista.length===0?(v(),I(u,{key:0,col:"grow",class:"q-px-xs"},{default:l(()=>[a(b,{justify:"center",bg:"bg-white",minHeight:"calc(100vh - 210px)!important"},{default:l(()=>[a(u,{self:"center"},{default:l(()=>[a(N,{text:"caption center medium"},{default:l(()=>[g("Nenhum item a ser listado.")]),_:1})]),_:1})]),_:1})]),_:1})):(v(),I(u,{key:1,col:"grow",class:"q-px-xs"},{default:l(()=>[a(ie,{bordered:"",class:"bg-white q-mb-xs rounded-borders"},{default:l(()=>[(v(!0),D(H,null,W(t.lista,(c,V)=>(v(),D("div",{key:V,class:"itemHover"},[a(T,{"manual-focus":"",class:"q-py-sm q-px-xs items-center"},{default:l(()=>[a(w,{avatar:"",center:"",class:"mw80 hideonmobile"},{default:l(()=>[a(z,{cor:"tertiary",escuro:""},{default:l(()=>{var E;return[g(" #"+_((E=c==null?void 0:c.codigoItem)!=null?E:c==null?void 0:c.idItem.slice(-6)),1)]}),_:2},1024)]),_:2},1024),a(w,{clickable:""},{default:l(()=>[a(U,{class:"items-center q-col-gutter-x-sm q-mx-none"},{default:l(()=>{var E,k;return[F("div",fo,[a($,{imagem:(E=t.item[c.idItem])==null?void 0:E.imagem,tamanho:"40",rotulo:(k=t.item[c.idItem])==null?void 0:k.descricaoConcatenada,style:{display:"flex","align-self":"center"}},null,8,["imagem","rotulo"])]),F("div",po,[a(M,{class:"text-tertiary text-weight-bold"},{default:l(()=>{var h;return[g(_((h=t.item[c.idItem])==null?void 0:h.descricaoConcatenada),1)]}),_:2},1024),a(M,{caption:"",class:"text-tertiary"},{default:l(()=>{var h;return[g(_((h=t.item[c.idItem])==null?void 0:h.marca),1)]}),_:2},1024)]),F("div",ho,[a(M,{class:"full-width"},{default:l(()=>{var h;return[g(_((h=t.item[c.idItem])==null?void 0:h.grupo),1)]}),_:2},1024),a(M,{caption:"",class:"full-width"},{default:l(()=>{var h;return[g(_((h=t.item[c.idItem])==null?void 0:h.subGrupo),1)]}),_:2},1024)]),F("div",vo,[a(M,null,{default:l(()=>[a(m,{tipo:"quantidade",min:0,modelValue:c.quantidadeEtiquetas,"onUpdate:modelValue":[h=>c.quantidadeEtiquetas=h,h=>s.atualizar(c)],rotulo:"Quantidade",debounce:500,dense:"",outlined:"",color:"tertiary",avisoRotulo:s.emEstoque(t.item[c.idItem].quantidadeDisponivel),aviso:""},null,8,["modelValue","onUpdate:modelValue","avisoRotulo"])]),_:2},1024)]),F("div",go,[a(M,{caption:"",class:"text-right text-tertiary text-weight-bold"},{default:l(()=>[g(" R$ "+_(e.$filters.numero(c.valor,2))+" ",1),a(We,null,{default:l(()=>[g("Valor de venda")]),_:1})]),_:2},1024)]),F("div",bo,[a(C,{class:"buttons",color:"tertiary",dense:"",flat:"",icon:"delete",round:"",size:"md",onClick:h=>s.remover(c)},null,8,["onClick"])])]}),_:2},1024)]),_:2},1024),a(w,{side:"",top:"",class:"hideonmobile"},{default:l(()=>[F("div",Co,[a(C,{class:"buttons",color:"tertiary",dense:"",flat:"",icon:"delete",round:"",size:"md",onClick:E=>s.remover(c)},null,8,["onClick"])])]),_:2},1024)]),_:2},1024),a(Ge)]))),128))]),_:1})]),_:1}))]),_:1})]),_:1})]),_:1}),a(Ke,{class:"bg-light"},{default:l(()=>[a(b,{gutter:"sm",items:"center"},{default:l(()=>[a(u,{col:"6 sm-grow"},{default:l(()=>[a(m,{modelValue:t.modeloImpressaoSelecionada,"onUpdate:modelValue":o[1]||(o[1]=c=>t.modeloImpressaoSelecionada=c),opcoes:t.opcoesModeloImpressao,tipo:"seletor",rotulo:"Modelo",color:"tertiary",dense:"",outlined:""},null,8,["modelValue","opcoes"])]),_:1}),a(u,{col:"6 sm-grow"},{default:l(()=>[a(m,{modelValue:t.mainPular,"onUpdate:modelValue":o[2]||(o[2]=c=>t.mainPular=c),min:0,tipo:"quantidade",rotulo:"Pular",dense:"",outlined:"",color:"tertiary"},null,8,["modelValue"])]),_:1}),a(u,{col:"5 sm-grow"},{default:l(()=>[a(m,{modelValue:t.empresaSelecionada,"onUpdate:modelValue":o[3]||(o[3]=c=>t.empresaSelecionada=c),opcoes:t.opcoesEmpresas,tipo:"seletor",rotulo:"Empresa",dense:"",outlined:"",color:"tertiary"},null,8,["modelValue","opcoes"])]),_:1}),a(u,{col:"5 sm-grow"},{default:l(()=>[a(m,{modelValue:t.tabelaPreco,"onUpdate:modelValue":[o[4]||(o[4]=c=>t.tabelaPreco=c),s.tabelaPrecoSelecionada],dense:"",outlined:"",opcoes:t.opcoesTabelasPreco,tipo:"seletor",rotulo:"Tabela de Pre\xE7o",color:"tertiary"},null,8,["modelValue","onUpdate:modelValue","opcoes"])]),_:1}),a(u,{col:"2 sm-shrink text-center"},{default:l(()=>[a(C,{onClick:s.ImprimirLista,flat:"",color:"primary"},{default:l(()=>[a(G,{name:"print",size:"sm",class:"q-mr-xs"}),wo]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),a(p,{modelValue:t.modalNovoItem,"onUpdate:modelValue":o[5]||(o[5]=c=>t.modalNovoItem=c),onSalvar:s.incluirItem,onSalvarContinuar:s.incluirItem},null,8,["modelValue","onSalvar","onSalvarContinuar"]),a(S,{modelValue:t.promptCodigoBarras,"onUpdate:modelValue":o[6]||(o[6]=c=>t.promptCodigoBarras=c),onEscanear:s.onDetected,useQuagga:!0},null,8,["modelValue","onEscanear"])])}var _o=ae(co,[["render",Eo],["__scopeId","data-v-6b87315c"]]);export{_o as default};
