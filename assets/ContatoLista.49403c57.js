import{_ as me,r as _,aw as fe,o as c,p as S,f as a,w as t,S as y,T as d,j as x,k as u,H as U,d as f,e as p,P as re,bL as pe,F as P,u as z,aP as se,C,U as k,t as b,m as w,Q,bg as be,N as he,l as ne,cO as ge}from"./index.ccaea68c.js";import{X as R}from"./xlsx.ceadf290.js";import{L as ve}from"./lista.ebcb6766.js";import{m as ye}from"./ContatoModalFicha.33a2eb47.js";import{C as Ce}from"./ContatoCombinar.feb23146.js";import"./ContatoFicha.64127a8c.js";import"./Icone.eea608e5.js";import"./SeletorPais.10b66a50.js";import"./open-url.ab61c0ed.js";const ke={components:{Lista:ve,ContatoModalFicha:ye,ContatoCombinar:Ce},data(){return{usuario:{},mostrarFiltroVendedores:!1,width:0,mostrar:{barraTopo:!0,toolbarTitulo:!0,icone:"group",titulo:"Contatos",buscar:!0,filtroAvancado:!0,btnAjuda:!0,btnAtualizar:!0,btnNovo:!0,toolbarAcoes:!0,checkBox:!0,btnRemover:!0,btnRestaurar:!0,centralizaTabs:!1,btnDetalhes:!0,btnExportaXLS:!0,btnMenuMais:!0,toolbarAdicao:!1,bannerMsg:""},listaOriginal:[],lista:[],listaLayout:{},busca:"",detalhes:!1,checkBox:!1,tabSelecionada:{valor:""},tabs:[{valor:"Ativos",rotulo:"Ativos"},{valor:"Excluidos",rotulo:"Exclu\xEDdos"},{valor:"",rotulo:"Todos"}],filtrosOriginal:{},filtros:{nome:null,numeroDocumentoNacional:null,telefone:null,bairro:null,municipio:null,uf:null,grupo:null,segmento:null,idContatoVendedor:null},opcoesEstados:[{label:"Acre (AC)",value:"AC"},{label:"Alagoas (AL)",value:"AL"},{label:"Amap\xE1 (AP)",value:"AP"},{label:"Amazonas (AM)",value:"AM"},{label:"Bahia (BA)",value:"BA"},{label:"Cear\xE1 (CE)",value:"CE"},{label:"Distrito Federal (DF)",value:"DF"},{label:"Esp\xEDrito Santo (ES)",value:"ES"},{label:"Goi\xE1s (GO)",value:"GO"},{label:"Maranh\xE3o (MA)",value:"MA"},{label:"Mato Grosso (MT)",value:"MT"},{label:"Mato Grosso do Sul (MS)",value:"MS"},{label:"Minas Gerais (MG)",value:"MG"},{label:"Par\xE1 (PA)",value:"PA"},{label:"Para\xEDba (PB)",value:"PB"},{label:"Paran\xE1 (PR)",value:"PR"},{label:"Pernambuco (PE)",value:"PE"},{label:"Piau\xED (PI)",value:"PI"},{label:"Rio de Janeiro (RJ)",value:"RJ"},{label:"Rio Grande do Norte (RN)",value:"RN"},{label:"Rio Grande do Sul (RS)",value:"RS"},{label:"Rond\xF4nia (RO)",value:"RO"},{label:"Roraima (RR)",value:"RR"},{label:"Santa Catarina (SC)",value:"SC"},{label:"S\xE3o Paulo (SP)",value:"SP"},{label:"Sergipe (SE)",value:"SE"},{label:"Tocantins (TO)",value:"TO"}],opcoesGrupos:[],opcoesSegmento:[],opcoesVendedores:[],tiposEnderecos:[{label:"Principal",value:"Principal",icon:"star",color:"orange"},{label:"Cobran\xE7a",value:"Cobran\xE7a",icon:"attach_money"},{label:"Comercial",value:"Comercial",icon:"business"},{label:"Correspond\xEAncia",value:"Correspond\xEAncia",icon:"mail"},{label:"Entrega",value:"Entrega",icon:"local_shipping"},{label:"Instala\xE7\xE3o",value:"Instala\xE7\xE3o",icon:"build"},{label:"Residencial",value:"Residencial",icon:"store_mall_directory"},{label:"Outros",value:"Outros",icon:"location_city"}],tiposTelefones:[{label:"Principal",value:"Principal",icon:"star",color:"orange"},{label:"WhatsApp",value:"WhatsApp",icon:"mdi-whatsapp"},{label:"Celular",value:"Celular",icon:"phone_iphone"},{label:"Comercial",value:"Comercial",icon:"phone"},{label:"Fixo",value:"Fixo",icon:"phone"}],copiaEmail:"",paginacao:{atual:1,maximo:1,total:1,limite:25},combinarContatos:!1}},methods:{async atualizar(l){var o,m,V,i,n,g,L,F,v,q,I,O,T,B,A,e,D,s,h,M,J,X,H,W,Y,K,Z,$,ee,oe,ae,te,le;try{$q.loading.show(),this.listaLayout={};let{buscarDadosRecentes:ie}=l!=null?l:{},r={},E={};const ue=(o=this.paginacao)==null?void 0:o.limite,ce=(m=this.paginacao)==null?void 0:m.atual,de=["nome"];ie&&(r=await $utils.localIDB.getItem({objectStore:"dadosRecentes",id:"ContatoLista_"+((V=this.usuario)==null?void 0:V.id)}),r!=null&&r._id&&(this.tabSelecionada.valor=r==null?void 0:r.tabSelecionada,this.busca=(r==null?void 0:r.busca)||"",this.filtros={nome:((i=r==null?void 0:r.filtros)==null?void 0:i.nome)||null,numeroDocumentoNacional:((n=r==null?void 0:r.filtros)==null?void 0:n.numeroDocumentoNacional)||null,telefone:((g=r==null?void 0:r.filtros)==null?void 0:g.telefone)||null,bairro:((L=r==null?void 0:r.filtros)==null?void 0:L.bairro)||null,municipio:((F=r==null?void 0:r.filtros)==null?void 0:F.municipio)||null,uf:((v=r==null?void 0:r.filtros)==null?void 0:v.uf)||null,grupo:((q=r==null?void 0:r.filtros)==null?void 0:q.grupo)||null,segmento:((I=r==null?void 0:r.filtros)==null?void 0:I.segmento)||null,idContatoVendedor:((O=r==null?void 0:r.filtros)==null?void 0:O.idContatoVendedor)||null},this.paginacao.atual=(r==null?void 0:r.page)||1,this.paginacao.limite=(r==null?void 0:r.limit)||25,this.compareObject(this.filtrosOriginal,this.filtros,["ativo"])&&(this.$refs.contatoLista.filtros=!0))),this.busca=((T=this.busca)==null?void 0:T.trim())||"",this.filtros={termoBusca:this.busca,nome:(A=(B=this.filtros)==null?void 0:B.nome)==null?void 0:A.trim(),numeroDocumentoNacional:(D=(e=this.filtros)==null?void 0:e.numeroDocumentoNacional)==null?void 0:D.trim(),telefone:(h=(s=this.filtros)==null?void 0:s.telefone)==null?void 0:h.trim(),bairro:(J=(M=this.filtros)==null?void 0:M.bairro)==null?void 0:J.trim(),municipio:(H=(X=this.filtros)==null?void 0:X.municipio)==null?void 0:H.trim(),uf:(Y=(W=this.filtros)==null?void 0:W.uf)==null?void 0:Y.trim(),grupo:(Z=(K=this.filtros)==null?void 0:K.grupo)==null?void 0:Z.trim(),segmento:(ee=($=this.filtros)==null?void 0:$.segmento)==null?void 0:ee.trim(),idContatoVendedor:(oe=this.filtros)==null?void 0:oe.idContatoVendedor},this.filtros=$utils.eliminarVazios(this.filtros),delete this.filtros.ativo,this.tabSelecionada.valor==="Ativos"&&(this.filtros.ativo=!0),this.tabSelecionada.valor==="Excluidos"&&(this.filtros.ativo=!1),E=$utils.clonarV2(this.filtros),/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/.test(this.busca)&&(delete E.termoBusca,E.id=this.busca),E.somenteCarteira=!0;let N=await $db.contato.ler({filtros:E,limit:ue,page:ce,sort:de});for(const G of N.data){const j=await $db.contato.leCompletoV3(G.id);j.detalhes=!1,j.remover=!1,this.listaLayout[G.id]=j}this.listaOriginal=$utils.clonar(N.data),this.lista=$utils.clonar(N.data),this.paginacao.total=N.total,this.paginacao.maximo=N.totalPages,r={_id:"ContatoLista_"+((ae=this.usuario)==null?void 0:ae.id),tabSelecionada:this.tabSelecionada.valor,busca:this.busca,filtros:$utils.clonar(this.filtros),page:(te=this.paginacao)==null?void 0:te.atual,limit:(le=this.paginacao)==null?void 0:le.limite},await $utils.localIDB.setItem({objectStore:"dadosRecentes",data:r})}catch{$q.notify({message:"N\xE3o foi possivel carregar os contatos.",type:"negative"})}finally{$q.loading.hide()}},async limparFiltrosClick(){this.filtros=$utils.clonar(this.filtrosOriginal),await this.atualizar()},async configurarGrupos(){try{const l=await $db.contato.leGruposUnicos();this.opcoesGrupos=l.map(o=>({label:o.descricao,value:o.descricao}))}catch{$q.notify({message:"N\xE3o foi possivel carregar os grupos.",type:"negative"})}},async configurarSegmento(){try{await $db.contato.carregarMemoria();const l=Array.from(new Set($db.contato.contatos.filter(o=>o.segmento).map(o=>o.segmento)));this.opcoesSegmento=l.map(o=>({label:o,value:o}))}catch{$q.notify({message:"N\xE3o foi possivel carregar segmentos.",type:"negative"})}},async configurarVendedores(){(await $db.contato.ler({filtros:{ativo:!0,vendedores:!0}})).data.forEach(o=>{this.opcoesVendedores.push({label:o.nome,value:o.id})})},async criarClick(){this.$refs.contatoFicha.show({id:""})},checkBoxClick(){for(let l of this.lista)this.listaLayout[l.id].remover=this.checkBox;this.checkBox=!this.checkBox},async restaurarClick(){$q.dialog({title:"Restaurar itens",message:"Deseja restaurar todos os itens selecionados?",ok:{label:"Sim",class:"bg-negative",textColor:"white",push:!0,flat:!0},cancel:{label:"N\xE3o",color:"tertiary",push:!0,flat:!0}}).onOk(async()=>{try{$q.loading.show();for(const l of this.lista)if(this.listaLayout[l.id].remover){const o=$utils.clonar(l);l.ativo=!0,await $db.contato.gravar({original:{contato:o},atual:{contato:l}})}this.checkBox=!1,$q.notify({message:"Os Contatos foram restaurados com sucesso!",type:"positive"})}catch{$q.notify({message:"Houve um erro ao restaurar os contatos. Tente novamente.",type:"negative"})}finally{$q.loading.hide()}setTimeout(async()=>{await this.atualizar()},500)})},async removerClick(){$q.dialog({title:"Remover contatos",message:"Deseja remover todos os contatos selecionados?",cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(async()=>{try{$q.loading.show();for(const l of this.lista)if(this.listaLayout[l.id].remover){const o=$utils.clonar(l);l.ativo=!1,await $db.contato.gravar({original:{contato:o},atual:{contato:l}})}this.checkBox=!1,$q.notify({message:"Os Contatos foram removidos com sucesso!",type:"positive"})}catch{$q.notify({message:"Houve um erro ao remover os contatos. Tente novamente.",type:"negative"})}finally{$q.loading.hide()}setTimeout(async()=>{await this.atualizar()},500)})},detalhesClick(){this.detalhes=!this.detalhes,this.lista.forEach(async l=>{await this.abrirDetalhes(l,this.detalhes)})},async abrirDetalhes(l,o){this.listaLayout[l.id].detalhes=o||!this.listaLayout[l.id].detalhes,this.listaLayout[l.id].detalhes&&await $db.contato.leCompleto(l.id)},async exportaXLSClick(){try{$q.loading.show();const l=$utils.eliminarVazios(this.filtros);delete l.ativo,this.tabSelecionada.valor==="Ativos"&&(l.ativo=!0),this.tabSelecionada.valaor==="Excluidos"&&(l.ativo=!1);const o=await $db.contato.leRefatorado({filtros:l,limit:999999,page:1,sort:"descricao"}),m=R.utils.book_new(),V=R.utils.json_to_sheet(o.data,{header:Object.keys(o.data[0])});R.utils.book_append_sheet(m,V,"contatos"),R.writeFile(m,"contatos.xlsx"),$q.notify({message:"Exporta\xE7\xE3o XLS concluida!",type:"positive"})}catch{$q.notify({message:"Erro ao exportar XLS.",type:"negative"})}finally{$q.loading.hide()}},async abrirItem(l){this.$router.replace({params:{id:l}}).finally(()=>{this.$refs.contatoFicha.show({id:l})})},abrirEdicaoCompleta(l){$q.dialog({title:"Contato cadastrado!",message:"Deseja abrir a edi\xE7\xE3o completa?",persistent:"Sim",ok:{label:"Sim",class:"bg-primary",textColor:"white",push:!0,flat:!0},cancel:{label:"N\xE3o",color:"tertiary",push:!0,flat:!0}}).onOk(async()=>{await this.abrirItem(l)})},async restaurarContato(l,o=!1){$q.dialog({title:"Restaurar contato",message:"Deseja restaurar este contato?",ok:{label:"Sim",class:"bg-negative",textColor:"white",push:!0,flat:!0},cancel:{label:"N\xE3o",color:"tertiary",push:!0,flat:!0}}).onOk(async()=>{try{$q.loading.show();let m=$utils.clonar(l);l.ativo=!0,o>-1&&this.lista.splice(o,1),await $db.contato.gravar({original:{contato:m},atual:{contato:l}}),$q.notify({message:"O contato foi restaurado com sucesso!",type:"positive"})}catch{$q.notify({message:"Ocorreu um erro ao restaurar contato.",type:"negative"})}finally{$q.loading.hide()}})},async removerContato(l,o=!1){$q.dialog({title:"Remover contato",message:"Ao continuar voc\xEA ir\xE1 remover este contato.",ok:{label:"Sim",class:"bg-negative",textColor:"white",push:!0,flat:!0},cancel:{label:"N\xE3o",color:"tertiary",push:!0,flat:!0}}).onOk(async()=>{try{$q.loading.show();const m=$utils.clonar(l);l.ativo=!1,o>-1&&this.lista.splice(o,1),await $db.contato.gravar({atual:{contato:l},original:{contato:m}}),$q.notify({message:"O Contato foi removido com sucesso!",type:"positive"})}catch{$q.notify({message:"Ocorreu um erro ao remover contato.",type:"negative"})}finally{$q.loading.hide()}})},copiarEmail(l){this.copiaEmail=l;const o=this.$refs.inputEmail;o.type="text",o.value=l;try{o.select(),document.execCommand("copy"),this.$q.notify({message:"Copiado!",type:"info"})}catch{this.$q.notify("Erro ao copiar.")}o.type="hidden",window.getSelection().removeAllRanges()},abrirTelefone(l,o){let m="";l==="tel"&&(m=`tel:55${o.replace(/[-\s()]/g,"")}`),l==="whatsapp"&&(m=`https://wa.me/55${o.replace(/[-\s()]/g,"")}`),m&&window.open(m,"_blank").focus()},enderecoIcone(l){const o=this.tiposEnderecos.find(m=>m.label===l)||{};return{color:o.color||"dark",name:o.icon||"store_mall_directory",size:"15px"}},telefoneIcone(l){const o=this.tiposTelefones.find(m=>m.label===l)||{};return{color:o.color||"dark",name:o.icon||"store_mall_directory",size:"15px"}},idade(l){let o=l;if(!o)return 0;o=new Date(o);const m=new Date(Date.now()-o.getTime());return Math.abs(m.getUTCFullYear()-1970)},onResize(){this.width=window.innerWidth},compareObject(l,o,m=[]){const V=Object.keys(l);for(const i of V)if(!m.includes(i)){if(typeof l[i]=="object"&&l[i]!==null){if(!this.compareObject(l[i],o[i],m))continue;return!0}else if(l[i]!==o[i])return!0}return!1},cpf_ou_cnpj(l){const o=l==null?void 0:l.replace(/[^\d]/g,"");return/^\d{11}$/.test(o)?"CPF":/^\d{14}$/.test(o)?"CNPJ":"Documento inv\xE1lido"}},async created(){this.usuario=JSON.parse(localStorage.getItem("usuario")),this.filtrosOriginal=$utils.clonar(this.filtros),this.mostrarFiltroVendedores=await $db.permissao.objeto("Diretiva_Contatos_AcessaTodosContatos"),this.mostrarFiltroVendedores&&await this.configurarVendedores(),await this.configurarSegmento(),await this.configurarGrupos(),await this.atualizar({buscarDadosRecentes:!0}),this.$route.params.id&&this.$route.params.id.length&&(this.abrirItem(this.$route.params.id),this.busca=this.$route.params.id,await this.atualizar())}},_e={id:"ContatoLista"},we={class:"mw80 text-center"};function xe(l,o,m,V,i,n){const g=_("campo"),L=_("BadgeCopiarUid"),F=_("avatar"),v=_("g-label"),q=_("g-col"),I=_("g-row"),O=_("Lista"),T=_("ContatoModalFicha"),B=_("ContatoCombinar"),A=fe("mask");return c(),S("div",_e,[a(O,{ref:"contatoLista",busca:i.busca,"onUpdate:busca":o[11]||(o[11]=e=>i.busca=e),checkBox:i.checkBox,"onUpdate:checkBox":o[12]||(o[12]=e=>i.checkBox=e),onAtualizar:n.atualizar,onCheckBoxClick:n.checkBoxClick,onCriarClick:n.criarClick,onDetalhesClick:n.detalhesClick,onExportaXLSClick:n.exportaXLSClick,onLimparFiltrosClick:n.limparFiltrosClick,onRemoverClick:n.removerClick,onRestaurarClick:n.restaurarClick,lista:i.lista,tabSelecionada:i.tabSelecionada,tabs:i.tabs,paginacao:i.paginacao,mostrar:i.mostrar},{menuExtras:t(()=>[a(y,{onClick:o[0]||(o[0]=()=>{this.combinarContatos=!0}),clickable:""},{default:t(()=>[a(d,{avatar:""},{default:t(()=>[a(x,{name:"compare_arrows"})]),_:1}),a(d,null,{default:t(()=>[u("Combinar Contato")]),_:1})]),_:1})]),filtroCampos:t(()=>[a(g,{modelValue:i.filtros.nome,"onUpdate:modelValue":o[1]||(o[1]=e=>i.filtros.nome=e),rotulo:"Nome ou Raz\xE3o Social",clearable:"",dense:"",class:"col-12 q-mt-md"},null,8,["modelValue"]),U(a(g,{modelValue:i.filtros.numeroDocumentoNacional,"onUpdate:modelValue":o[2]||(o[2]=e=>i.filtros.numeroDocumentoNacional=e),rotulo:"CPF/CNPJ",clearable:"",dense:"",class:"col-12 q-mt-lg"},null,8,["modelValue"]),[[A,["###.###.###-##","##.###.###/####-##"]]]),U(a(g,{modelValue:i.filtros.telefone,"onUpdate:modelValue":o[3]||(o[3]=e=>i.filtros.telefone=e),rotulo:"Telefone",clearable:"",dense:"",class:"col-12 q-mt-lg"},null,8,["modelValue"]),[[A,["(##) # ####-####"]]]),a(g,{modelValue:i.filtros.bairro,"onUpdate:modelValue":o[4]||(o[4]=e=>i.filtros.bairro=e),rotulo:"Bairro",clearable:"",dense:"",class:"col-12 q-mt-lg"},null,8,["modelValue"]),a(g,{modelValue:i.filtros.municipio,"onUpdate:modelValue":o[5]||(o[5]=e=>i.filtros.municipio=e),rotulo:"Munic\xEDpio",clearable:"",dense:"",class:"col-12 q-mt-lg"},null,8,["modelValue"]),a(g,{modelValue:i.filtros.uf,"onUpdate:modelValue":o[6]||(o[6]=e=>i.filtros.uf=e),options:i.opcoesEstados,clearable:"",dense:"",tipo:"seletor",rotulo:"Estado",class:"col-12 q-mt-lg"},null,8,["modelValue","options"]),a(g,{modelValue:i.filtros.segmento,"onUpdate:modelValue":o[7]||(o[7]=e=>i.filtros.segmento=e),options:i.opcoesSegmento,clearable:"",dense:"",tipo:"seletor",rotulo:"Segmento ou Profiss\xE3o",class:"col-12 q-mt-lg"},null,8,["modelValue","options"]),a(g,{modelValue:i.filtros.grupo,"onUpdate:modelValue":o[8]||(o[8]=e=>i.filtros.grupo=e),options:i.opcoesGrupos,clearable:"",dense:"",tipo:"seletor",rotulo:"Grupo",class:"col-12 q-mt-lg"},null,8,["modelValue","options"]),i.mostrarFiltroVendedores?(c(),f(g,{key:0,modelValue:i.filtros.idContatoVendedor,"onUpdate:modelValue":o[9]||(o[9]=e=>i.filtros.idContatoVendedor=e),options:i.opcoesVendedores,clearable:"",dense:"",tipo:"seletor",rotulo:"Vendedor ou Assistente",class:"col-12 q-mt-lg"},null,8,["modelValue","options"])):p("",!0),a(g,{modelValue:i.paginacao.limite,"onUpdate:modelValue":o[10]||(o[10]=e=>i.paginacao.limite=e),tipo:"quantidade",dense:"",rotulo:"Quantidade por p\xE1gina",min:"1",class:"col-12 q-mt-xl"},null,8,["modelValue"])]),itemLista:t(()=>[a(re,{bordered:"",class:"bg-white q-mb-xs rounded-borders"},{default:t(()=>[a(pe,{onResize:n.onResize},null,8,["onResize"]),(c(!0),S(P,null,z(i.lista,(e,D)=>(c(),S("div",{key:e.id,class:"itemHover"},[i.listaLayout[e.id]?(c(),f(y,{key:0,"manual-focus":"",clickable:"",class:"q-py-sm q-px-xs items-center"},{default:t(()=>[a(d,{class:"hideonmobile col-auto q-pr-sm no-margin"},{default:t(()=>[a(y,{class:"q-pa-none"},{default:t(()=>[a(d,{side:"",class:"col-auto q-pa-none"},{default:t(()=>[a(se,{modelValue:i.listaLayout[e.id].remover,"onUpdate:modelValue":s=>i.listaLayout[e.id].remover=s},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(d,{side:"",class:"col-auto q-pa-none"},{default:t(()=>[C("div",we,[a(L,{id:e.id,numero:e.codigoContato,cor:e.ativo?"positive":"tertiary",escuro:""},null,8,["id","numero","cor"])])]),_:2},1024)]),_:2},1024)]),_:2},1024),a(d,{class:"col-md col-lg col-xl no-margin"},{default:t(()=>[a(y,{class:"q-pa-none"},{default:t(()=>[a(d,{onClick:s=>n.abrirItem(e.id),class:"col-auto items-center"},{default:t(()=>[a(F,{imagem:e.photo,rotulo:e.nome,tamanho:"40",style:{display:"flex","align-self":"center"}},null,8,["imagem","rotulo"]),a(se,{modelValue:i.listaLayout[e.id].remover,"onUpdate:modelValue":s=>i.listaLayout[e.id].remover=s,class:"hideondesktop q-mt-md"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["onClick"]),a(d,{onClick:s=>n.abrirItem(e.id),class:"col"},{default:t(()=>[a(k,{lines:"2",class:"text-weight-bold"},{default:t(()=>[C("span",null,[u(b(e.apelido||e.nome)+" ",1),a(w,{anchor:"bottom middle",self:"center middle"},{default:t(()=>[u("Apelido/Fantasia")]),_:1})])]),_:2},1024),e.apelido&&e.apelido!==e.nome?(c(),f(k,{key:0,caption:"",lines:"2"},{default:t(()=>[C("span",null,[u(b(e.nome)+" ",1),a(w,{anchor:"bottom middle",self:"center middle"},{default:t(()=>[u("Nome/Raz\xE3o")]),_:1})])]),_:2},1024)):p("",!0),a(d,{class:"hideondesktop"},{default:t(()=>[C("div",null,[a(L,{id:e.id,numero:e.codigoContato,cor:e.ativo?"positive":"tertiary",escuro:"",class:"q-mt-xs"},null,8,["id","numero","cor"]),e.numeroDocumentoNacional?(c(),f(k,{key:0,caption:"",lines:"2",class:"text-weight-medium q-mt-xs"},{default:t(()=>[C("span",null,[u(b(e.numeroDocumentoNacional)+" ",1),a(w,{anchor:"bottom middle",self:"center middle"},{default:t(()=>[u("CPF/CNPJ")]),_:1})])]),_:2},1024)):p("",!0),e.numeroDocumentoEstadual?(c(),f(k,{key:1,caption:"",lines:"2",class:"q-mt-xs"},{default:t(()=>[C("span",null,[u(b(e.numeroDocumentoEstadual)+" ",1),a(w,{anchor:"bottom middle",self:"center middle"},{default:t(()=>[u("RG/IE")]),_:1})])]),_:2},1024)):p("",!0)])]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024),a(d,{onClick:s=>n.abrirItem(e.id),class:"hideonmobile maxw90 no-margin"},{default:t(()=>[a(k,{caption:"",class:"text-weight-medium"},{default:t(()=>[C("span",null,[u(b(l.$filters.data(e.dataAbertura))+" ",1),n.cpf_ou_cnpj(e.numeroDocumentoNacional)==="CPF"?(c(),f(w,{key:0,anchor:"bottom middle",self:"center middle"},{default:t(()=>[u(" Data Nascimento ")]),_:1})):p("",!0),n.cpf_ou_cnpj(e.numeroDocumentoNacional)==="CNPJ"?(c(),f(w,{key:1,anchor:"bottom middle",self:"center middle"},{default:t(()=>[u(" Data Funda\xE7\xE3o ")]),_:1})):p("",!0)])]),_:2},1024),n.cpf_ou_cnpj(e.numeroDocumentoNacional)==="CPF"?(c(),f(k,{key:0,caption:""},{default:t(()=>[u(b(n.idade(e.dataAbertura)>0?"Idade: "+n.idade(e.dataAbertura):""),1)]),_:2},1024)):p("",!0)]),_:2},1032,["onClick"]),a(d,{onClick:s=>n.abrirItem(e.id),class:"hideonmobile maxw130 no-margin"},{default:t(()=>[e.numeroDocumentoNacional?(c(),f(k,{key:0,caption:"",lines:"2",class:"text-weight-bold"},{default:t(()=>[C("span",null,[u(b(e.numeroDocumentoNacional)+" ",1),n.cpf_ou_cnpj(e.numeroDocumentoNacional)==="CPF"?(c(),f(w,{key:0,anchor:"bottom middle",self:"center middle"},{default:t(()=>[u(" CPF ")]),_:1})):p("",!0),n.cpf_ou_cnpj(e.numeroDocumentoNacional)==="CNPJ"?(c(),f(w,{key:1,anchor:"bottom middle",self:"center middle"},{default:t(()=>[u(" CNPJ ")]),_:1})):p("",!0)])]),_:2},1024)):p("",!0),e.numeroDocumentoEstadual?(c(),f(k,{key:1,caption:"",lines:"2"},{default:t(()=>[C("span",null,[u(b(e.numeroDocumentoEstadual)+" ",1),a(w,{anchor:"bottom middle",self:"center middle"},{default:t(()=>[u("RG/IE")]),_:1})])]),_:2},1024)):p("",!0)]),_:2},1032,["onClick"]),a(d,{class:"col-auto q-pl-sm no-margin"},{default:t(()=>[a(y,{class:"q-pa-none"},{default:t(()=>[a(d,{class:"hideonmobile no-margin"},{default:t(()=>[i.listaLayout[e.id]?(c(),f(Q,{key:0,onClick:s=>n.abrirDetalhes(e),flat:"",dense:"",round:"",size:"md",icon:i.listaLayout[e.id].detalhes?"keyboard_arrow_up":"keyboard_arrow_down"},null,8,["onClick","icon"])):p("",!0)]),_:2},1024),a(d,{class:"hideonmobile no-margin"},{default:t(()=>[a(Q,{onClick:s=>n.abrirItem(e.id),class:"hideonmobile",icon:"edit",size:"md",color:"primary",flat:"",dense:"",round:""},null,8,["onClick"])]),_:2},1024),a(d,{class:"no-margin"},{default:t(()=>[a(Q,{icon:"more_vert",size:"md",round:"",flat:"",dense:""},{default:t(()=>[a(be,null,{default:t(()=>[U((c(),f(re,{link:"","no-border":"",separator:""},{default:t(()=>{var s;return[a(y,{onClick:h=>n.abrirDetalhes(e),clickable:"",class:"hideondesktop"},{default:t(()=>[a(d,{avatar:""},{default:t(()=>[a(x,{name:i.listaLayout[e.id].detalhes?"keyboard_arrow_up":"keyboard_arrow_down",size:"sm"},null,8,["name"])]),_:2},1024),a(d,null,{default:t(()=>[u("Detalhes")]),_:1})]),_:2},1032,["onClick"]),a(y,{onClick:h=>n.abrirItem(e.id),clickable:"",class:"hideondesktop"},{default:t(()=>[a(d,{avatar:""},{default:t(()=>[a(x,{name:"edit",size:"sm"})]),_:1}),a(d,null,{default:t(()=>[u("Editar")]),_:1})]),_:2},1032,["onClick"]),i.listaLayout[e.id].telefone.length?(c(!0),S(P,{key:0},z(i.listaLayout[e.id].telefone,h=>(c(),f(y,{key:h,clickable:"",class:"q-pa-none"},{default:t(()=>[a(d,{onClick:M=>n.abrirTelefone("tel",h.telefone),class:"no-padding itemHover"},{default:t(()=>[a(y,null,{default:t(()=>[a(d,{avatar:"",class:"no-padding"},{default:t(()=>[a(x,{name:"phone",size:"sm"})]),_:1}),a(d,{class:"no-padding"},{default:t(()=>[a(k,null,{default:t(()=>[u(b(h.telefone),1)]),_:2},1024),a(k,{caption:""},{default:t(()=>[u(b(h.tipoTelefone),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]),h.tipoTelefone==="Celular"||h.tipoTelefone==="WhatsApp"?(c(),f(d,{key:0,onClick:M=>n.abrirTelefone("whatsapp",h.telefone),side:"",class:"no-padding itemHover"},{default:t(()=>[a(x,{name:"mdi-whatsapp",size:"sm",class:"q-px-sm"})]),_:2},1032,["onClick"])):p("",!0)]),_:2},1024))),128)):p("",!0),(s=e==null?void 0:e.email)!=null&&s.length?(c(),f(y,{key:1,onClick:h=>n.copiarEmail(e.email),clickable:""},{default:t(()=>[a(d,{avatar:""},{default:t(()=>[a(x,{name:"email",size:"sm"})]),_:1}),a(d,null,{default:t(()=>[u(" Enviar por E-mail ")]),_:1})]),_:2},1032,["onClick"])):p("",!0),e.ativo?(c(),f(y,{key:2,clickable:"",onClick:h=>n.removerContato(e,D)},{default:t(()=>[a(d,{avatar:""},{default:t(()=>[a(x,{name:"delete",size:"sm"})]),_:1}),a(d,null,{default:t(()=>[u("Remover")]),_:1})]),_:2},1032,["onClick"])):p("",!0),e.ativo?p("",!0):(c(),f(y,{key:3,clickable:"",onClick:h=>n.restaurarContato(e,D)},{default:t(()=>[a(d,{avatar:""},{default:t(()=>[a(x,{name:"restore_from_trash",size:"sm"})]),_:1}),a(d,null,{default:t(()=>[u("Restaurar")]),_:1})]),_:2},1032,["onClick"]))]}),_:2},1024)),[[he]])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)):p("",!0),i.listaLayout[e.id]&&i.listaLayout[e.id].detalhes?(c(),f(ne,{key:1,class:"q-mx-sm"})):p("",!0),i.listaLayout[e.id]&&i.listaLayout[e.id].detalhes?(c(),f(I,{key:2,gutter:"md-x lg-y"},{default:t(()=>[a(q,{col:"xs12 sm6 md",bordered:""},{default:t(()=>[a(v,{caption:"",icon:"location_on 14px tertiary"},{default:t(()=>[u(" Local ")]),_:1}),(c(!0),S(P,null,z(i.listaLayout[e.id].endereco.filter(s=>s.logradouro),s=>(c(),f(v,{key:s.id,text:"medium",lines:"3",caption:i.width<=992,icon:`
                    ${n.enderecoIcone(s.grupo).name}
                    ${n.enderecoIcone(s.grupo).size}
                    ${n.enderecoIcone(s.grupo).color}
                  `,class:"q-pl-md"},{default:t(()=>[u(b(s.logradouro)+" "+b(s.numero?", "+s.numero:"")+" "+b(s.complemento?", "+s.complemento:"")+" "+b(s.bairro?", "+s.bairro:"")+" "+b(s.municipio)+" "+b(s.uf?"-"+s.uf:"")+" "+b(s.cep?", CEP: "+s.cep:""),1)]),_:2},1032,["caption","icon"]))),128))]),_:2},1024),a(q,{col:"xs12 sm6 md",bordered:""},{default:t(()=>[a(v,{caption:"",icon:"phone 14px tertiary"},{default:t(()=>[u(" Telefones ")]),_:1}),(c(!0),S(P,null,z(i.listaLayout[e.id].telefone,s=>(c(),f(v,{key:s.id,text:"medium",lines:"2",caption:i.width<=992,icon:`
                    ${n.telefoneIcone(s.tipoTelefone).name}
                    ${n.telefoneIcone(s.tipoTelefone).size}
                    ${n.telefoneIcone(s.tipoTelefone).color}
                  `,class:"q-pl-md"},{default:t(()=>[u(b(s.telefone),1)]),_:2},1032,["caption","icon"]))),128)),a(v,{caption:"",icon:"email 14px tertiary"},{default:t(()=>[u(" E-mail ")]),_:1}),a(v,{caption:i.width<=992,text:"medium",class:"q-pl-md"},{default:t(()=>[u(b(e.email),1)]),_:2},1032,["caption"])]),_:2},1024),a(q,{col:"xs12 sm4 md",bordered:""},{default:t(()=>[a(v,{caption:"",icon:"local_offer 14px tertiary"},{default:t(()=>[u(" Segmento ")]),_:1}),e.segmento?(c(),f(v,{key:0,caption:i.width<=992,icon:"remove 14px tertiary left",text:"medium",class:"q-pl-md"},{default:t(()=>[u(b(e.segmento),1)]),_:2},1032,["caption"])):p("",!0)]),_:2},1024),a(q,{col:"xs12 sm4 md",bordered:""},{default:t(()=>[a(v,{caption:"",icon:"local_offer 14px tertiary"},{default:t(()=>[u(" Grupos ")]),_:1}),i.listaLayout[e.id].grupo?(c(!0),S(P,{key:0},z(i.listaLayout[e.id].grupo,s=>(c(),f(v,{key:s.id,caption:i.width<=992,icon:"remove 14px tertiary left",text:"medium",class:"q-pl-md"},{default:t(()=>[u(b(s.descricao),1)]),_:2},1032,["caption"]))),128)):p("",!0)]),_:2},1024)]),_:2},1024)):p("",!0),i.listaLayout[e.id]?(c(),f(ne,{key:3})):p("",!0)]))),128))]),_:1})]),_:1},8,["busca","checkBox","onAtualizar","onCheckBoxClick","onCriarClick","onDetalhesClick","onExportaXLSClick","onLimparFiltrosClick","onRemoverClick","onRestaurarClick","lista","tabSelecionada","tabs","paginacao","mostrar"]),a(T,{ref:"contatoFicha",onAtualizar:n.atualizar},null,8,["onAtualizar"]),a(B,{modelValue:i.combinarContatos,"onUpdate:modelValue":o[13]||(o[13]=e=>i.combinarContatos=e),onAtualizar:n.atualizar},null,8,["modelValue","onAtualizar"]),U(C("input",{type:"hidden","onUpdate:modelValue":o[14]||(o[14]=e=>i.copiaEmail=e),ref:"inputEmail"},null,512),[[ge,i.copiaEmail]])])}var Fe=me(ke,[["render",xe]]);export{Fe as default};
