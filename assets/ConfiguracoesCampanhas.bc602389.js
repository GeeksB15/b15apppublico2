import{_ as F,$ as R,r as A,o as x,p as z,C as E,f as e,w as a,k as s,F as D,u as U,d as q,s as $,j as w,t as N,Q as h,e as V,v as P,K as Q,z as M,h as J,i as L,H as T,N as H,d6 as O,D as I}from"./index.3e77a1c7.js";import{g as W,a as K,b as Y}from"./g-label.1fb7fc67.js";import{s as G}from"./selecaoContaWhatsapp.5be3b9ee.js";const S="v2024.0902",X={components:{BadgeCopiarUid:R,"g-row":W,"g-col":K,"g-label":Y,selecaoContaWhatsapp:G},data(){return{campanha:{aniversario:[{ativo:!1,mensagem:"",whatsConexao:null,arquivo:{id:null,nome:""}}],receitaVencida:[{ativo:!1,mensagem:"",whatsConexao:null}],posVenda:[{ativo:!1,mensagem:"",dias:"",whatsConexao:null}],posVendaEnvelope:[{ativo:!1,mensagem:"",dias:"",whatsConexao:null}],cobranca:[{ativo:!1,mensagem:"",dias:"",whatsConexao:null}]},campanhaAnexos:[],sistemaPai:null,visivel:!1,telaVisivel:!1}},methods:{async getConfiguracoes(){await $tryLoading(async()=>{var p;const r={aniversario:[{arquivo:{id:null,nome:""},ativo:!1,mensagem:"",whatsConexao:""}],receitaVencida:[{arquivo:{id:null,nome:""},ativo:!1,mensagem:"",whatsConexao:""}],posVenda:[{arquivo:{id:null,nome:""},ativo:!1,dias:0,mensagem:"",whatsConexao:""}],posVendaEnvelope:[{arquivo:{id:null,nome:""},ativo:!1,mensagem:"",dias:0,whatsConexao:""}],cobranca:[{arquivo:{id:null,nome:""},ativo:!1,mensagem:"",dias:0,whatsConexao:""}]},o=JSON.parse(((p=(await $utils.geeksApi({campanhaConfigLer:{funcao:"731956A6-CAD8-474E-8C88-5BD77F755B33"}})).data.campanhaConfigLer)==null?void 0:p.json)||"{}");let i=o;(o==null?void 0:o.versao)!==S&&(i=this.validarJson(o)),this.campanha={...r,...i},this.telaVisivel=!0},{mensagem:"Carregando configura\xE7\xF5es..."})},async salvarConfiguracoes(){try{this.campanha.versao=S;const r=await this.$utils.geeksApi({upinsert:{funcao:"5E40D7B0-13BB-452A-AF19-58AC49F024CA",...this.campanha}});$q.notifyPositive("Campanhas salvas com sucesso!")}catch(r){console.error(r.message),this.$q.notifyError("N\xE3o foi poss\xEDvel salvar as altera\xE7\xF5es.")}},async anexar(r){const i={arquivo:await this.toBase64(r[0]),nome:r[0].name,id:$utils.uuid(),tipoArquivo:"campanhaAnexo",idTabelaMaster:this.campanha.id,dataCriacao:await this.formatDate(new Date($utils.dataAtual()))};await $db.arquivo.gravaOnline(i),this.campanha[this.propCampanha][this.indiceAnexo].arquivo={id:i.id,nome:i.nome},this.visivel=!1,await this.salvarConfiguracoes()},toBase64(r){return new Promise((o,i)=>{const p=new FileReader;p.readAsDataURL(r),p.onload=()=>o(p.result),p.onerror=f=>i(f)})},async anexoLer(){const o=(await $utils.geeksApi({get:{funcao:"69EF7937-5BBD-4228-A5B3-1CD78310B834"}})).data.get;let i=[];return o&&i.push({id:o.id,json:JSON.parse(o.json)}),i},async anexoDownload(r,o,i){const p=this.campanha[r][i].arquivo.nome.split(".").pop(),f=`${this.bancoDeDados}/campanhaAnexo/${this.campanha.id}/${o}.${p}`,d=await this.toBase64(await $db.arquivo.le({name:f}));let g=document.createElement("a");g.href=d,g.download=this.campanha[r][i].arquivo.nome,g.click()},async anexoRemove(r,o,i){this.$q.dialog({cancel:{label:"Manter",push:!0,color:"tertiary",flat:!0},title:"Tem certeza?",message:"Ao continuar voc\xEA ir\xE1 perder esse anexo.",ok:{label:"Continuar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(async()=>{try{this.$q.loading.show();const p=this.campanha[r][i].arquivo.nome,f=this.campanha[r][i].arquivo.nome.split(".").pop(),g={name:`${this.bancoDeDados}/campanhaAnexo/${this.campanha.id}/${o}.${f}`};await $db.arquivo.removeOnline(g),this.campanha[r][i].arquivo={id:null,nome:""},$q.notifyPositive(`Anexo "${p}" removido com sucesso.`),await this.salvarConfiguracoes(),await this.getConfiguracoes()}catch(p){console.error(`Ocorreu um erro ao excluir a imagem: ${p}`),$q.notifyError(`Ocorreu um erro ao excluir a imagem: ${p.message}`)}finally{this.$q.loading.hide()}})},async anexoSubstituir(r,o,i,p){this.$q.dialog({title:"Tem certeza?",message:"Ao continuar voc\xEA ir\xE1 substituir o anexo atual.",cancel:{label:"Manter",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,textColor:"primary",flat:!0}}).onOk(async()=>{try{this.$q.loading.show();const f=this.campanha[r][i].arquivo.nome,d=this.campanha[r][i].arquivo.nome.split(".").pop(),l={name:`${this.bancoDeDados}/campanhaAnexo/${this.campanha.id}/${o}.${d}`};await $db.arquivo.removeOnline(l),this.campanha[r][i].arquivo={id:null,nome:""},await this.abrirArquivo(p)}catch(f){console.error(`Ocorreu um erro ao excluir a imagem atual: ${f}`),$q.notifyError(`Ocorreu um erro ao excluir a imagem atual: ${f.message}`)}finally{this.$q.loading.hide()}}).onCancel(()=>{this.$refs.upload.value=""})},uploadClick(r,o){this.propCampanha=r,this.indiceAnexo=o,this.$refs.upload.click()},async abrirArquivo(r){const o=this.campanha[this.propCampanha][this.indiceAnexo].arquivo.id||null;if(o){await this.anexoSubstituir(this.propCampanha,o,this.indiceAnexo,r);return}const i=this.$refs.upload.files;if(FileReader&&i&&i.length){var p=new FileReader;p.onload=()=>{},p.readAsDataURL(i[0]),await this.anexar(i)}},async adicionarCampanha(r){(r==="aniversario"||r==="receitaVencida")&&this.campanha[r].push({arquivo:{id:null,nome:""},ativo:!1,mensagem:"",whatsConexao:this.clienteSistema.bancoDeDados}),r!=="aniversario"&&r!=="receitaVencida"&&this.campanha[r].push({arquivo:{id:null,nome:""},ativo:!1,dias:0,mensagem:"",whatsConexao:this.clienteSistema.bancoDeDados})},async removerCampanha(r,o){$q.dialog({title:"Remover",message:"Ao continuar voc\xEA ir\xE1 remover este item.",cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(()=>{try{r.splice(o,1)}catch(i){i.message&&$q.notifyError("Ocorreu um erro ao remover item",i)}})},async whatsAlterarConta(r,o,i){this.campanha[o][i].whatsConexao=r},async formatDate(r){if(!(r instanceof Date))throw new Error('Argumento "data" inv\xE1lido. Voc\xEA deve passar uma inst\xE2ncia de data');const o=r.getFullYear(),i=String(r.getMonth()+1).padStart(2,"0");return`${String(r.getDate()).padStart(2,"0")}/${i}/${o}`},validarJson(r){var p,f,d,g,l,B,k,y,_;if(!r)throw new Error("JSON Inv\xE1lido.");const o={aniversario:["dias"],receitaVencida:["dias"]},i={};for(const u in r){if(Array.isArray(r[u]))r[u].length&&(i[u]=r[u].map(c=>({arquivo:c.arquivo||{id:null,nome:""},ativo:c.ativo||!1,dias:c.dias||0,mensagem:c.mensagem||"",whatsConexao:c.whatsConexao.value||c.whatsConexao||null})));else if(typeof r[u]=="object")i[u]=[{arquivo:{id:((f=(p=r[u])==null?void 0:p.arquivo)==null?void 0:f.id)||null,nome:((g=(d=r[u])==null?void 0:d.arquivo)==null?void 0:g.nome)||""},ativo:((l=r[u])==null?void 0:l.ativo)||!1,dias:((B=r[u])==null?void 0:B.dias)||0,mensagem:((k=r[u])==null?void 0:k.mensagem)||"",whatsConexao:((_=(y=r[u])==null?void 0:y.whatsConexao)==null?void 0:_.value)||null}];else if(typeof r[u]=="string"||typeof r[u]=="number")i[u]=r[u];else throw new Error("Formato de JSON desconhecido.");o[u]&&i[u]&&i[u].forEach(c=>{o[u].forEach(v=>delete c[v])})}return i.versao=S,i}},async created(){this.clienteSistema=JSON.parse(await localStorage.getItem("clienteSistema"))||{},await this.getConfiguracoes(),this.sistemaPai=$utils.sistemaPai(),this.bancoDeDados=localStorage.getItem("bancoDeDados")}},Z={key:0,class:"u-container"};function j(r,o,i,p,f,d){const g=A("g-label"),l=A("g-col"),B=A("ajuda"),k=A("campo"),y=A("selecaoContaWhatsapp"),_=A("BadgeCopiarUid"),u=A("g-row"),c=A("badge");return x(),z(D,null,[f.telaVisivel?(x(),z("div",Z,[E("input",{ref:"upload",type:"file",onChange:o[0]||(o[0]=(...v)=>d.abrirArquivo&&d.abrirArquivo(...v)),style:{visibility:"hidden"}},null,544),e(u,{gutter:"md",mg:"md-y",bg:"bg-white",bordered:"","rounded-borders":""},{default:a(()=>{var v,C;return[e(l,{col:"6"},{default:a(()=>[e(g,{text:"h6"},{default:a(()=>o[8]||(o[8]=[s("Aniversariantes")])),_:1})]),_:1}),e(l,{col:"6",text:"right"},{default:a(()=>[e(B)]),_:1}),e(l,{col:"12"},{default:a(()=>[(x(!0),z(D,null,U(f.campanha.aniversario,(t,m)=>(x(),q(u,{gutter:"md",key:"aniversario"+m,items:"top",mg:"lg-b",bg:"bg-light","rounded-borders":""},{default:a(()=>[e(l,{col:"6 sm-shrink",order:"0 sm0"},{default:a(()=>[e(k,{modelValue:t.ativo,"onUpdate:modelValue":n=>t.ativo=n,tipo:"logico",dense:"",style:{"margin-bottom":"3.7px"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(l,{col:"12 sm-grow",order:"2 sm1"},{default:a(()=>[e(u,null,{default:a(()=>[e(l,{col:"grow"},{default:a(()=>[e(y,{conta:t==null?void 0:t.whatsConexao,onAtualizarConexao:n=>d.whatsAlterarConta(n,"aniversario",m),standard:""},null,8,["conta","onAtualizarConexao"])]),_:2},1024),e(l,{col:"12"},{default:a(()=>[e($,{modelValue:t.mensagem,"onUpdate:modelValue":n=>t.mensagem=n,type:"textarea",label:"Mensagem",rows:"3",dense:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(l,{col:"12"},{default:a(()=>[e(g,{onClick:n=>d.uploadClick("aniversario",m),text:"medium center",class:"cursor-pointer itemHover",bordered:""},{default:a(()=>[e(w,{name:"image",size:"xs"}),o[9]||(o[9]=s(" Anexos ")),e(w,{name:"add",size:"xs",right:""})]),_:2},1032,["onClick"]),t.arquivo.id?(x(),q(u,{key:0,gutter:"none-x none-y",mg:"sm-t",items:"center","no-wrap":"",bordered:"bottom"},{default:a(()=>[e(l,{col:"shrink",text:"center"},{default:a(()=>{var n,b;return[e(_,{id:(n=t.arquivo.id)!=null?n:"",numero:((b=t.arquivo.id)!=null?b:"").slice(-8),cor:"positive"},null,8,["id","numero"])]}),_:2},1024),e(l,{col:"xs",onClick:n=>d.anexoDownload("aniversario",t.arquivo.id,m)},{default:a(()=>[e(g,{text:"bold",lines:"1",class:"q-mx-xs cursor-pointer"},{default:a(()=>[s(N(t.arquivo.nome),1)]),_:2},1024)]),_:2},1032,["onClick"]),e(l,{col:"shrink"},{default:a(()=>[e(h,{onClick:n=>d.anexoRemove("aniversario",t.arquivo.id,m),icon:"delete",size:"md",color:"tertiary",round:"",flat:"",dense:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024)):V("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(l,{col:"6 sm-shrink",order:"1 sm2",text:"right"},{default:a(()=>[e(h,{onClick:n=>d.removerCampanha(this.campanha.aniversario,m),icon:"remove",round:"",size:"sm",color:"negative",outline:"",dense:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(l,{col:"12",class:P([((C=(v=f.campanha)==null?void 0:v.aniversario)==null?void 0:C.length)>0?"lg-t-ng":"","q-mb-md"])},{default:a(()=>[e(g,{text:"caption"},{default:a(()=>[o[14]||(o[14]=s(" Voc\xEA pode usar os seguintes argumentos na mensagem para deixar ainda mais personalizado sua campanha: ")),e(c,{class:"q-mr-xs"},{default:a(()=>o[10]||(o[10]=[s("[Nome]")])),_:1}),e(c,{class:"q-mr-xs"},{default:a(()=>o[11]||(o[11]=[s("[PrimeiroNome]")])),_:1}),e(c,{class:"q-mr-xs"},{default:a(()=>o[12]||(o[12]=[s("[Apelido]")])),_:1}),e(c,{class:"q-mr-xs"},{default:a(()=>o[13]||(o[13]=[s("[PrimeiroApelido]")])),_:1})]),_:1})]),_:1},8,["class"]),e(l,{col:"12",text:"center"},{default:a(()=>[e(h,{onClick:o[1]||(o[1]=t=>d.adicionarCampanha("aniversario")),icon:"add",size:"sm",label:"Adicionar",color:"positive",outline:""})]),_:1})]}),_:1}),e(u,{gutter:"md",mg:"md-y",bg:"bg-white",bordered:"","rounded-borders":""},{default:a(()=>{var v,C;return[e(l,{col:"12"},{default:a(()=>[e(g,{text:"h6"},{default:a(()=>o[15]||(o[15]=[s("Cobran\xE7a")])),_:1})]),_:1}),e(l,{col:"12"},{default:a(()=>[(x(!0),z(D,null,U(f.campanha.cobranca,(t,m)=>(x(),q(u,{gutter:"md",key:"cobranca"+m,items:"top",mg:"lg-b",bg:"bg-light","rounded-borders":""},{default:a(()=>[e(l,{col:"6 sm-shrink",order:"0 sm0"},{default:a(()=>[e(k,{modelValue:t.ativo,"onUpdate:modelValue":n=>t.ativo=n,tipo:"logico",dense:"",style:{"margin-bottom":"3.7px"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(l,{col:"12 sm-grow",order:"2 sm1"},{default:a(()=>[e(u,null,{default:a(()=>[e(l,{col:"shrink sm3 md2"},{default:a(()=>[e(k,{modelValue:t.dias,"onUpdate:modelValue":n=>t.dias=n,min:0,tipo:"quantidade",rotulo:"Dias"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(l,{col:"grow"},{default:a(()=>[e(y,{conta:t==null?void 0:t.whatsConexao,onAtualizarConexao:n=>d.whatsAlterarConta(n,"cobranca",m),standard:""},null,8,["conta","onAtualizarConexao"])]),_:2},1024),e(l,{col:"12"},{default:a(()=>[e($,{modelValue:t.mensagem,"onUpdate:modelValue":n=>t.mensagem=n,type:"textarea",label:"Mensagem",rows:"3",dense:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(l,{col:"12"},{default:a(()=>[e(g,{onClick:n=>d.uploadClick("cobranca",m),text:"medium center",class:"cursor-pointer itemHover",bordered:""},{default:a(()=>[e(w,{name:"image",size:"xs"}),o[16]||(o[16]=s(" Anexos ")),e(w,{name:"add",size:"xs",right:""})]),_:2},1032,["onClick"]),t.arquivo.id?(x(),q(u,{key:0,gutter:"none-x none-y",mg:"sm-t",items:"center","no-wrap":"",bordered:"bottom"},{default:a(()=>[e(l,{col:"shrink",text:"center"},{default:a(()=>{var n,b;return[e(_,{id:(n=t.arquivo.id)!=null?n:"",numero:((b=t.arquivo.id)!=null?b:"").slice(-8),cor:"positive"},null,8,["id","numero"])]}),_:2},1024),e(l,{col:"xs",onClick:n=>d.anexoDownload("cobranca",t.arquivo.id,m)},{default:a(()=>[e(g,{text:"bold",lines:"1",class:"q-mx-xs cursor-pointer"},{default:a(()=>[s(N(t.arquivo.nome),1)]),_:2},1024)]),_:2},1032,["onClick"]),e(l,{col:"shrink"},{default:a(()=>[e(h,{onClick:n=>d.anexoRemove("cobranca",t.arquivo.id,m),icon:"delete",size:"md",color:"tertiary",round:"",flat:"",dense:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024)):V("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(l,{col:"6 sm-shrink",order:"1 sm2",text:"right"},{default:a(()=>[e(h,{onClick:n=>d.removerCampanha(this.campanha.cobranca,m),icon:"remove",round:"",size:"sm",color:"negative",outline:"",dense:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(l,{col:"12",class:P([((C=(v=f.campanha)==null?void 0:v.cobranca)==null?void 0:C.length)>0?"lg-t-ng":"","q-mb-md"])},{default:a(()=>[e(g,{text:"caption"},{default:a(()=>[o[25]||(o[25]=s(" Voc\xEA pode usar os seguintes argumentos na mensagem para deixar ainda mais personalizado sua campanha: ")),e(c,{class:"q-mr-xs"},{default:a(()=>o[17]||(o[17]=[s("[Nome]")])),_:1}),e(c,{class:"q-mr-xs"},{default:a(()=>o[18]||(o[18]=[s("[PrimeiroNome]")])),_:1}),e(c,{class:"q-mr-xs"},{default:a(()=>o[19]||(o[19]=[s("[Apelido]")])),_:1}),e(c,{class:"q-mr-xs"},{default:a(()=>o[20]||(o[20]=[s("[PrimeiroApelido]")])),_:1}),e(c,{class:"q-mr-xs"},{default:a(()=>o[21]||(o[21]=[s("[DataVencimento]")])),_:1}),e(c,{class:"q-mr-xs"},{default:a(()=>o[22]||(o[22]=[s("[Parcela]")])),_:1}),e(c,{class:"q-mr-xs"},{default:a(()=>o[23]||(o[23]=[s("[ValorOriginal]")])),_:1}),e(c,{class:"q-mr-xs"},{default:a(()=>o[24]||(o[24]=[s("[ValorAtualizado]")])),_:1})]),_:1})]),_:1},8,["class"]),e(l,{col:"12",text:"center"},{default:a(()=>[e(h,{onClick:o[2]||(o[2]=t=>d.adicionarCampanha("cobranca")),icon:"add",size:"sm",label:"Adicionar",color:"positive",outline:""})]),_:1})]}),_:1}),e(u,{gutter:"md",mg:"md-y",bg:"bg-white",bordered:"","rounded-borders":""},{default:a(()=>{var v,C;return[e(l,{col:"12"},{default:a(()=>[e(g,{text:"h6"},{default:a(()=>o[26]||(o[26]=[s("P\xF3s Venda")])),_:1})]),_:1}),e(l,{col:"12"},{default:a(()=>[(x(!0),z(D,null,U(f.campanha.posVenda,(t,m)=>(x(),q(u,{gutter:"md",key:"posVenda"+m,items:"top",mg:"lg-b",bg:"bg-light","rounded-borders":""},{default:a(()=>[e(l,{col:"6 sm-shrink",order:"0 sm0"},{default:a(()=>[e(k,{modelValue:t.ativo,"onUpdate:modelValue":n=>t.ativo=n,tipo:"logico",dense:"",style:{"margin-bottom":"3.7px"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(l,{col:"12 sm-grow",order:"2 sm1"},{default:a(()=>[e(u,null,{default:a(()=>[e(l,{col:"shrink sm3 md2"},{default:a(()=>[e(k,{modelValue:t.dias,"onUpdate:modelValue":n=>t.dias=n,min:0,tipo:"quantidade",rotulo:"Dias"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(l,{col:"grow"},{default:a(()=>[e(y,{conta:t==null?void 0:t.whatsConexao,onAtualizarConexao:n=>d.whatsAlterarConta(n,"posVenda",m),standard:""},null,8,["conta","onAtualizarConexao"])]),_:2},1024),e(l,{col:"12"},{default:a(()=>[e($,{modelValue:t.mensagem,"onUpdate:modelValue":n=>t.mensagem=n,type:"textarea",label:"Mensagem",rows:"3",dense:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(l,{col:"12"},{default:a(()=>[e(g,{onClick:n=>d.uploadClick("posVenda",m),text:"medium center",class:"cursor-pointer itemHover",bordered:""},{default:a(()=>[e(w,{name:"image",size:"xs"}),o[27]||(o[27]=s(" Anexos ")),e(w,{name:"add",size:"xs",right:""})]),_:2},1032,["onClick"]),t.arquivo.id?(x(),q(u,{key:0,gutter:"none-x none-y",mg:"sm-t",items:"center","no-wrap":"",bordered:"bottom"},{default:a(()=>[e(l,{col:"shrink",text:"center"},{default:a(()=>{var n,b;return[e(_,{id:(n=t.arquivo.id)!=null?n:"",numero:((b=t.arquivo.id)!=null?b:"").slice(-8),cor:"positive"},null,8,["id","numero"])]}),_:2},1024),e(l,{col:"xs",onClick:n=>d.anexoDownload("posVenda",t.arquivo.id,m)},{default:a(()=>[e(g,{text:"bold",lines:"1",class:"q-mx-xs cursor-pointer"},{default:a(()=>[s(N(t.arquivo.nome),1)]),_:2},1024)]),_:2},1032,["onClick"]),e(l,{col:"shrink"},{default:a(()=>[e(h,{onClick:n=>d.anexoRemove("posVenda",t.arquivo.id,m),icon:"delete",size:"md",color:"tertiary",round:"",flat:"",dense:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024)):V("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(l,{col:"6 sm-shrink",order:"1 sm2",text:"right"},{default:a(()=>[e(h,{onClick:n=>d.removerCampanha(this.campanha.posVenda,m),icon:"remove",round:"",size:"sm",color:"negative",outline:"",dense:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(l,{col:"12",class:P([((C=(v=f.campanha)==null?void 0:v.posVenda)==null?void 0:C.length)>0?"lg-t-ng":"","q-mb-md"])},{default:a(()=>[e(g,{text:"caption"},{default:a(()=>[o[32]||(o[32]=s(" Voc\xEA pode usar os seguintes argumentos na mensagem para deixar ainda mais personalizado sua campanha: ")),e(c,{class:"q-mr-xs"},{default:a(()=>o[28]||(o[28]=[s("[Nome]")])),_:1}),e(c,{class:"q-mr-xs"},{default:a(()=>o[29]||(o[29]=[s("[PrimeiroNome]")])),_:1}),e(c,{class:"q-mr-xs"},{default:a(()=>o[30]||(o[30]=[s("[Apelido]")])),_:1}),e(c,{class:"q-mr-xs"},{default:a(()=>o[31]||(o[31]=[s("[PrimeiroApelido]")])),_:1})]),_:1})]),_:1},8,["class"]),e(l,{col:"12",text:"center"},{default:a(()=>[e(h,{onClick:o[3]||(o[3]=t=>d.adicionarCampanha("posVenda")),icon:"add",size:"sm",label:"Adicionar",color:"positive",outline:""})]),_:1})]}),_:1}),f.sistemaPai==="optisoul"?(x(),q(u,{key:0,gutter:"md",mg:"md-y",bg:"bg-white",bordered:"","rounded-borders":""},{default:a(()=>{var v,C;return[e(l,{col:"12"},{default:a(()=>[e(g,{text:"h6"},{default:a(()=>o[33]||(o[33]=[s("P\xF3s Venda - Envelope")])),_:1})]),_:1}),e(l,{col:"12"},{default:a(()=>[(x(!0),z(D,null,U(f.campanha.posVendaEnvelope,(t,m)=>(x(),q(u,{gutter:"md",key:"posVendaEnvelope"+m,items:"top",mg:"lg-b",bg:"bg-light","rounded-borders":""},{default:a(()=>[e(l,{col:"6 sm-shrink",order:"0 sm0"},{default:a(()=>[e(k,{modelValue:t.ativo,"onUpdate:modelValue":n=>t.ativo=n,tipo:"logico",dense:"",style:{"margin-bottom":"3.7px"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(l,{col:"12 sm-grow",order:"2 sm1"},{default:a(()=>[e(u,null,{default:a(()=>[e(l,{col:"shrink sm3 md2"},{default:a(()=>[e(k,{modelValue:t.dias,"onUpdate:modelValue":n=>t.dias=n,min:0,tipo:"quantidade",rotulo:"Dias"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(l,{col:"grow"},{default:a(()=>[e(y,{conta:t==null?void 0:t.whatsConexao,onAtualizarConexao:n=>d.whatsAlterarConta(n,"posVendaEnvelope",m),standard:""},null,8,["conta","onAtualizarConexao"])]),_:2},1024),e(l,{col:"12"},{default:a(()=>[e($,{modelValue:t.mensagem,"onUpdate:modelValue":n=>t.mensagem=n,type:"textarea",label:"Mensagem",rows:"3",dense:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(l,{col:"12"},{default:a(()=>[e(g,{onClick:n=>d.uploadClick("posVendaEnvelope",m),text:"medium center",class:"cursor-pointer itemHover",bordered:""},{default:a(()=>[e(w,{name:"image",size:"xs"}),o[34]||(o[34]=s(" Anexos ")),e(w,{name:"add",size:"xs",right:""})]),_:2},1032,["onClick"]),t.arquivo.id?(x(),q(u,{key:0,gutter:"none-x none-y",mg:"sm-t",items:"center","no-wrap":"",bordered:"bottom"},{default:a(()=>[e(l,{col:"shrink",text:"center"},{default:a(()=>{var n,b;return[e(_,{id:(n=t.arquivo.id)!=null?n:"",numero:((b=t.arquivo.id)!=null?b:"").slice(-8),cor:"positive"},null,8,["id","numero"])]}),_:2},1024),e(l,{col:"xs",onClick:n=>d.anexoDownload("posVendaEnvelope",t.arquivo.id,m)},{default:a(()=>[e(g,{text:"bold",lines:"1",class:"q-mx-xs cursor-pointer"},{default:a(()=>[s(N(t.arquivo.nome),1)]),_:2},1024)]),_:2},1032,["onClick"]),e(l,{col:"shrink"},{default:a(()=>[e(h,{onClick:n=>d.anexoRemove("posVendaEnvelope",t.arquivo.id,m),icon:"delete",size:"md",color:"tertiary",round:"",flat:"",dense:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024)):V("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(l,{col:"6 sm-shrink",order:"1 sm2",text:"right"},{default:a(()=>[e(h,{onClick:n=>d.removerCampanha(this.campanha.posVendaEnvelope,m),icon:"remove",round:"",size:"sm",color:"negative",outline:"",dense:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(l,{col:"12",class:P([((C=(v=f.campanha)==null?void 0:v.posVendaEnvelope)==null?void 0:C.length)>0?"lg-t-ng":"","q-mb-md"])},{default:a(()=>[e(g,{text:"caption"},{default:a(()=>[o[39]||(o[39]=s(" Voc\xEA pode usar os seguintes argumentos na mensagem para deixar ainda mais personalizado sua campanha: ")),e(c,{class:"q-mr-xs"},{default:a(()=>o[35]||(o[35]=[s("[Nome]")])),_:1}),e(c,{class:"q-mr-xs"},{default:a(()=>o[36]||(o[36]=[s("[PrimeiroNome]")])),_:1}),e(c,{class:"q-mr-xs"},{default:a(()=>o[37]||(o[37]=[s("[Apelido]")])),_:1}),e(c,{class:"q-mr-xs"},{default:a(()=>o[38]||(o[38]=[s("[PrimeiroApelido]")])),_:1})]),_:1})]),_:1},8,["class"]),e(l,{col:"12",text:"center"},{default:a(()=>[e(h,{onClick:o[4]||(o[4]=t=>d.adicionarCampanha("posVendaEnvelope")),icon:"add",size:"sm",label:"Adicionar",color:"positive",outline:""})]),_:1})]}),_:1})):V("",!0),f.sistemaPai==="optisoul"?(x(),q(u,{key:1,gutter:"md",mg:"md-y",bg:"bg-white",bordered:"","rounded-borders":""},{default:a(()=>{var v,C;return[e(l,{col:"12"},{default:a(()=>[e(g,{text:"h6"},{default:a(()=>o[40]||(o[40]=[s("Receita Vencida")])),_:1})]),_:1}),e(l,{col:"12"},{default:a(()=>[(x(!0),z(D,null,U(f.campanha.receitaVencida,(t,m)=>(x(),q(u,{gutter:"md",key:"receitaVencida"+m,items:"top",mg:"lg-b",bg:"bg-light","rounded-borders":""},{default:a(()=>[e(l,{col:"6 sm-shrink",order:"0 sm0"},{default:a(()=>[e(k,{modelValue:t.ativo,"onUpdate:modelValue":n=>t.ativo=n,tipo:"logico",dense:"",style:{"margin-bottom":"3.7px"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(l,{col:"12 sm-grow",order:"2 sm1"},{default:a(()=>[e(u,null,{default:a(()=>[e(l,{col:"grow"},{default:a(()=>[e(y,{conta:t==null?void 0:t.whatsConexao,onAtualizarConexao:n=>d.whatsAlterarConta(n,"receitaVencida",m),standard:""},null,8,["conta","onAtualizarConexao"])]),_:2},1024),e(l,{col:"12"},{default:a(()=>[e($,{modelValue:t.mensagem,"onUpdate:modelValue":n=>t.mensagem=n,type:"textarea",label:"Mensagem",rows:"3",dense:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(l,{col:"12"},{default:a(()=>[e(g,{onClick:n=>d.uploadClick("receitaVencida",m),text:"medium center",class:"cursor-pointer itemHover",bordered:""},{default:a(()=>[e(w,{name:"image",size:"xs"}),o[41]||(o[41]=s(" Anexos ")),e(w,{name:"add",size:"xs",right:""})]),_:2},1032,["onClick"]),t.arquivo.id?(x(),q(u,{key:0,gutter:"none-x none-y",mg:"sm-t",items:"center","no-wrap":"",bordered:"bottom"},{default:a(()=>[e(l,{col:"shrink",text:"center"},{default:a(()=>{var n,b;return[e(_,{id:(n=t.arquivo.id)!=null?n:"",numero:((b=t.arquivo.id)!=null?b:"").slice(-8),cor:"positive"},null,8,["id","numero"])]}),_:2},1024),e(l,{col:"xs",onClick:n=>d.anexoDownload("receitaVencida",t.arquivo.id,m)},{default:a(()=>[e(g,{text:"bold",lines:"1",class:"q-mx-xs cursor-pointer"},{default:a(()=>[s(N(t.arquivo.nome),1)]),_:2},1024)]),_:2},1032,["onClick"]),e(l,{col:"shrink"},{default:a(()=>[e(h,{onClick:n=>d.anexoRemove("receitaVencida",t.arquivo.id,m),icon:"delete",size:"md",color:"tertiary",round:"",flat:"",dense:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024)):V("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(l,{col:"6 sm-shrink",order:"1 sm2",text:"right"},{default:a(()=>[e(h,{onClick:n=>d.removerCampanha(this.campanha.receitaVencida,m),icon:"remove",round:"",size:"sm",color:"negative",outline:"",dense:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(l,{col:"12",class:P([((C=(v=f.campanha)==null?void 0:v.receitaVencida)==null?void 0:C.length)>0?"lg-t-ng":"","q-mb-md"])},{default:a(()=>[e(g,{text:"caption"},{default:a(()=>[o[46]||(o[46]=s(" Voc\xEA pode usar os seguintes argumentos na mensagem para deixar ainda mais personalizado sua campanha: ")),e(c,{class:"q-mr-xs"},{default:a(()=>o[42]||(o[42]=[s("[Nome]")])),_:1}),e(c,{class:"q-mr-xs"},{default:a(()=>o[43]||(o[43]=[s("[PrimeiroNome]")])),_:1}),e(c,{class:"q-mr-xs"},{default:a(()=>o[44]||(o[44]=[s("[Apelido]")])),_:1}),e(c,{class:"q-mr-xs"},{default:a(()=>o[45]||(o[45]=[s("[PrimeiroApelido]")])),_:1})]),_:1})]),_:1},8,["class"]),e(l,{col:"12",text:"center"},{default:a(()=>[e(h,{onClick:o[5]||(o[5]=t=>d.adicionarCampanha("receitaVencida")),icon:"add",size:"sm",label:"Adicionar",color:"positive",outline:""})]),_:1})]}),_:1})):V("",!0)])):V("",!0),e(Q,{class:"bg-light no-shadow q-pa-sm text-right",bordered:""},{default:a(()=>[e(u,{gutter:"sm",class:"u-container"},{default:a(()=>[e(l,null,{default:a(()=>[e(h,{onClick:o[6]||(o[6]=v=>d.salvarConfiguracoes()),label:"Salvar",color:"primary","text-color":"text-white",unelevated:""})]),_:1})]),_:1})]),_:1}),e(I,{modelValue:f.visivel,"onUpdate:modelValue":o[7]||(o[7]=v=>f.visivel=v)},{default:a(()=>[e(M,null,{default:a(()=>[e(J,null,{default:a(()=>[e(L,null,{default:a(()=>o[47]||(o[47]=[s("Anexar")])),_:1}),T(e(h,{dense:"",flat:"",icon:"close",round:""},null,512),[[H]])]),_:1}),e(O,{"auto-expand":"",color:"none",class:"mobile-only",label:"Foto","hide-upload-btn":"","hide-upload-progress":"","dark-light":"",factory:d.anexar},null,8,["factory"]),e(O,{"auto-expand":"",color:"none",class:"mobile-hide",extensions:".jpg,.mp3,.mp4",label:"Anexo","hide-upload-btn":"","auto-upload":"","dark-light":"",factory:d.anexar},null,8,["factory"])]),_:1})]),_:1},8,["modelValue"])],64)}var te=F(X,[["render",j],["__scopeId","data-v-3223d7bd"]]);export{te as default};
