import{Q as R}from"./QSpinnerDots.5b54bed2.js";import{_ as F,p as v,o as l,i as u,w as d,f as c,K as Q,A as T,B as D,C as j,D as V,L as O,E as N,e as E,t as w,G as B,H as M,d as f,F as C,r as y,x as n,I as z,bm as L,y as U,ac as h,ag as W,bX as H,bY as X,an as J,bi as Y,bZ as G,l as m,b2 as K,b3 as Z,b6 as $,Q as ee,j as te,a4 as oe,W as se,X as re}from"./index.15b86ac9.js";import{Q as S,a as A}from"./QCarousel.294b0614.js";import{F as ae,B as ie,C as ne}from"./RodapeSite.323557f2.js";import"./open-url.c27520ac.js";import"./QBtnGroup.3651e066.js";const le={data(){return{estaAberto:!1,exibeBotaoAddNoCarrinho:!1,produto:{},produtosParaComprarJunto:{},urlsImagenId:null}},methods:{abrir(o,t,s,r,e){var a;this.urlsImagenId=((a=e[0])==null?void 0:a.id)||null,this.produto={...o,urlImagem:r,urlsImagen:e},this.produtosParaComprarJunto={...t},this.exibeBotaoAddNoCarrinho=s,this.estaAberto=!0,this.$emit("abriu",o.id)},salvarNoCarrinho(){this.$emit("salvarNoCarrinho",{produtoSelecionado:this.produto,outrosProdutos:this.produtosParaComprarJunto})}}},de=["src"];function ce(o,t,s,r,e,a){const x=v("g-col"),I=v("g-row");return l(),u(U,{modelValue:e.estaAberto,"onUpdate:modelValue":t[1]||(t[1]=g=>e.estaAberto=g),maximized:o.$q.platform.is.mobile,onHide:t[2]||(t[2]=g=>o.$emit("fechou"))},{default:d(()=>[c(Q,{view:"hHh LpR fFf",container:"",class:"bg-white"},{default:d(()=>[c(T,null,{default:d(()=>[c(D,null,{default:d(()=>[j(c(V,{icon:"arrow_back",flat:"",round:"",dense:""},null,512),[[O]]),c(N,null,{default:d(()=>[E(w(e.produto.descricao),1)]),_:1})]),_:1})]),_:1}),c(B,null,{default:d(()=>[c(M,null,{default:d(()=>{var g,q,k;return[((g=e.produto)==null?void 0:g.urlsImagen)&&((k=(q=e.produto)==null?void 0:q.urlsImagen)==null?void 0:k.length)?(l(),u(S,{key:0,modelValue:e.urlsImagenId,"onUpdate:modelValue":t[0]||(t[0]=b=>e.urlsImagenId=b),swipeable:"",navigation:"",arrows:"","transition-prev":"scale","transition-next":"scale",class:"no-shadow","control-color":"tertiary",style:{position:"absolute",width:"100%",height:"100%"}},{default:d(()=>{var b;return[(l(!0),f(C,null,y((b=e.produto)==null?void 0:b.urlsImagen,i=>(l(),u(A,{key:i.id,name:i.id,"img-src":i.url,class:"column no-wrap flex-center"},null,8,["name","img-src"]))),128))]}),_:1},8,["modelValue"])):(l(),u(I,{key:1,gutter:"md",items:"center",width:"100%",height:"100%",style:{position:"absolute"}},{default:d(()=>[c(x,null,{default:d(()=>{var b;return[n("img",{src:(b=e.produto)==null?void 0:b.urlImagem,style:{display:"block",width:"100%",margin:"0 auto"}},null,8,de)]}),_:1})]),_:1}))]}),_:1})]),_:1}),c(z,{class:"bg-transparent text-tertiary"},{default:d(()=>[c(D,{class:"text-h5 text-weight-bold border-top"},{default:d(()=>[c(L),n("span",null,"R$ "+w(o.$filters.numero(e.produto.valorVenda,2)),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"])}var ue=F(le,[["render",ce]]);const he={},pe=n("h5",null," IMAGEM DE CLUB INATIVO VAI AQUI ",-1),me=[pe];function fe(o,t){return l(),f("div",null,me)}var ge=F(he,[["render",fe]]);const be=[h("rect",{y:"10",width:"15",height:"120",rx:"6"},[h("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),h("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]),h("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},[h("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),h("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]),h("rect",{x:"60",width:"15",height:"140",rx:"6"},[h("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),h("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]),h("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},[h("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),h("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]),h("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},[h("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),h("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})])];var _e=W({name:"QSpinnerBars",props:H,setup(o){const{cSize:t,classes:s}=X(o);return()=>h("svg",{class:s.value,fill:"currentColor",width:t.value,height:t.value,viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg"},be)}});const ve={components:{FooterSite:ae,BarraTopoEmpresa:ie,CarrinhoCompras:ne,DetalhesDoProduto:ue,ClubInativo:ge},data(){return{slide:J("1"),dados:{},banco:"",contatos:[],contatoPrincipal:{telefone:{}},gruposItens:{},filterSelect:"",filterOptions:[],openedF:!1,mostrarLogo:!1,qtd:{},contato:[],formasPagamento:[],item:[],urlImagemItem:{},carrinhoItens:{},carregando:!0,possuiWhatsapp:!1,possuiCarrinho:!1,searchText:""}},methods:{searchProduct(o){console.log("value: ",o),console.log("gruposItens: ",this.gruposItens);const t=$utils.tratamentoCompletoString(o).split(" ");let s=$utils.clonarV2(this.gruposItensOriginal),r={};if(t.length>0||(r=s),t.length>0)for(const e in s)for(const a of s[e]){const x=$utils.tratamentoCompletoString(a.descricaoConcatenada);let I=!0;for(const g of t)if(!~x.indexOf(g)){I=!1;break}!I||(r[e]||(r[e]=[]),r[e].push(a))}this.gruposItens=r},injetarIdDoProdutoNaURL(o){const t=`${window.location.protocol}//${window.location.host}${window.location.pathname}?produtoId=${o}`;window.history.pushState({path:t},"",t)},limparIdDoProdutoDaURL(){const o=`${window.location.protocol}//${window.location.host}${window.location.pathname}`;window.history.pushState({path:o},"",o)},abrirProdutoInjetadoNaURL(){const{produtoId:o}=this.$route.query;if(!o)return;const t=this.item.find(s=>s.id===o);!t||this.verDetalhesDoProduto(t)},async atualizar(){var r;const o=await $db.vitrine.ler();this.banco=o.find(e=>`/${e.url}`===this.$route.path).banco;const t=await this.$utils.geeksApi({site:{funcao:"639A3247-947F-41F7-97E3-296A8C5BCFED"},itens:{funcao:"6AA367D8-5683-48B5-8F35-75B4FF37DEFD"}},{bancoDeDados:this.banco,convidado:!0});this.dados=t.data.site,(r=this.dados.carrossel)!=null&&r.length&&(this.slide=this.dados.carrossel[0].id),this.carregando=!1,this.contatoPrincipal=this.dados.contatoPrincipal,this.possuiWhatsapp=!!this.dados.telefoneWhatsapp,this.contatos=this.dados.contatoEmpresasSite,this.dados.formasPagamento.map(e=>{e.ativoSite&&this.formasPagamento.push({rotulo:e.descricao,valor:e.id})});for(const e of this.dados.itens){const a=`https://southamerica-east1-b15node-178618.cloudfunctions.net/storage/${this.banco}/vitrine/${e}`;this.urlImagemItem[e]=a}const s=t.data.itens;this.montarGrupos(s)},zerarProdutosQueEstavamNoCarrinho(o){for(const t of o)this.qtd[t]=0;this.carrinhoItens={},this.openedF=!1},updateCart(o,t){this.$refs.carrinho.atualizarCarrinho(o,t),this.carrinhoItens[o.id]={...o,quantidade:t};const s=Object.keys(this.carrinhoItens).length;this.openedF=!this.$q.platform.is.mobile&&!!s,Object.keys(this.carrinhoItens).reduce((r,e)=>r+this.carrinhoItens[e].quantidade,0)!==0?this.possuiCarrinho=!0:this.possuiCarrinho=!1},carrinhoAtualizado(o){this.carrinhoItens=o;for(const s of Object.keys(o))this.qtd[s]=o[s].quantidade;const t=Object.keys(this.carrinhoItens).length;this.openedF=!this.$q.platform.is.mobile&&!!t,Object.keys(this.carrinhoItens).reduce((s,r)=>s+this.carrinhoItens[r].quantidade,0)!==0?this.possuiCarrinho=!0:this.possuiCarrinho=!1},removerItemDoCarrinho(o){this.qtd[o]=0,delete this.carrinhoItens[o],Object.keys(this.carrinhoItens).length||(this.openedF=!1),Object.keys(this.carrinhoItens).reduce((t,s)=>t+this.carrinhoItens[s].quantidade,0)!==0?this.possuiCarrinho=!0:this.possuiCarrinho=!1},onFilterChange(){this.goToAnchor(this.filterSelect)},montarGrupos(o){let t=[];for(const r of this.dados.itens){const e=o.find(a=>a.id===r);!e||t.push(e)}this.item=t,o=Y.exports.orderBy(this.item,"descricao","asc");let s={};o.map(r=>{const e=(r==null?void 0:r.grupo)||"Outros";s[e]||(s[e]=[],this.filterOptions.push({label:e,value:this.criarSlug(e)})),s[e].push(r)}),this.gruposItens=s,this.gruposItensOriginal=$utils.clonarV2(s);for(const r of t)this.qtd[r.id]=0;for(const r of Object.keys(this.carrinhoItens))this.qtd[r]=this.carrinhoItens[r].quantidade;Object.keys(this.carrinhoItens).reduce((r,e)=>r+this.carrinhoItens[e].quantidade,0)!==0?this.possuiCarrinho=!0:this.possuiCarrinho=!1},async verDetalhesDoProduto(o){const t=this.pegarProdutosRandomicosParaComprarJunto(o),s={...o,quantidade:this.qtd[o.id]},r=await $db.arquivo.lista({tipoArquivo:"itemImagem",idTabelaMaster:o.id}),e=[];for(const a of r)a.id!=o.id&&e.push({id:a.id,url:`https://southamerica-east1-b15node-178618.cloudfunctions.net/storage/${a.name}`});this.$refs.detalhesDoProduto.abrir(s,t,this.possuiWhatsapp,this.urlImagemItem[o.id],e)},salvarProdutosDaModalDeDetalhes(o){const{produtoSelecionado:t,outrosProdutos:s}=o;this.carrinhoItens[t.id]=t,this.qtd[t.id]=t.quantidade,this.updateCart(t,t.quantidade);for(const r of Object.keys(s)){const e=s[r];this.carrinhoItens[e.id]=e,this.qtd[e.id]=e.quantidade,this.updateCart(e,e.quantidade)}},pegarProdutosRandomicosParaComprarJunto(o){const t=this.item.sort((e,a)=>.5-Math.random()),s={};let r=0;for(const e of t){if(r>3)break;e.id!==o.id&&!this.qtd[e.id]&&(s[e.id]={...e,quantidade:0},r++)}return s},irParaProdutos(){const o=this.filterOptions[0].value;this.goToAnchor(o)},criarSlug(o){return G(o.replace(" ",""))},goToAnchor(o){document.getElementById(o).scrollIntoView({behavior:"smooth"})},injetarTags(){const{codigoTagHead:o,codigoTagBody:t}=this.dados.marketingDigital;o&&document.head.insertAdjacentHTML("beforeend",o),t&&document.body.insertAdjacentHTML("afterend",t)},pesquisaPorVozExiste(){return!!(window.SpeechRecognition||window.webkitSpeechRecognition)},pesquisaPorVoz(){$q.loading.show({spinner:_e,spinnerColor:"primary",spinnerSize:140,backgroundColor:"white"});const o=window.SpeechRecognition||window.webkitSpeechRecognition;if(!o)return;const t=new o;t.continuous=!0,t.start(),t.onresult=s=>{const r=s.resultIndex,e=s.results[r][0].transcript;this.searchText=e,this.searchProduct(e)},setTimeout(()=>{t.stop(),$q.loading.hide()},5e3)}},async created(){await this.atualizar(),this.injetarTags(),this.abrirProdutoInjetadoNaURL()}},we=o=>(se("data-v-e7de2eb2"),o=o(),re(),o),Ce={class:"u-container q-px-sm"},Ie={class:"u-container q-px-none"},ye={class:"hideonmobile"},xe={class:"hideondesktop"},Pe={class:"bg-light q-pb-md q-pt-xl"},qe={class:"u-container"},ke={id:"slogan"},De={class:"q-display-1 text-primary q-mt-lg q-mb-xl text-center"},Ve={class:"text-subtitle1 text-tertiary q-mb-xl text-center",style:{"font-weight":"400"}},Se={class:"q-pa-md q-my-none q-mx-auto",style:{"max-width":"999px"}},Ae={id:"produtos"},Fe=["id"],Qe={class:"text-h6 text-tertiary q-ma-none"},Te={class:"row q-col-gutter-md items-stretch q-py-md products"},Ne={class:"row full-height bg-white rounded-borders overflow-hidden shadow-14 arredondado"},Be=["onClick"],ze=["src"],Re=["onClick"],je=["onClick"],Oe={class:"text-h5 text-right text-tertiary"},Ee={class:"col-12 self-end q-px-sm"},Me={id:"mapaD"},Le={class:"row"},Ue=we(()=>n("div",{class:"text-body1 q-mr-sm"},"Total",-1)),We={class:"text-body1 q-mr-sm"};function He(o,t,s,r,e,a){const x=v("carrinho-compras"),I=v("BarraTopoEmpresa"),g=v("campo"),q=v("FooterSite"),k=v("DetalhesDoProduto"),b=v("ClubInativo");return l(),f(C,null,[e.carregando?(l(),u(R,{key:0,color:"primary",size:"10em",style:{"-moz-transform":"translateX(-50%) translateY(-50%)","-webkit-transform":"translateX(-50%) translateY(-50%)","-o-transform":"translateX(-50%) translateY(-50%)","-ms-transform":"translateX(-50%) translateY(-50%)",transform:"translateX(-50%) translateY(-50%)",position:"fixed",top:"50%",left:"50%"}})):m("",!0),e.dados.ativo?(l(),u(Q,{key:1,class:"Club",id:"ClubeSingle",view:"lHr lpR lFr"},{default:d(()=>[c(T,null,{default:d(()=>[n("div",Ce,[e.mostrarLogo?m("",!0):(l(),u(K,{key:0,"inline-label":"","indicator-color":"transparent","mobile-arrows":"","outside-arrows":"",align:"left",class:"bg-primary text-white no-shadow"},{default:d(()=>[(l(!0),f(C,null,y(e.filterOptions,(i,_)=>(l(),u(Z,{flat:"","text-color":"white",name:i.label,label:i.label,key:_,onClick:p=>a.goToAnchor(i.value)},null,8,["name","label","onClick"]))),128))]),_:1}))])]),_:1}),e.possuiWhatsapp?(l(),u($,{key:0,modelValue:e.openedF,"onUpdate:modelValue":t[0]||(t[0]=i=>e.openedF=i),side:"right",bordered:""},{default:d(()=>[c(x,{ref:"carrinho",onCarrinhoAtualizado:a.carrinhoAtualizado,onItemRemovido:a.removerItemDoCarrinho,onCarrinhoLimpado:a.zerarProdutosQueEstavamNoCarrinho,formasPagamento:e.formasPagamento,contatoPrincipal:e.contatoPrincipal,banco:e.banco},null,8,["onCarrinhoAtualizado","onItemRemovido","onCarrinhoLimpado","formasPagamento","contatoPrincipal","banco"])]),_:1},8,["modelValue"])):m("",!0),c(B,null,{default:d(()=>[n("div",Ie,[c(I,{contatoPrincipal:e.contatoPrincipal,onVerProdutos:a.irParaProdutos,onVerEndereco:t[1]||(t[1]=i=>a.goToAnchor("mapaD"))},null,8,["contatoPrincipal","onVerProdutos"])]),n("div",ye,[e.dados.carrossel&&e.dados.carrossel.length?(l(),u(S,{key:0,modelValue:e.slide,"onUpdate:modelValue":t[2]||(t[2]=i=>e.slide=i),"transition-prev":"scale","transition-next":"scale","control-color":"white",height:"480px",class:"bg-primary text-white no-shadow hideonmobile",swipeable:"",animated:"",navigation:"",padding:"",arrows:""},{default:d(()=>[(l(!0),f(C,null,y(e.dados.carrossel,i=>(l(),u(A,{key:i.id,name:i.id,"img-src":i.imagemB64,class:"column no-wrap flex-center"},null,8,["name","img-src"]))),128))]),_:1},8,["modelValue"])):m("",!0)]),n("div",xe,[e.dados.carrossel&&e.dados.carrossel.length?(l(),u(S,{key:0,modelValue:e.slide,"onUpdate:modelValue":t[3]||(t[3]=i=>e.slide=i),"transition-prev":"scale","transition-next":"scale","control-color":"white",height:"280px",class:"bg-primary text-white shadow-1 rounded-borders",swipeable:"",animated:"",navigation:"",padding:"",arrows:""},{default:d(()=>[(l(!0),f(C,null,y(e.dados.carrossel,i=>(l(),u(A,{key:i.id,name:i.id,"img-src":i.imagemB64,class:"column no-wrap flex-center"},null,8,["name","img-src"]))),128))]),_:1},8,["modelValue"])):m("",!0)]),n("div",Pe,[n("div",qe,[n("div",ke,[n("div",De,w(e.dados.slogan),1),n("div",Ve,w(e.dados.descricao),1)]),n("div",Se,[c(ee,{debounce:500,outlined:"",modelValue:e.searchText,"onUpdate:modelValue":[t[4]||(t[4]=i=>e.searchText=i),a.searchProduct],placeholder:"Pesquisar por produto",class:"bg-white"},{append:d(()=>[a.pesquisaPorVozExiste?(l(),u(V,{key:0,onClick:a.pesquisaPorVoz,icon:"mic",size:"lg",flat:"",round:"",dense:"",color:"primary"},null,8,["onClick"])):m("",!0),c(te,{name:"search",size:"md",color:"primary",class:"q-mr-sm"})]),_:1},8,["modelValue","onUpdate:modelValue"])]),n("div",Ae,[(l(!0),f(C,null,y(e.gruposItens,(i,_)=>(l(),f("section",{key:_,id:a.criarSlug(_),class:"q-px-sm q-pb-none q-pt-xl"},[n("div",Qe,w(_),1),n("div",Te,[(l(!0),f(C,null,y(i,p=>(l(),f("div",{class:"col-6 col-sm-4 col-md-2 q-mb-md",key:p.id},[n("div",Ne,[n("div",{onClick:P=>a.verDetalhesDoProduto(p),class:"col-12 self-start cursor-pointer"},[n("img",{src:this.urlImagemItem[p.id],style:{width:"100%",margin:"0 auto",display:"block"}},null,8,ze)],8,Be),n("div",{onClick:P=>a.verDetalhesDoProduto(p),style:{"min-height":"50px"},class:"col-12 self-start text-tertiary q-pt-sm q-px-sm cursor-pointer"},w(p.descricao),9,Re),n("div",{onClick:P=>a.verDetalhesDoProduto(p),class:"col-12 self-end q-pt-sm q-pb-xs q-px-sm cursor-pointer"},[n("div",Oe,[n("b",null,"R$ "+w(o.$filters.numero(p.valorVenda,2)),1)])],8,je),n("div",Ee,[e.possuiWhatsapp?(l(),u(oe,{key:0,class:"full-width"})):m("",!0),e.possuiWhatsapp?(l(),u(g,{key:1,modelValue:e.qtd[p.id],"onUpdate:modelValue":[P=>e.qtd[p.id]=P,P=>a.updateCart(p,e.qtd[p.id])],min:"0",tipo:"quantidade",borderless:"",dense:""},null,8,["modelValue","onUpdate:modelValue"])):m("",!0)])])]))),128))])],8,Fe))),128))])])]),n("div",Me,[c(q,{"contato-principal":e.contatoPrincipal},null,8,["contato-principal"])])]),_:1}),e.possuiWhatsapp&&e.possuiCarrinho?(l(),u(z,{key:1,class:"mobile-only",bordered:"",color:"primary"},{default:d(()=>[c(D,null,{default:d(()=>[c(N,null,{default:d(()=>[n("div",Le,[Ue,n("div",We,"R$ "+w(o.$filters.numero(Object.keys(e.carrinhoItens).reduce((i,_)=>i+e.carrinhoItens[_].quantidade*e.carrinhoItens[_].valorVenda,0),2)),1)])]),_:1}),c(V,{label:"Finalizar",color:"white","text-color":"primary",onClick:t[5]||(t[5]=i=>e.openedF=!e.openedF),unelevated:""})]),_:1})]),_:1})):m("",!0)]),_:1})):m("",!0),c(k,{ref:"detalhesDoProduto",onSalvarNoCarrinho:a.salvarProdutosDaModalDeDetalhes,onAbriu:a.injetarIdDoProdutoNaURL,onFechou:a.limparIdDoProdutoDaURL},null,8,["onSalvarNoCarrinho","onAbriu","onFechou"]),!e.dados.ativo&&!e.carregando?(l(),u(b,{key:2})):m("",!0)],64)}var $e=F(ve,[["render",He],["__scopeId","data-v-e7de2eb2"]]);export{$e as default};
