import{_ as N,r as C,au as Ie,o as p,d as y,w as l,f as o,E as Be,G as X,h as D,Q as c,bf as J,P as W,p as z,F as P,x as I,H as x,S as R,T as F,k as h,t as O,N as j,i as E,I as G,J as Y,cT as Oe,C as r,du as Le,as as he,z as qe,j as B,U as H,at as q,M as L,bJ as $,bK as U,bL as re,b4 as S,K as de,m as K,q as A,e as w,L as le,bM as ve,Y as Pe,dw as Ne,v as ge,bq as Se,b0 as He,br as Qe,D as ne,bO as _e,l as ue,aU as ke,aO as k,bi as Xe,aa as Me,d_ as ye,aS as Ge,aT as Ye,bN as Ue,a_ as Te,a$ as Ae,dx as We,bP as Je,ar as be,e3 as Ze,A as Q,av as Ke,b8 as $e,b5 as eo,b6 as Fe,B as te,e4 as ae,dl as oo}from"./index.6cc9500b.js";import{L as to}from"./Lista.a44b13bb.js";import{_ as lo}from"./Grafico.3760c611.js";import"./Chart.176b7ec2.js";const ao={data(){return{doc:$db.jornada.doc,contato:$db.jornada.contato.doc,contatoEndereco:$db.jornada.contatoEndereco.doc,contatoTelefone:$db.jornada.contatoTelefone.doc,contatoGrupo:$db.jornada.contatoGrupo.doc,rules:{numeroDocumentoNacional:[()=>{const a=(this.contato.numeroDocumentoNacional||"").replace(/\D/g,"");return a.trim()?$utils.validarDocumentoNacional(a)?!0:"Documento inv\xE1lido":!0}]},telefoneTipos:[{label:"Principal",value:"Principal",color:"orange",icon:"star"},{label:"Comercial",value:"Comercial",color:"dark",icon:"phone"},{label:"Celular",value:"Celular",color:"dark",icon:"phone_iphone"},{label:"Fixo",value:"Fixo",color:"dark",icon:"phone"},{label:"WhatsApp",value:"WhatsApp",color:"positive",icon:"mdi-whatsapp",ix:"duo"}],enderecoTipos:[{label:"Principal",value:"Principal",icon:"star",color:"orange"},{label:"Cobran\xE7a",value:"Cobran\xE7a",icon:"attach_money"},{label:"Comercial",value:"Comercial",icon:"business"},{label:"Correspond\xEAncia",value:"Correspond\xEAncia",icon:"mail"},{label:"Entrega",value:"Entrega",icon:"local_shipping"},{label:"Instala\xE7\xE3o",value:"Instala\xE7\xE3o",icon:"build"},{label:"Residencial",value:"Residencial",icon:"store_mall_directory"},{label:"Outros",value:"Outros",icon:"location_city"}],sexos:[{label:"Masculino",value:"Masculino"},{label:"Feminino",value:"Feminino"},{label:"Outro",value:"Outro"}],cGrupos:[],grupos:[{label:"Alta dioptria"},{label:"Moda feminina"},{label:"Moda masculina"},{label:"Infantil"},{label:"Lente de contato"},{label:"\xD3culos de sol"}],origemMarketing:[],origensMarketing:[{label:"Indica\xE7\xE3o"},{label:"Whatsapp"},{label:"Facebook"},{label:"Instagram"},{label:"Site"},{label:"Google"}],profissoes:["","Desenvolvedor","Vendedor","M\xE9dico","Professor","Motorista"]}},emits:["mudarTela","fecharModal"],methods:{uidCopia(){const a=this.$refs.uid;a.type="text";try{a.select(),document.execCommand("copy"),this.$q.notify({message:"UID copiado para a \xE1rea de transfer\xEAncia.",type:"info"})}catch{this.$q.notify("Erro ao copiar.")}a.type="hidden",window.getSelection().removeAllRanges()},async fecha(){$q.loading.show(),await $db.jornada.removerJornadaVazia(),this.$emit("fecharModal"),$q.loading.hide()},async atualiza(a){$q.loading.show(),await $db.jornada.carregaContatoCompleto(a!=null?a:this.doc.idContato),this.carregaOrigemMarketing(),this.carregaCGroups(),$q.loading.hide()},carregaCGroups(){this.cGrupos=this.contatoGrupo.map(({id:a,descricao:e})=>({id:a,label:e}))},carregaOrigemMarketing(){this.contato.origemMarketing&&(this.origemMarketing=[{label:this.contato.origemMarketing}])},btProximo(){var a,e;if(!((a=this.contato.nome)!=null&&a.trim())){$q.notify({message:"Nome \xE9 obrigat\xF3rio.",type:"negative"});return}if(((e=this.contato.numeroDocumentoNacional)==null?void 0:e.trim())&&!$utils.validarDocumentoNacional(this.contato.numeroDocumentoNacional)){$q.notify({message:"CPF Inv\xE1lido.",type:"negative"});return}this.$emit("mudarTela","FotoReceita")},async telefoneAdiciona(){await this.salvando,this.contatoTelefone.push({id:$utils.uuid(),idContato:this.contato.id})},async telefoneRemove(a){this.contatoTelefone.splice(a,1),await this.salva()},async enderecoAdiciona(){await this.salvando,this.contatoEndereco.push({id:$utils.uuid(),idContato:this.contato.id})},async enderecoRemove(a){this.contatoEndereco.splice(a,1),await this.salva()},enderecoIcone(a){const e=this.enderecoTipos.find(u=>u.label===a)||{};return{color:e.color||"dark",name:e.icon||"store_mall_directory",size:a==="Principal"?"18px":"24px"}},emailValida(a){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(a).toLowerCase())},profissoesAdiciona(){$q.dialog({title:"Adicionar nova profiss\xE3o:",preventClose:!0,prompt:{model:"",isValid:a=>a.length>0,type:"text"},cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Adicionar",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk(async a=>{try{$q.loading.show(),this.profissoes.push([a]),this.contato.segmento=a,await this.salva()}catch(e){$q.notifyError("Erro ao adicionar profiss\xE3o.",e)}finally{$q.loading.hide()}})},async grupoAdiciona(a){this.contatoGrupo.push({id:$utils.uuid(),idContato:this.contato.id,descricao:a.label}),this.carregaCGroups(),await this.salva()},async grupoRemove(a){this.contatoGrupo=this.contatoGrupo.filter(e=>e.id!==a.id),await this.salva()},async updateGrupo(a){if(a.length<this.contatoGrupo.length)return;const e=this.contatoGrupo.map(({id:m})=>m),u=a.find(({id:m})=>!e.includes(m));this.contatoGrupo.push({id:u.id,idContato:this.contato.id,descricao:u.label}),await this.salva()},async origemMarketingSeleciona(a){var u,m;let e;a?e=a.label:e=(m=(u=this.origemMarketing[this.origemMarketing.length-1])==null?void 0:u.label)!=null?m:"",e&&(this.origemMarketing=[{label:e}]),this.contato.origemMarketing=e,await this.salva()},async salva(a,e){this.salvando&&await this.salvando,this.salvando=new Promise(async u=>{a==="numeroDocumentoNacional"&&await this.cpfConsulta(),a==="cep"&&e.cep.trim()!==""&&await this.cepConsulta(e),await $db.jornada.gravaContatoCompleto(),u()})},async cepConsulta(a){try{$q.loading.show();const e=a.cep.replace(/[^0-9]/g,"");if(e.length<8)return;const m=await(await fetch(`https://viacep.com.br/ws/${e}/json/`)).json();if(a.bairro=m.bairro,a.complemento=m.complemento,a.ibgeCod=m.ibge,a.logradouro=m.logradouro,a.municipio=m.localidade,a.pais="Brasil",a.codigoPais=1058,a.uf=m.uf,a.ufCod=$utils.mapearEstadoCodigo[m.uf],m.ibge){const t=await $db.cidade.le({cidadeCodIbge:m.ibge.toString(),ativo:!0});a.cidadeCodChave=(t.find(i=>i.cod)||{}).cod}}catch(e){$q.notifyError("N\xE3o foi poss\xEDvel consultar o CEP.",e)}finally{$q.loading.hide()}},async cpfConsulta(){var a;try{$q.loading.show();const e=((a=this.contato.numeroDocumentoNacional)!=null?a:"").replace(/\D/g,"");if(!$utils.validarDocumentoNacional(e))return;const m=(await $db.contato.ler({filtros:{termoBusca:e,ativo:!0}})).data.find(t=>t.numeroDocumentoNacional.replace(/\D/g,"")===e);$q.loading.hide(),m&&m.id!==this.contato.id&&(await new Promise(i=>{this.$q.dialog({title:"Contato j\xE1 existe!",message:"Deseja carreg\xE1-lo?",cancel:{label:"N\xE3o",color:"red",flat:!0},ok:{label:"Sim",color:"primary",unelevated:!0}}).onOk(()=>{i(!0)}).onCancel(()=>{i(!1)}).onDismiss(()=>{i(!1)})})?(await this.atualiza(m.id),this.doc.idContato=m.id,await $db.jornada.grava()):this.contato.numeroDocumentoNacional=$db.jornada.contato.bkp.numeroDocumentoNacional)}catch(e){$q.notifyError("N\xE3o foi poss\xEDvel consultar o CPF.",e),this.contato.numeroDocumentoNacional=$db.jornada.contato.bkp.numeroDocumentoNacional}finally{$q.loading.hide()}}},mounted(){this.carregaOrigemMarketing(),this.carregaCGroups()}},so={class:"mlmobile34"};function io(a,e,u,m,t,i){const n=C("g-row"),d=C("g-label"),g=C("g-col"),b=C("campo"),s=C("gchips"),_=Ie("mask");return p(),y(L,{id:"Contato",view:"hHh LpR fFf",class:"bg-light"},{default:l(()=>[o(Be,null,{default:l(()=>[o(X,null,{default:l(()=>[o(D,null,{default:l(()=>[o(c,{onClick:e[0]||(e[0]=f=>i.salva().then(i.fecha)),icon:"arrow_back",round:"",flat:"",dense:""}),o(c,{icon:"menu",round:"",flat:"",dense:""},{default:l(()=>[o(J,null,{default:l(()=>[o(W,{style:{"min-width":"100px"}},{default:l(()=>[(p(!0),z(P,null,I(a.$db.jornada.menu,(f,T)=>x((p(),y(R,{key:T,onClick:v=>i.salva().then(()=>a.$emit("mudarTela",f.tela)),clickable:""},{default:l(()=>[o(F,null,{default:l(()=>[h(O(f.descricao),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[j]])),128))]),_:1})]),_:1})]),_:1}),o(E,null,{default:l(()=>e[34]||(e[34]=[h("Dados Cliente")])),_:1}),o(c,{onClick:e[1]||(e[1]=f=>i.atualiza()),icon:"refresh",round:"",flat:"",dense:""}),o(c,{onClick:e[2]||(e[2]=f=>i.salva().then(i.fecha)),icon:"close",round:"",flat:"",dense:""}),o(c,{onClick:e[3]||(e[3]=f=>i.salva().then(i.btProximo)),icon:"arrow_forward",round:"",flat:"",dense:""})]),_:1})]),_:1}),o(G,{class:"q-ma-md"},{default:l(()=>[o(Y,{class:"bg-white u-container rounded-borders",style:{"min-height":"895px"}},{default:l(()=>[o(n,{gutter:"md",justify:"end"},{default:l(()=>[o(Oe,{class:"q-ml-sm",color:"positive",escuro:"",onClick:i.uidCopia},{default:l(()=>[h(" #"+O(parseInt(t.contato.codigoContato)||(t.contato.id||"").slice(-6))+" ",1),x(r("input",{type:"hidden","onUpdate:modelValue":e[4]||(e[4]=f=>t.contato.id=f),ref:"uid"},null,512),[[Le,t.contato.id]])]),_:1},8,["onClick"])]),_:1}),o(n,{gutter:"md",justify:"center"},{default:l(()=>[o(g,{col:"12 md7"},{default:l(()=>[o(n,{gutter:"none-y"},{default:l(()=>[o(g,{col:"12"},{default:l(()=>[o(d,{text:"h6"},{default:l(()=>e[35]||(e[35]=[h("Informa\xE7\xF5es contato")])),_:1})]),_:1}),o(g,{col:"12"},{default:l(()=>[o(b,{modelValue:t.contato.nome,"onUpdate:modelValue":e[5]||(e[5]=f=>t.contato.nome=f),onBlur:e[6]||(e[6]=f=>i.salva()),rotulo:"Nome completo",rules:[f=>f&&f.length>2||"Preenchimento obrigat\xF3rio."],tipo:"texto"},null,8,["modelValue","rules"])]),_:1}),o(g,{col:"12 sm"},{default:l(()=>[x(o(b,{modelValue:t.contato.numeroDocumentoNacional,"onUpdate:modelValue":e[7]||(e[7]=f=>t.contato.numeroDocumentoNacional=f),onBlur:e[8]||(e[8]=f=>i.salva("numeroDocumentoNacional")),rotulo:"CPF",rules:t.rules.numeroDocumentoNacional},null,8,["modelValue","rules"]),[[_,["###.###.###-##"]]])]),_:1}),o(g,{col:"12 sm"},{default:l(()=>[o(b,{modelValue:t.contato.numeroDocumentoEstadual,"onUpdate:modelValue":e[9]||(e[9]=f=>t.contato.numeroDocumentoEstadual=f),onBlur:e[10]||(e[10]=f=>i.salva()),rotulo:"RG",class:"q-field--with-bottom"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(g,{col:"12 md7",mg:"md-t"},{default:l(()=>[o(n,{gutter:"none-y"},{default:l(()=>[o(g,{col:"12"},{default:l(()=>[o(d,{text:"h6"},{default:l(()=>e[36]||(e[36]=[h("Telefones")])),_:1})]),_:1}),o(g,null,{default:l(()=>[(p(!0),z(P,null,I(t.contatoTelefone,(f,T)=>(p(),y(n,{key:T},{default:l(()=>[o(g,{col:"6 sm"},{default:l(()=>[o(he,{modelValue:f.tipoTelefone,"onUpdate:modelValue":v=>f.tipoTelefone=v,onBlur:e[11]||(e[11]=v=>i.salva()),options:t.telefoneTipos,"option-value":"value","option-label":"label","emit-value":"","map-options":"",dense:"",label:"Tipo"},{before:l(()=>[o(c,{icon:(t.telefoneTipos.find(v=>v.value===f.tipoTelefone)||{}).icon||"star",size:"sm",round:"",flat:"",color:"tertiary"},null,8,["icon"])]),option:l(v=>[o(R,qe({ref_for:!0},v.itemProps),{default:l(()=>[o(F,{avatar:""},{default:l(()=>[o(B,{name:v.opt.icon},null,8,["name"])]),_:2},1024),o(F,null,{default:l(()=>[o(H,{innerHTML:v.opt.label},null,8,["innerHTML"])]),_:2},1024)]),_:2},1040)]),_:2},1032,["modelValue","onUpdate:modelValue","options"])]),_:2},1024),o(g,{col:"6 sm"},{default:l(()=>[o(b,{modelValue:f.telefone,"onUpdate:modelValue":v=>f.telefone=v,onBlur:e[12]||(e[12]=v=>i.salva()),rotulo:"Telefone"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(g,{col:"xs"},{default:l(()=>[r("div",so,[o(b,{modelValue:f.observacao,"onUpdate:modelValue":v=>f.observacao=v,onBlur:e[13]||(e[13]=v=>i.salva()),rotulo:"Descri\xE7\xE3o"},null,8,["modelValue","onUpdate:modelValue"])])]),_:2},1024),o(g,{col:"shrink"},{default:l(()=>[o(c,{onClick:v=>i.telefoneRemove(T),icon:"delete",flat:"",round:"",dense:"",color:"tertiary",class:"q-mt-sm"},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),o(g,{col:"12",mg:"sm-t",text:"center"},{default:l(()=>[o(c,{color:"positive",icon:"add",label:"Telefone",outline:"",size:"sm",onClick:i.telefoneAdiciona},null,8,["onClick"])]),_:1})]),_:1})]),_:1}),o(g,{col:"12 md7",mg:"md-t"},{default:l(()=>[o(n,{gutter:"none-y"},{default:l(()=>[o(g,{col:"12"},{default:l(()=>[o(d,{text:"h6"},{default:l(()=>e[37]||(e[37]=[h("Endere\xE7os")])),_:1})]),_:1}),o(g,{col:"12"},{default:l(()=>[(p(!0),z(P,null,I(t.contatoEndereco,(f,T)=>(p(),y(n,{mg:"md-t",key:T},{default:l(()=>[o(g,{col:"7"},{default:l(()=>[o(he,{modelValue:f.grupo,"onUpdate:modelValue":v=>f.grupo=v,onBlur:e[14]||(e[14]=v=>i.salva()),options:t.enderecoTipos,"option-value":"value","option-label":"label","emit-value":"","map-options":"",dense:"",label:"Grupo",class:"q-field--with-bottom"},{before:l(()=>[o(B,qe({ref_for:!0},i.enderecoIcone(f.grupo),{color:"tertiary"}),null,16)]),option:l(v=>[o(R,qe({ref_for:!0},v.itemProps),{default:l(()=>[o(F,{avatar:""},{default:l(()=>[o(B,{name:v.opt.icon},null,8,["name"])]),_:2},1024),o(F,null,{default:l(()=>[o(H,{innerHTML:v.opt.label},null,8,["innerHTML"])]),_:2},1024)]),_:2},1040)]),_:2},1032,["modelValue","onUpdate:modelValue","options"])]),_:2},1024),o(g,{col:"5"},{default:l(()=>[o(b,{modelValue:f.cep,"onUpdate:modelValue":v=>f.cep=v,onBlur:v=>i.salva("cep",f),rules:[v=>v&&v.replace(/\D/g,"").length===8||"O CEP est\xE1 muito curto."],rotulo:"CEP",debounce:"500",tipo:"texto",mask:"#####-###"},null,8,["modelValue","onUpdate:modelValue","onBlur","rules"])]),_:2},1024),o(g,{col:"2"},{default:l(()=>[o(b,{modelValue:f.uf,"onUpdate:modelValue":v=>f.uf=v,onBlur:e[15]||(e[15]=v=>i.salva()),rules:[v=>v&&v.length===2||"Insira um UF."],rotulo:"UF",maxlength:"2"},null,8,["modelValue","onUpdate:modelValue","rules"])]),_:2},1024),o(g,{col:"5"},{default:l(()=>[o(b,{modelValue:f.municipio,"onUpdate:modelValue":v=>f.municipio=v,onBlur:e[16]||(e[16]=v=>i.salva()),rotulo:"Cidade",required:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(g,{col:"12 sm5"},{default:l(()=>[o(b,{modelValue:f.logradouro,"onUpdate:modelValue":v=>f.logradouro=v,onBlur:e[17]||(e[17]=v=>i.salva()),rotulo:"Endere\xE7o",class:"q-field--with-bottom"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(g,{col:"3 sm2"},{default:l(()=>[o(b,{modelValue:f.numero,"onUpdate:modelValue":v=>f.numero=v,onBlur:e[18]||(e[18]=v=>i.salva()),rotulo:"N\xFAmero",class:"q-field--with-bottom"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(g,{col:"9 sm5"},{default:l(()=>[o(b,{modelValue:f.complemento,"onUpdate:modelValue":v=>f.complemento=v,onBlur:e[19]||(e[19]=v=>i.salva()),rotulo:"Complemento",class:"q-field--with-bottom"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(g,{col:"5 sm6"},{default:l(()=>[o(b,{modelValue:f.bairro,"onUpdate:modelValue":v=>f.bairro=v,onBlur:e[20]||(e[20]=v=>i.salva()),rotulo:"Bairro",class:"q-field--with-bottom"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(g,{col:"5"},{default:l(()=>[o(b,{modelValue:f.pais,"onUpdate:modelValue":v=>f.pais=v,onBlur:e[21]||(e[21]=v=>i.salva()),rotulo:"Pais",class:"q-field--with-bottom"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(g,{col:"2 sm1",text:"right"},{default:l(()=>[o(c,{onClick:v=>i.enderecoRemove(T),icon:"delete",flat:"",round:"",dense:"",color:"tertiary",class:"q-mt-sm"},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),o(g,{col:"12",text:"center"},{default:l(()=>[o(c,{onClick:i.enderecoAdiciona,icon:"add",size:"sm",label:"Endere\xE7o",color:"positive",outline:""},null,8,["onClick"])]),_:1})]),_:1})]),_:1}),o(g,{col:"12 md7",mg:"md-t"},{default:l(()=>[o(n,{gutter:"none-y"},{default:l(()=>[o(g,{col:"12"},{default:l(()=>[o(d,{text:"h6"},{default:l(()=>e[38]||(e[38]=[h("Adicionais")])),_:1})]),_:1}),o(g,{col:"12 sm6"},{default:l(()=>[o(b,{modelValue:t.contato.email,"onUpdate:modelValue":e[22]||(e[22]=f=>t.contato.email=f),onBlur:e[23]||(e[23]=f=>i.salva()),before:[{icon:"alternate_email"}],rotulo:"E-mail",rules:[f=>i.emailValida(f)||(f||"").length===0||"email inv\xE1lido"]},null,8,["modelValue","rules"])]),_:1}),o(g,{col:"12 sm6"},{default:l(()=>[o(he,{modelValue:t.contato.segmento,"onUpdate:modelValue":e[25]||(e[25]=f=>t.contato.segmento=f),onBlur:e[26]||(e[26]=f=>i.salva()),options:t.profissoes,label:"Profiss\xE3o",dense:""},{append:l(()=>[o(c,{round:"",dense:"",flat:"",icon:"add",onClick:[i.profissoesAdiciona,e[24]||(e[24]=q(()=>{},["stop","prevent"]))]},null,8,["onClick"])]),_:1},8,["modelValue","options"])]),_:1}),o(g,{col:"12 sm6"},{default:l(()=>[o(b,{modelValue:t.contato.sexo,"onUpdate:modelValue":e[27]||(e[27]=f=>t.contato.sexo=f),onBlur:e[28]||(e[28]=f=>i.salva()),options:t.sexos,tipo:"seletor","rotulo-fixo":"Sexo"},null,8,["modelValue","options"])]),_:1}),o(g,{col:"12 sm6"},{default:l(()=>[o(b,{modelValue:t.contato.dataAbertura,"onUpdate:modelValue":e[29]||(e[29]=f=>t.contato.dataAbertura=f),onBlur:e[30]||(e[30]=f=>i.salva()),rotulo:"Data de nascimento",clearable:"",max:Date.now(),tipo:"data"},null,8,["modelValue","max"])]),_:1}),o(g,{col:"12",mg:"lg-t"},{default:l(()=>[o(s,{modelValue:t.cGrupos,"onUpdate:modelValue":[e[31]||(e[31]=f=>t.cGrupos=f),i.updateGrupo],dense:"",class:"q-mb-sm",onRemovido:i.grupoRemove,placeholder:Object.keys(t.contatoGrupo).length!==0?"":"Grupos"},null,8,["modelValue","onRemovido","onUpdate:modelValue","placeholder"]),(p(!0),z(P,null,I(t.grupos,(f,T)=>(p(),y(Oe,{key:T,onClick:v=>i.grupoAdiciona(f),label:f.label,color:"tertiary",dark:"",rounded:"",class:"text-lowercase q-px-sm q-py-xs q-ml-xs q-mb-xs cursor-pointer"},null,8,["onClick","label"]))),128))]),_:1}),o(g,{col:"12",mg:"md-t"},{default:l(()=>[o(s,{modelValue:t.origemMarketing,"onUpdate:modelValue":[e[32]||(e[32]=f=>t.origemMarketing=f),e[33]||(e[33]=f=>i.origemMarketingSeleciona())],dense:"",class:"q-mb-sm",placeholder:t.origemMarketing.length>0?"":"Origem marketing"},null,8,["modelValue","placeholder"]),(p(!0),z(P,null,I(t.origensMarketing,(f,T)=>(p(),y(Oe,{key:T,onClick:v=>i.origemMarketingSeleciona(f),label:f.label,color:"tertiary",dark:"",rounded:"",class:"text-lowercase q-px-sm q-py-xs q-ml-xs q-mb-xs cursor-pointer"},null,8,["onClick","label"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var ro=N(ao,[["render",io]]);const no={data(){return{foto:"",fotoFator:1,showCamera:!1,zoom:1,qtde:0,pinca:{zoom:0,scaling:!1,width:0,height:0,top:0,left:0},distancia:{x1i:0,y1i:0,x2i:0,y2i:0,x1f:0,y1f:0,x2f:0,y2f:0,distanciaInicial:0,distanciaFinal:0}}},emits:["mudarTela","fecharModal"],methods:{async atualizar(){$q.loading.show(),await $db.jornada.carrega($db.jornada.doc.value.id),this.foto=$db.jornada.b64Images.receita,this.redimensiona(),$q.loading.hide()},touch(a){const e=this.$refs.foto;let u=0;try{u=a.evt.touches.length}catch{}if(this.qtde=u,this.pinca.scaling||u!==2&&Math.abs(a.delta.x+a.delta.y)<=20&&(e.style.left=parseFloat(e.style.left)+a.delta.x+"px",e.style.top=parseFloat(e.style.top)+a.delta.y+"px"),!this.pinca.scaling&&u===2){const m=this.distancia;m.x1i=a.evt.touches[0].pageX,m.y1i=a.evt.touches[0].pageY,m.x2i=a.evt.touches[1].pageX,m.y2i=a.evt.touches[1].pageY,m.distanciaInicial=Math.hypot(a.evt.touches[0].pageX-a.evt.touches[1].pageX,a.evt.touches[0].pageY-a.evt.touches[1].pageY),this.pinca.width=parseFloat(e.style.width),this.pinca.height=parseFloat(e.style.height),this.pinca.top=parseFloat(e.style.top),this.pinca.left=parseFloat(e.style.left),this.pinca.zoom=Math.hypot(a.evt.touches[0].pageX-a.evt.touches[1].pageX,a.evt.touches[0].pageY-a.evt.touches[1].pageY),this.pinca.scaling=!0}if(this.pinca.scaling&&u===0&&setTimeout(()=>{this.pinca.scaling=!1},300),this.pinca.scaling&&u===2)try{const m=a.evt,t=Math.hypot(m.touches[0].pageX-m.touches[1].pageX,m.touches[0].pageY-m.touches[1].pageY)-this.pinca.zoom,i=this.$refs.foto;i.style.width=this.pinca.width+t+"px",i.style.height=this.pinca.height+t*this.fotoFator+"px",i.style.top=this.pinca.top-t/2*this.fotoFator+"px",i.style.left=this.pinca.left-t/2+"px"}catch(m){console.log(m)}},zoomMais(){const a=this.$refs.foto;a.style.width=parseFloat(a.style.width)+2+"px",a.style.height=parseFloat(a.style.height)+2*this.fotoFator+"px",a.style.top=parseFloat(a.style.top)-1*this.fotoFator+"px",a.style.left=parseFloat(a.style.left)-1+"px"},zoomMenos(){const a=this.$refs.foto;a.style.width=parseFloat(a.style.width)-2+"px",a.style.height=parseFloat(a.style.height)-2*this.fotoFator+"px",a.style.top=parseFloat(a.style.top)+1*this.fotoFator+"px",a.style.left=parseFloat(a.style.left)+1+"px"},moveUp(){this.$refs.foto.style.top=parseFloat(this.$refs.foto.style.top)-1+"px"},moveDown(){this.$refs.foto.style.top=parseFloat(this.$refs.foto.style.top)+1+"px"},moveRight(){this.$refs.foto.style.left=parseFloat(this.$refs.foto.style.left)+1+"px"},moveLeft(){this.$refs.foto.style.left=parseFloat(this.$refs.foto.style.left)-1+"px"},btFechar(){this.$emit("fecharModal")},btAnterior(){this.$emit("mudarTela","Contato")},async btProximo(){this.$emit("mudarTela","FormatoRosto")},excluirFoto(){$q.dialog({title:"Deseja continuar?",message:"Ao continuar voc\xEA ir\xE1 remover a imagem.",cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(async()=>{$q.loading.show();const a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAATklEQVR42u3OMQEAAAgDINc/9Czh4QEJSDuvRVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUPDSAovln7Gzmi7KAAAAAElFTkSuQmCC";this.foto=a,$db.jornada.b64Images.receita=a,await this.salvar(a),$q.loading.hide()})},async imagemCameraInput(){if($q.platform.is.desktop){const a=await $g.promptCamera.show({sensor:!1});a.acao==="foto"&&(this.foto=a.foto,$db.jornada.b64Images.receita=a.foto,await this.salvar(a.foto),this.redimensiona())}if($q.platform.is.mobile){const a=await $db.jornada.obterImagemCameraInput();a&&(this.foto=a,$db.jornada.b64Images.receita=a,await this.salvar(a),this.redimensiona())}},async uploadClick(){await $db.jornada.anexarFotoReceita(),this.foto=$db.jornada.b64Images.receita,this.redimensiona()},async salvar(a){try{this.$q.loading.show(),a&&($db.jornada.doc.value.receita.idImagem=$utils.uuid(),await $db.jornada.grava(),await $db.jornada.salvarImagem({idImagem:$db.jornada.doc.value.receita.idImagem,imagem:a}))}catch(e){console.error(e),this.$q.notifyError(e.message)}finally{this.$q.loading.hide()}},redimensiona(){const a=this.$refs.foto,e=new Image,u=this;e.onload=()=>{const m=document.body.clientWidth-20,t=window.innerHeight-100-20;let i=e.width,n=e.height,d=1.001;e.width/m>e.height/t?d=m/e.width:d=t/e.height,i=parseInt(i*d),n=parseInt(n*d),a.style.top=(t-n)/2+10+"px",a.style.left=(m-i)/2+10+"px",a.style.width=i+"px",a.style.height=n+"px",u.fotoFator=e.height/e.width},e.src=this.foto}},async mounted(){this.foto=$db.jornada.b64Images.receita,this.redimensiona()}},uo={class:"img-container"},mo=["src"],co={class:"ZonaTouch"};function po(a,e,u,m,t,i){return p(),y(L,{class:"bg-light",style:{overflow:"hidden"}},{default:l(()=>[o(D,{class:"bg-primary text-white"},{default:l(()=>[o(c,{onClick:e[0]||(e[0]=n=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(c,{icon:"menu",round:"",flat:"",dense:""},{default:l(()=>[o(J,null,{default:l(()=>[o(W,{style:{"min-width":"100px"}},{default:l(()=>[(p(!0),z(P,null,I(a.$db.jornada.menu,(n,d)=>x((p(),y(R,{key:d,onClick:g=>a.$emit("mudarTela",n.tela),clickable:""},{default:l(()=>[o(F,null,{default:l(()=>[h(O(n.descricao),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[j]])),128))]),_:1})]),_:1})]),_:1}),o(E,null,{default:l(()=>e[11]||(e[11]=[h("Foto Receita")])),_:1}),o(c,{onClick:i.atualizar,icon:"refresh",round:"",flat:"",dense:""},null,8,["onClick"]),o(c,{onClick:e[1]||(e[1]=n=>i.btFechar()),icon:"close",round:"",flat:"",dense:""}),o(c,{onClick:e[2]||(e[2]=n=>a.$emit("mudarTela","ReceitaTeclado")),icon:"arrow_forward",round:"",flat:"",dense:""})]),_:1}),o($,{onResize:i.redimensiona},null,8,["onResize"]),r("div",uo,[r("img",{src:t.foto,ref:"foto",class:"Foto",onContextmenu:e[3]||(e[3]=q(()=>{},["prevent"]))},null,40,mo)]),o(c,{class:"BtUpload",icon:"attachment",size:"md",round:"",color:"primary",onContextmenu:e[4]||(e[4]=q(()=>{},["prevent"])),onClick:i.uploadClick},null,8,["onClick"]),o(c,{class:"TirarFoto",onClick:i.imagemCameraInput,color:"primary",size:"md",round:"",icon:"camera"},null,8,["onClick"]),o(c,{class:"ExcluirFoto",onClick:i.excluirFoto,color:"primary",size:"md",round:"",icon:"delete"},null,8,["onClick"]),x(o(c,{class:"ZoomMais",color:"primary",size:"md",round:"",icon:"zoom_in",onContextmenu:e[5]||(e[5]=q(()=>{},["prevent"]))},null,512),[[U,i.zoomMais,"0:20",{mouse:!0,enter:!0,space:!0}]]),x(o(c,{class:"ZoomMenos",color:"primary",size:"md",round:"",icon:"zoom_out",onContextmenu:e[6]||(e[6]=q(()=>{},["prevent"]))},null,512),[[U,i.zoomMenos,"0:20",{mouse:!0,enter:!0,space:!0}]]),x(r("div",co,null,512),[[re,i.touch,void 0,{prevent:!0,mouse:!0}]]),e[12]||(e[12]=r("div",{class:"BaseBotoes"},null,-1)),x(o(c,{class:"moveUp",icon:"keyboard_arrow_up",size:"md",round:"",color:"primary",onContextmenu:e[7]||(e[7]=q(()=>{},["prevent"]))},null,512),[[U,i.moveUp,"0:50",{mouse:!0,enter:!0,space:!0}]]),x(o(c,{class:"moveDown",icon:"keyboard_arrow_down",size:"md",round:"",color:"primary",onContextmenu:e[8]||(e[8]=q(()=>{},["prevent"]))},null,512),[[U,i.moveDown,"0:50",{mouse:!0,enter:!0,space:!0}]]),x(o(c,{class:"moveRight",icon:"keyboard_arrow_right",size:"md",round:"",color:"primary",onContextmenu:e[9]||(e[9]=q(()=>{},["prevent"]))},null,512),[[U,i.moveRight,"0:50",{mouse:!0,enter:!0,space:!0}]]),x(o(c,{class:"moveLeft",icon:"keyboard_arrow_left",size:"md",round:"",color:"primary",onContextmenu:e[10]||(e[10]=q(()=>{},["prevent"]))},null,512),[[U,i.moveLeft,"0:50",{mouse:!0,enter:!0,space:!0}]])]),_:1})}var fo=N(no,[["render",po],["__scopeId","data-v-97dca4b2"]]);const bo={data(){return{doc:$db.jornada.doc,esfericoToggle:!0,esfericoOperacoes:"positivo",esfericoMostrarBtns:!1,adicaoToggle:!0,adicaoOperacoes:"positivo",cilindricoToggle:!1,cilindricoOperacoes:"negativo",thumbStyle:{right:"4px",borderRadius:"5px",backgroundColor:"#027be3",width:"3px",opacity:.75},barStyle:{right:"2px",borderRadius:"9px",backgroundColor:"#027be3",width:"5px",opacity:.2}}},emits:["mudarTela","fecharModal"],methods:{async atualizar(){$q.loading.show(),await $db.jornada.carrega(this.doc.id),$q.loading.hide()},fecharModal(){this.$emit("fecharModal")},btAnterior(){this.$emit("mudarTela","FotoReceita")},async btProximo(){await this.salvar(),this.$emit("mudarTela","FormatoRosto")},calcularEsfericoMateriais(){this.doc.materiais.esferico=Math.trunc(this.doc.receita.esferico),this.doc.materiais.esferico<-4&&(this.doc.materiais.esferico=-4),this.doc.materiais.esferico>4&&(this.doc.materiais.esferico=4),this.doc.materiais.esferico===0&&(this.doc.materiais.esferico=1)},btToggleValores(a){const e=this.doc.receita;this[a+"Toggle"]=!this[a+"Toggle"],this[a+"Toggle"]===!0&&(this[a+"Operacoes"]="positivo",e[a]=Math.abs(e[a])),this[a+"Toggle"]===!1&&(this[a+"Operacoes"]="negativo",e[a]=-Math.abs(e[a])),this.calcularEsfericoMateriais()},btValores(a,e){const u=this.doc.receita;this[a+"Operacoes"]==="positivo"&&(e===0?u[a]=Math.floor(u[a]):e>0&&e<1?u[a]=Math.floor(u[a])+e:u[a]=e+(u[a]-Math.floor(u[a])),u[a]=Math.abs(u[a])),this[a+"Operacoes"]==="negativo"&&(e===0?u[a]=Math.ceil(u[a]):e>0&&e<1?u[a]-=e:u[a]=e-(u[a]-Math.ceil(u[a])),u[a]=-Math.abs(u[a])),this.calcularEsfericoMateriais()},btEsfericoMostrarBtns(){this.esfericoMostrarBtns=!0},async salvar(){try{this.$q.loading.show(),await $db.jornada.grava()}catch(a){console.error(a),this.$q.notifyError(a.message)}finally{this.$q.loading.hide()}}}};function go(a,e,u,m,t,i){const n=C("campo"),d=C("g-col"),g=C("g-row");return p(),y(L,{view:"hHh LpR fFf",class:"bg-light"},{default:l(()=>[o(X,null,{default:l(()=>[o(D,{class:"bg-primary text-white"},{default:l(()=>[o(c,{onClick:e[0]||(e[0]=b=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(c,{icon:"menu",round:"",flat:"",dense:""},{default:l(()=>[o(J,null,{default:l(()=>[o(W,{style:{"min-width":"100px"}},{default:l(()=>[(p(!0),z(P,null,I(a.$db.jornada.menu,(b,s)=>x((p(),y(R,{key:s,onClick:_=>a.$emit("mudarTela",b.tela),clickable:""},{default:l(()=>[o(F,null,{default:l(()=>[h(O(b.descricao),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[j]])),128))]),_:1})]),_:1})]),_:1}),o(E,null,{default:l(()=>e[58]||(e[58]=[h("Receita")])),_:1}),o(c,{onClick:i.atualizar,icon:"refresh",round:"",flat:"",dense:""},null,8,["onClick"]),o(c,{onClick:e[1]||(e[1]=b=>a.$emit("fecharModal")),icon:"close",round:"",flat:"",dense:""}),o(c,{onClick:e[2]||(e[2]=b=>i.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:""})]),_:1})]),_:1}),o(G,{class:"q-px-md"},{default:l(()=>[o(Y,{class:"bg-white rounded-borders q-pa-sm q-my-md q-mx-auto",style:{"max-width":"560px","min-height":"895px"}},{default:l(()=>[o(g,{justify:"center"},{default:l(()=>[o(d,null,{default:l(()=>[o(g,{class:"q-pb-xl",maxWidth:"560px"},{default:l(()=>[o(d,{col:"12"},{default:l(()=>[o(n,{modelValue:t.doc.receita.esferico,"onUpdate:modelValue":e[3]||(e[3]=b=>t.doc.receita.esferico=b),rotulo:"Esf\xE9rico",tipo:"decimal",decimals:"4",zerosDireita:"2",filled:"",clearable:"",noDense:"","input-style":t.doc.receita.esferico!=null?"font-size:1.8rem;font-weight:700;line-height:2.3rem;text-align:center;color:#003fff;position:absolute;padding:10px 0;right:-16.5px;":"font-size:1.8rem;font-weight:700;line-height:2.3rem;text-align:center;color:#003fff;position:absolute;padding:10px 0;right:0;"},null,8,["modelValue","input-style"])]),_:1}),o(d,{col:"",mg:"md-t",bordered:""},{default:l(()=>[o(c,{onClick:e[4]||(e[4]=b=>i.btToggleValores("esferico")),label:"- / +",flat:"",class:"fit"})]),_:1}),o(d,{col:"",mg:"md-t",bordered:""},{default:l(()=>[o(c,{onClick:e[5]||(e[5]=b=>i.btValores("esferico",0)),label:",0",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{col:"",mg:"md-t",bordered:""},{default:l(()=>[o(c,{onClick:e[6]||(e[6]=b=>i.btValores("esferico",.25)),label:",25",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{col:"",mg:"md-t",bordered:""},{default:l(()=>[o(c,{onClick:e[7]||(e[7]=b=>i.btValores("esferico",.5)),label:",50",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{col:"",mg:"md-t",bordered:""},{default:l(()=>[o(c,{onClick:e[8]||(e[8]=b=>i.btValores("esferico",.75)),label:",75",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{col:"12",mg:"md-t"},{default:l(()=>[o(g,null,{default:l(()=>[o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[9]||(e[9]=b=>i.btValores("esferico",1)),label:"1",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[10]||(e[10]=b=>i.btValores("esferico",2)),label:"2",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[11]||(e[11]=b=>i.btValores("esferico",3)),label:"3",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[12]||(e[12]=b=>i.btValores("esferico",4)),label:"4",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[13]||(e[13]=b=>i.btValores("esferico",5)),label:"5",flat:"",class:"fit q-py-md"})]),_:1})]),_:1}),o(g,null,{default:l(()=>[o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[14]||(e[14]=b=>i.btValores("esferico",6)),label:"6",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[15]||(e[15]=b=>i.btValores("esferico",7)),label:"7",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[16]||(e[16]=b=>i.btValores("esferico",8)),label:"8",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[17]||(e[17]=b=>i.btValores("esferico",9)),label:"9",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[x(o(c,{onClick:e[18]||(e[18]=b=>i.btEsfericoMostrarBtns()),label:"...",flat:"",class:"fit q-py-md"},null,512),[[S,t.esfericoMostrarBtns===!1]]),x(o(c,{onClick:e[19]||(e[19]=b=>i.btValores("esferico",10)),label:"10",flat:"",class:"fit q-py-md",style:{display:"none"}},null,512),[[S,t.esfericoMostrarBtns===!0]])]),_:1})]),_:1}),x(o(g,{style:{display:"none"}},{default:l(()=>[o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[20]||(e[20]=b=>i.btValores("esferico",11)),label:"11",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[21]||(e[21]=b=>i.btValores("esferico",12)),label:"12",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[22]||(e[22]=b=>i.btValores("esferico",13)),label:"13",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[23]||(e[23]=b=>i.btValores("esferico",14)),label:"14",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[24]||(e[24]=b=>i.btValores("esferico",15)),label:"15",flat:"",class:"fit q-py-md"})]),_:1})]),_:1},512),[[S,t.esfericoMostrarBtns]]),x(o(g,{style:{display:"none"}},{default:l(()=>[o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[25]||(e[25]=b=>i.btValores("esferico",16)),label:"16",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[26]||(e[26]=b=>i.btValores("esferico",17)),label:"17",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[27]||(e[27]=b=>i.btValores("esferico",18)),label:"18",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[28]||(e[28]=b=>i.btValores("esferico",19)),label:"19",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[29]||(e[29]=b=>i.btValores("esferico",20)),label:"20",flat:"",class:"fit q-py-md"})]),_:1})]),_:1},512),[[S,t.esfericoMostrarBtns]]),x(o(g,{style:{display:"none"}},{default:l(()=>[o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[30]||(e[30]=b=>i.btValores("esferico",21)),label:"21",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[31]||(e[31]=b=>i.btValores("esferico",22)),label:"22",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[32]||(e[32]=b=>i.btValores("esferico",23)),label:"23",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[33]||(e[33]=b=>i.btValores("esferico",24)),label:"24",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[34]||(e[34]=b=>i.btValores("esferico",25)),label:"25",flat:"",class:"fit q-py-md"})]),_:1})]),_:1},512),[[S,t.esfericoMostrarBtns]])]),_:1})]),_:1}),o(g,{class:"q-pb-xl",maxWidth:"560px"},{default:l(()=>[o(d,{col:"12"},{default:l(()=>[o(n,{modelValue:t.doc.receita.cilindrico,"onUpdate:modelValue":e[35]||(e[35]=b=>t.doc.receita.cilindrico=b),rotulo:"Cilindro",tipo:"decimal",decimals:"4",zerosDireita:"2",filled:"",clearable:"",noDense:"","input-style":t.doc.receita.cilindrico!=null?"font-size:1.8rem;font-weight:700;line-height:2.3rem;text-align:center;color:#003fff;position:absolute;padding:10px 0;right:-16.5px;":"font-size:1.8rem;font-weight:700;line-height:2.3rem;text-align:center;color:#003fff;position:absolute;padding:10px 0;right:0;"},null,8,["modelValue","input-style"])]),_:1}),o(d,{col:"",mg:"md-t",bordered:""},{default:l(()=>[o(c,{onClick:e[36]||(e[36]=b=>i.btToggleValores("cilindrico")),label:"- / +",flat:"",class:"fit"})]),_:1}),o(d,{mg:"md-t",bordered:""},{default:l(()=>[o(c,{onClick:e[37]||(e[37]=b=>i.btValores("cilindrico",0)),label:",0",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{mg:"md-t",bordered:""},{default:l(()=>[o(c,{onClick:e[38]||(e[38]=b=>i.btValores("cilindrico",.25)),label:",25",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{mg:"md-t",bordered:""},{default:l(()=>[o(c,{onClick:e[39]||(e[39]=b=>i.btValores("cilindrico",.5)),label:",50",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{mg:"md-t",bordered:""},{default:l(()=>[o(c,{onClick:e[40]||(e[40]=b=>i.btValores("cilindrico",.75)),label:",75",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{col:"12",mg:"md-t"},{default:l(()=>[o(g,null,{default:l(()=>[o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[41]||(e[41]=b=>i.btValores("cilindrico",1)),label:"1",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[42]||(e[42]=b=>i.btValores("cilindrico",2)),label:"2",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[43]||(e[43]=b=>i.btValores("cilindrico",3)),label:"3",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[44]||(e[44]=b=>i.btValores("cilindrico",4)),label:"4",flat:"",class:"fit q-py-md"})]),_:1})]),_:1}),o(g,null,{default:l(()=>[o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[45]||(e[45]=b=>i.btValores("cilindrico",5)),label:"5",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[46]||(e[46]=b=>i.btValores("cilindrico",6)),label:"6",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[47]||(e[47]=b=>i.btValores("cilindrico",7)),label:"7",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[48]||(e[48]=b=>i.btValores("cilindrico",8)),label:"8",flat:"",class:"fit q-py-md"})]),_:1})]),_:1})]),_:1})]),_:1}),o(g,{maxWidth:"560px"},{default:l(()=>[o(d,{col:"12"},{default:l(()=>[o(n,{modelValue:t.doc.receita.adicao,"onUpdate:modelValue":e[49]||(e[49]=b=>t.doc.receita.adicao=b),rotulo:"Adi\xE7\xE3o",tipo:"decimal",decimals:"4",zerosDireita:"2",filled:"",clearable:"",noDense:"","input-style":t.doc.receita.adicao!=null?"font-size:1.8rem;font-weight:700;line-height:2.3rem;text-align:center;color:#003fff;position:absolute;padding:10px 0;right:-16.5px;":"font-size:1.8rem;font-weight:700;line-height:2.3rem;text-align:center;color:#003fff;position:absolute;padding:10px 0;right:0;"},null,8,["modelValue","input-style"])]),_:1}),o(d,{col:"3",mg:"md-t",bordered:""},{default:l(()=>[o(c,{onClick:e[50]||(e[50]=b=>i.btValores("adicao",0)),label:",0",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{col:"3",mg:"md-t",bordered:""},{default:l(()=>[o(c,{onClick:e[51]||(e[51]=b=>i.btValores("adicao",.25)),label:",25",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{col:"3",mg:"md-t",bordered:""},{default:l(()=>[o(c,{onClick:e[52]||(e[52]=b=>i.btValores("adicao",.5)),label:",50",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{col:"3",mg:"md-t",bordered:""},{default:l(()=>[o(c,{onClick:e[53]||(e[53]=b=>i.btValores("adicao",.75)),label:",75",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{col:"12",mg:"md-t"},{default:l(()=>[o(g,null,{default:l(()=>[o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[54]||(e[54]=b=>i.btValores("adicao",1)),label:"1",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[55]||(e[55]=b=>i.btValores("adicao",2)),label:"2",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[56]||(e[56]=b=>i.btValores("adicao",3)),label:"3",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[57]||(e[57]=b=>i.btValores("adicao",4)),label:"4",flat:"",class:"fit q-py-md"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var vo=N(bo,[["render",go],["__scopeId","data-v-410635a6"]]);const ho={data(){var a;return{fotoFator:1,fotoRosto:(a=$db.jornada.b64Images.rosto)!=null?a:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAATklEQVR42u3OMQEAAAgDINc/9Czh4QEJSDuvRVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUPDSAovln7Gzmi7KAAAAAElFTkSuQmCC",tipoRosto:1,rostos:{1:"Redondo",2:"Quadrado",3:"Cora\xE7\xE3o",4:"Triangular",5:"Oval"},zoom:100,pinca:{zoom:0,scaling:!1,width:0,height:0,top:0,left:0},distancia:{x1i:0,y1i:0,x2i:0,y2i:0,x1f:0,y1f:0,x2f:0,y2f:0,distanciaInicial:0,distanciaFinal:0},qtde:0}},emits:["mudarTela","fecharModal"],methods:{async atualizar(){$q.loading.show(),await $db.jornada.carrega($db.jornada.doc.value.id),this.tipoRosto=$db.jornada.doc.value.formatoRosto.tipoRosto,this.fotoRosto=$db.jornada.b64Images.rosto,this.redimensiona();const a=this.$refs.quadro,e=this.$refs.foto;e.style.top=a.style.top,e.style.left=a.style.left,e.style.width=a.style.width,e.style.height=a.style.height,this.mudaCentralizaFoto(),this.mudaRosto(this.tipoRosto),$q.loading.hide()},excluirFoto(){$q.dialog({title:"Deseja continuar?",message:"Ao continuar voc\xEA ir\xE1 remover a imagem.",cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(async()=>{$q.loading.show();const a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAATklEQVR42u3OMQEAAAgDINc/9Czh4QEJSDuvRVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUPDSAovln7Gzmi7KAAAAAElFTkSuQmCC";this.fotoRosto=a,$db.jornada.b64Images.rosto=a,await this.salvar(a),$q.loading.hide()})},async imagemCameraInput(){if($q.platform.is.desktop){const a=await $g.promptCamera.show({sensor:!0});a.acao==="foto"&&(this.fotoRosto=a.foto,$db.jornada.b64Images.rosto=a.foto,await this.salvar(a.foto),this.mudaCentralizaFoto())}if($q.platform.is.mobile){const a=await $db.jornada.obterImagemCameraInput();a&&(this.fotoRosto=a,$db.jornada.b64Images.rosto=a,await this.salvar(a),this.mudaCentralizaFoto())}},async uploadClick(){await $db.jornada.anexarFotoRosto(),await $db.jornada.limparMedidasArmacao(),this.fotoRosto=$db.jornada.b64Images.rosto,this.mudaCentralizaFoto()},touch(a){const e=this.$refs.foto;let u=0;try{u=a.evt.touches.length}catch{}if(this.qtde=u,this.pinca.scaling||u!==2&&Math.abs(a.delta.x+a.delta.y)<=20&&(e.style.left=parseFloat(e.style.left)+a.delta.x+"px",e.style.top=parseFloat(e.style.top)+a.delta.y+"px"),!this.pinca.scaling&&u===2){const m=this.distancia;m.x1i=a.evt.touches[0].pageX,m.y1i=a.evt.touches[0].pageY,m.x2i=a.evt.touches[1].pageX,m.y2i=a.evt.touches[1].pageY,m.distanciaInicial=Math.hypot(a.evt.touches[0].pageX-a.evt.touches[1].pageX,a.evt.touches[0].pageY-a.evt.touches[1].pageY),this.pinca.width=parseFloat(e.style.width),this.pinca.height=parseFloat(e.style.height),this.pinca.top=parseFloat(e.style.top),this.pinca.left=parseFloat(e.style.left),this.pinca.zoom=Math.hypot(a.evt.touches[0].pageX-a.evt.touches[1].pageX,a.evt.touches[0].pageY-a.evt.touches[1].pageY),this.pinca.scaling=!0}if(this.pinca.scaling&&u===0&&setTimeout(()=>{this.pinca.scaling=!1},500),this.pinca.scaling&&u===2)try{const m=a.evt,t=Math.hypot(m.touches[0].pageX-m.touches[1].pageX,m.touches[0].pageY-m.touches[1].pageY)-this.pinca.zoom,i=this.$refs.foto;i.style.width=this.pinca.width+t+"px",i.style.height=this.pinca.height+t*this.fotoFator+"px",i.style.top=this.pinca.top-t/2*this.fotoFator+"px",i.style.left=this.pinca.left-t/2+"px"}catch(m){console.log(m)}},zoomMais(){const a=this.$refs.foto;a.style.width=parseFloat(a.style.width)+2+"px",a.style.height=parseFloat(a.style.height)+2*this.fotoFator+"px",a.style.top=parseFloat(a.style.top)-1*this.fotoFator+"px",a.style.left=parseFloat(a.style.left)-1+"px"},zoomMenos(){const a=this.$refs.foto;a.style.width=parseFloat(a.style.width)-2+"px",a.style.height=parseFloat(a.style.height)-2*this.fotoFator+"px",a.style.top=parseFloat(a.style.top)+1*this.fotoFator+"px",a.style.left=parseFloat(a.style.left)+1+"px"},moveUp(){this.$refs.foto.style.top=parseFloat(this.$refs.foto.style.top)-1+"px"},moveDown(){this.$refs.foto.style.top=parseFloat(this.$refs.foto.style.top)+1+"px"},moveRight(){this.$refs.foto.style.left=parseFloat(this.$refs.foto.style.left)+1+"px"},moveLeft(){this.$refs.foto.style.left=parseFloat(this.$refs.foto.style.left)-1+"px"},fecharModal(){this.$emit("fecharModal")},async btProximo(){const a=document.createElement("canvas"),e=a.getContext("2d"),u=this.$refs.foto;a.width=720,a.height=960;const m={left:parseFloat(this.$refs.foto.style.left),width:parseFloat(this.$refs.foto.style.width),top:parseFloat(this.$refs.foto.style.top),height:parseFloat(this.$refs.foto.style.height),naturalWidth:this.$refs.foto.naturalWidth,naturalHeight:this.$refs.foto.naturalHeight},t={left:parseFloat(this.$refs.quadro.style.left),width:parseFloat(this.$refs.quadro.style.width),top:parseFloat(this.$refs.quadro.style.top),height:parseFloat(this.$refs.quadro.style.height)},i={left:t.left-m.left,top:t.top-m.top};e.drawImage(u,i.left/m.width*m.naturalWidth,i.top/m.height*m.naturalHeight,t.width/m.width*m.naturalWidth,t.height/m.height*m.naturalHeight,0,0,720,960),$db.jornada.b64Images.rosto=a.toDataURL()+"",await this.salvar($db.jornada.b64Images.rosto),this.$emit("mudarTela","FormatoArmacao")},btAnterior(){this.$emit("mudarTela","ReceitaTeclado")},mudaRosto(a){a&&(this.tipoRosto=a,this.$nextTick(()=>{setTimeout(()=>{const e=this.$refs.quadro;e.getBoundingClientRect();const u=document.getElementsByClassName("rosto");for(const m of u){const t=m.querySelector("svg");t&&(t.style.position="absolute",t.style.top=e.style.top,t.style.left=e.style.left,t.style.width=e.style.width,t.style.height=e.style.width)}},30)}))},mudaCentralizaFoto(){const a=this.$refs.quadro,e={top:parseInt(a.style.top),left:parseInt(a.style.left),width:parseInt(a.style.width),height:parseInt(a.style.height)},u=this.$refs.foto,m=new Image,t=this;m.onload=()=>{let i=m.width,n=m.height,d=1.001;m.width>m.height?d=e.width/m.height:d=e.width/m.width,i=parseInt(i*d),n=parseInt(n*d),u.style.top=(e.height-n)/2+e.top+"px",u.style.left=(e.width-i)/2+e.left+"px",u.style.width=i+"px",u.style.height=n+"px",t.fotoFator=m.height/m.width},m.src=this.fotoRosto,this.mudaRosto(this.tipoRosto)},redimensiona(){const a=this.$refs.quadro,e=document.body.clientWidth-20,u=window.innerHeight-144-20;e>u?(a.style.height=u+"px",a.style.width=parseInt(parseInt(u)/4*3)+"px"):(a.style.width=e+"px",a.style.height=parseInt(parseInt(a.style.width)/3*4)+"px",parseInt(a.style.height)>u&&(a.style.height=u+"px",a.style.width=parseInt(parseInt(u)/4*3)+"px")),a.style.top=(window.innerHeight-parseInt(a.style.height)-20)/2+"px",a.style.left=(document.body.clientWidth-parseInt(a.style.width))/2+"px",this.mudaRosto(this.tipoRosto)},async salvar(a){try{this.$q.loading.show();const e=$db.jornada.doc.value.fotoRosto.idImagem||$utils.uuid();$db.jornada.doc.value.fotoRosto.idImagem=e,$db.jornada.doc.value.formatoRosto.tipoRosto=this.tipoRosto,$db.jornada.doc.value.formatoRosto.rosto=this.rostos[$db.jornada.doc.value.formatoRosto.tipoRosto],await $db.jornada.grava(),await $db.jornada.salvarImagem({idImagem:e,imagem:a})}catch(e){console.error(e),this.$q.notifyError(e.message)}finally{this.$q.loading.hide()}}},mounted(){this.tipoRosto=$db.jornada.doc.value.formatoRosto.tipoRosto,this.redimensiona();const a=this.$refs.quadro,e=this.$refs.foto;e.style.top=a.style.top,e.style.left=a.style.left,e.style.width=a.style.width,e.style.height=a.style.height,this.mudaCentralizaFoto()}},yo=["src"],xo={class:"quadro",ref:"quadro"},Vo={class:"hideondesktop"},wo={class:"ZonaTouch"};function Co(a,e,u,m,t,i){const n=C("g-svg"),d=C("g-col"),g=C("g-row");return p(),y(L,{class:"bg-white",style:{overflow:"hidden"}},{default:l(()=>[o($,{onResize:i.redimensiona},null,8,["onResize"]),r("img",{src:t.fotoRosto,class:"Foto",ref:"foto",onContextmenu:e[0]||(e[0]=q(()=>{},["prevent"]))},null,40,yo),r("div",xo,null,512),o(D,{class:"bg-primary text-white",style:{"z-index":"5"}},{default:l(()=>[o(c,{onClick:e[1]||(e[1]=b=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(c,{icon:"menu",round:"",flat:"",dense:""},{default:l(()=>[o(J,null,{default:l(()=>[o(W,{style:{"min-width":"100px"}},{default:l(()=>[(p(!0),z(P,null,I(a.$db.jornada.menu,(b,s)=>x((p(),y(R,{key:s,onClick:_=>a.$emit("mudarTela",b.tela),clickable:""},{default:l(()=>[o(F,null,{default:l(()=>[h(O(b.descricao),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[j]])),128))]),_:1})]),_:1})]),_:1}),o(E,null,{default:l(()=>[e[17]||(e[17]=r("span",{class:"hideonmobile"},"Formato Rosto",-1)),r("span",Vo,O(t.rostos[t.tipoRosto]),1)]),_:1}),o(c,{onClick:e[2]||(e[2]=b=>i.atualizar()),icon:"refresh",round:"",flat:"",dense:""}),o(c,{onClick:e[3]||(e[3]=b=>i.fecharModal()),icon:"close",round:"",flat:"",dense:""}),o(c,{onClick:e[4]||(e[4]=b=>i.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:""})]),_:1}),r("div",null,[x(o(n,{src:"statics/jornada/rostos/redondo",cor:"none",borda:"#18ffff",bordaLargura:"2",class:"rosto"},null,512),[[S,t.tipoRosto===1]]),x(o(n,{src:"statics/jornada/rostos/quadrado",cor:"none",borda:"#18ffff",bordaLargura:"2",class:"rosto"},null,512),[[S,t.tipoRosto===2]]),x(o(n,{src:"statics/jornada/rostos/coracao",cor:"none",borda:"#18ffff",bordaLargura:"2",class:"rosto"},null,512),[[S,t.tipoRosto===3]]),x(o(n,{src:"statics/jornada/rostos/triangular",cor:"none",borda:"#18ffff",bordaLargura:"2",class:"rosto"},null,512),[[S,t.tipoRosto===4]]),x(o(n,{src:"statics/jornada/rostos/oval",cor:"none",borda:"#18ffff",bordaLargura:"2",class:"rosto"},null,512),[[S,t.tipoRosto===5]])]),o(c,{class:"BtUpload",icon:"attachment",size:"md",round:"",color:"primary",onContextmenu:e[5]||(e[5]=q(()=>{},["prevent"])),onClick:i.uploadClick},null,8,["onClick"]),o(c,{class:"TirarFoto",onClick:i.imagemCameraInput,color:"primary",size:"md",round:"",icon:"camera"},null,8,["onClick"]),o(c,{class:"ExcluirFoto",onClick:i.excluirFoto,color:"primary",size:"md",round:"",icon:"delete"},null,8,["onClick"]),x(o(c,{class:"ZoomMais",color:"primary",size:"md",round:"",icon:"zoom_in",onContextmenu:e[6]||(e[6]=q(()=>{},["prevent"]))},null,512),[[U,i.zoomMais,"0:20",{mouse:!0,enter:!0,space:!0}]]),x(o(c,{class:"ZoomMenos",color:"primary",size:"md",round:"",icon:"zoom_out",onContextmenu:e[7]||(e[7]=q(()=>{},["prevent"]))},null,512),[[U,i.zoomMenos,"0:20",{mouse:!0,enter:!0,space:!0}]]),x(r("div",wo,null,512),[[re,i.touch,void 0,{prevent:!0,mouse:!0}]]),e[23]||(e[23]=r("div",{class:"BaseBotoes"},null,-1)),x(o(c,{class:"moveUp",icon:"keyboard_arrow_up",size:"md",round:"",color:"primary",onContextmenu:e[8]||(e[8]=q(()=>{},["prevent"]))},null,512),[[U,i.moveUp,"0:50",{mouse:!0,enter:!0,space:!0}]]),x(o(c,{class:"moveDown",icon:"keyboard_arrow_down",size:"md",round:"",color:"primary",onContextmenu:e[9]||(e[9]=q(()=>{},["prevent"]))},null,512),[[U,i.moveDown,"0:50",{mouse:!0,enter:!0,space:!0}]]),x(o(c,{class:"moveRight",icon:"keyboard_arrow_right",size:"md",round:"",color:"primary",onContextmenu:e[10]||(e[10]=q(()=>{},["prevent"]))},null,512),[[U,i.moveRight,"0:50",{mouse:!0,enter:!0,space:!0}]]),x(o(c,{class:"moveLeft",icon:"keyboard_arrow_left",size:"md",round:"",color:"primary",onContextmenu:e[11]||(e[11]=q(()=>{},["prevent"]))},null,512),[[U,i.moveLeft,"0:50",{mouse:!0,enter:!0,space:!0}]]),o(de,{class:"bg-light text-tertiary border-top"},{default:l(()=>[o(g,{text:"center",justify:"center"},{default:l(()=>[o(d,{onClick:e[12]||(e[12]=b=>i.mudaRosto(1)),col:"xs sm-shrink",class:"cursor-pointer"},{default:l(()=>[o(n,{src:"statics/jornada/rostos/redondo",width:"45px",height:"45px",cor:`${t.tipoRosto===1?"var(--primary)":"var(--tertiary)"}`},null,8,["cor"]),o(K,{anchor:"top middle",self:"center middle"},{default:l(()=>e[18]||(e[18]=[h("Redondo")])),_:1})]),_:1}),o(d,{onClick:e[13]||(e[13]=b=>i.mudaRosto(2)),col:"xs sm-shrink",class:"cursor-pointer"},{default:l(()=>[o(n,{src:"statics/jornada/rostos/quadrado",width:"45px",height:"45px",cor:`${t.tipoRosto===2?"var(--primary)":"var(--tertiary)"}`},null,8,["cor"]),o(K,{anchor:"top middle",self:"center middle"},{default:l(()=>e[19]||(e[19]=[h("Quadrado")])),_:1})]),_:1}),o(d,{onClick:e[14]||(e[14]=b=>i.mudaRosto(3)),col:"xs sm-shrink",class:"cursor-pointer"},{default:l(()=>[o(n,{src:"statics/jornada/rostos/coracao",width:"45px",height:"45px",cor:`${t.tipoRosto===3?"var(--primary)":"var(--tertiary)"}`},null,8,["cor"]),o(K,{anchor:"top middle",self:"center middle"},{default:l(()=>e[20]||(e[20]=[h("Cora\xE7\xE3o")])),_:1})]),_:1}),o(d,{onClick:e[15]||(e[15]=b=>i.mudaRosto(4)),col:"xs sm-shrink",class:"cursor-pointer"},{default:l(()=>[o(n,{src:"statics/jornada/rostos/triangular",width:"45px",height:"45px",cor:`${t.tipoRosto===4?"var(--primary)":"var(--tertiary)"}`},null,8,["cor"]),o(K,{anchor:"top middle",self:"center middle"},{default:l(()=>e[21]||(e[21]=[h("Triangular")])),_:1})]),_:1}),o(d,{onClick:e[16]||(e[16]=b=>i.mudaRosto(5)),col:"xs sm-shrink",class:"cursor-pointer"},{default:l(()=>[o(n,{src:"statics/jornada/rostos/oval",width:"45px",height:"45px",cor:`${t.tipoRosto===5?"var(--primary)":"var(--tertiary)"}`},null,8,["cor"]),o(K,{anchor:"top middle",self:"center middle"},{default:l(()=>e[22]||(e[22]=[h("Oval")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var ko=N(ho,[["render",Co],["__scopeId","data-v-4b875991"]]);const zo={data(){return{tipoRosto:1,nomeRosto:"Redondo",nomesRosto:["Redondo","Quadrado","Cora\xE7\xE3o","Triangular","Oval"],urlsArmacoesDestaque:{11:"statics/jornada/armacoes/armacoes-05.svg",12:"statics/jornada/armacoes/armacoes-06.svg",13:"statics/jornada/armacoes/armacoes-07.svg",14:"statics/jornada/armacoes/armacoes-08.svg",21:"statics/jornada/armacoes/armacoes-09.svg",22:"statics/jornada/armacoes/armacoes-10.svg",23:"statics/jornada/armacoes/armacoes-11.svg",24:"statics/jornada/armacoes/armacoes-12.svg",31:"statics/jornada/armacoes/armacoes-13.svg",32:"statics/jornada/armacoes/armacoes-14.svg",33:"statics/jornada/armacoes/armacoes-15.svg",34:"statics/jornada/armacoes/armacoes-05.svg",41:"statics/jornada/armacoes/armacoes-06.svg",42:"statics/jornada/armacoes/armacoes-07.svg",43:"statics/jornada/armacoes/armacoes-08.svg",44:"statics/jornada/armacoes/armacoes-09.svg",51:"statics/jornada/armacoes/armacoes-09.svg",52:"statics/jornada/armacoes/armacoes-10.svg",53:"statics/jornada/armacoes/armacoes-11.svg",54:"statics/jornada/armacoes/armacoes-12.svg"},rosto:"",armacaoSelecionada:"",armacaoDestaque:"",armacaoFator:1,zoom:100,pinca:{zoom:0,scaling:!1,width:0,height:0,top:0,left:0},distancia:{x1i:0,y1i:0,x2i:0,y2i:0,x1f:0,y1f:0,x2f:0,y2f:0,distanciaInicial:0,distanciaFinal:0},qtde:0}},emits:["mudarTela","fecharModal"],methods:{async atualizar(){$q.loading.show(),await $db.jornada.carrega($db.jornada.doc.value.id),this.rosto=$db.jornada.b64Images.rosto,this.tipoRosto=$db.jornada.doc.value.formatoRosto.tipoRosto,this.nomeRosto=$db.jornada.doc.value.formatoRosto.rosto;const a=$db.jornada.doc.value.formatoArmacao.armacaoDestaque;a?(this.armacaoDestaque=a,this.armacaoSelecionada=this.urlsArmacoesDestaque[this.armacaoDestaque]):this.mudarArmacoes($db.jornada.doc.value.formatoRosto.tipoRosto),this.redimensiona(),$q.loading.hide()},async mudarTelaMenu(a){await this.salvar(),this.$emit("mudarTela",a)},async fecharModal(){await this.salvar(),this.$emit("fecharModal")},async btAnterior(){await this.salvar(),this.$emit("mudarTela","FormatoRosto")},async btProximo(){await this.salvar(),this.$emit("mudarTela","EscolherArmacao")},touch(a){const e=this.$refs.armacao;let u=0;try{u=a.evt.touches.length}catch{}if(this.qtde=u,this.pinca.scaling||u!==2&&Math.abs(a.delta.x+a.delta.y)<=20&&(e.style.left=parseFloat(e.style.left)+a.delta.x+"px",e.style.top=parseFloat(e.style.top)+a.delta.y+"px"),!this.pinca.scaling&&u===2){const m=this.distancia;m.x1i=a.evt.touches[0].pageX,m.y1i=a.evt.touches[0].pageY,m.x2i=a.evt.touches[1].pageX,m.y2i=a.evt.touches[1].pageY,m.distanciaInicial=Math.hypot(a.evt.touches[0].pageX-a.evt.touches[1].pageX,a.evt.touches[0].pageY-a.evt.touches[1].pageY),this.pinca.width=parseFloat(e.style.width),this.pinca.height=parseFloat(e.style.height),this.pinca.top=parseFloat(e.style.top),this.pinca.left=parseFloat(e.style.left),this.pinca.zoom=Math.hypot(a.evt.touches[0].pageX-a.evt.touches[1].pageX,a.evt.touches[0].pageY-a.evt.touches[1].pageY),this.pinca.scaling=!0}if(this.pinca.scaling&&u===0&&setTimeout(()=>{this.pinca.scaling=!1},500),this.pinca.scaling&&u===2)try{const m=a.evt,t=Math.hypot(m.touches[0].pageX-m.touches[1].pageX,m.touches[0].pageY-m.touches[1].pageY)-this.pinca.zoom,i=this.$refs.armacao;i.style.width=this.pinca.width+t+"px",i.style.height=this.pinca.height+t*this.armacaoFator+"px",i.style.top=this.pinca.top-t/2*this.armacaoFator+"px",i.style.left=this.pinca.left-t/2+"px"}catch(m){console.log(m)}clearTimeout(this.debounce),this.debounce=setTimeout(this.salvar,500)},zoomMais(){const a=this.$refs.armacao;a.style.width=parseFloat(a.style.width)+2+"px",a.style.height=parseFloat(a.style.height)+2*this.armacaoFator+"px",a.style.top=parseFloat(a.style.top)-1*this.armacaoFator+"px",a.style.left=parseFloat(a.style.left)-1+"px",clearTimeout(this.debounce),this.debounce=setTimeout(this.salvar,500)},zoomMenos(){const a=this.$refs.armacao;a.style.width=parseFloat(a.style.width)-2+"px",a.style.height=parseFloat(a.style.height)-2*this.armacaoFator+"px",a.style.top=parseFloat(a.style.top)+1*this.armacaoFator+"px",a.style.left=parseFloat(a.style.left)+1+"px",clearTimeout(this.debounce),this.debounce=setTimeout(this.salvar,500)},mudarArmacoes(a){this.tipoRosto=a,this.nomeRosto=this.nomesRosto[a-1],this.armacaoDestaque=a+"1",this.armacaoSelecionada=this.urlsArmacoesDestaque[this.armacaoDestaque]},async mudarArmacao(a,e){this.armacaoSelecionada=a.target.src,this.armacaoDestaque=this.tipoRosto+""+e,await this.salvar()},async redimensiona(){const a=this.$refs.quadro,e=this.$refs.rosto,u=this.$refs.armacao,m=getComputedStyle(a),t=getComputedStyle(e);let i=getComputedStyle(u);const n=parseFloat(t.width)/parseFloat(t.height);parseFloat(m.width)/parseFloat(m.height)>n?(e.style.width="auto",e.style.height="100%"):(e.style.width="100%",e.style.height="auto");const g=$db.jornada.doc.value.formatoArmacao.medidasQuadro,b=$db.jornada.doc.value.formatoArmacao.medidasRosto,s=$db.jornada.doc.value.formatoArmacao.medidasArmacao;parseFloat(t.width)&&parseFloat(t.height)&&!(Object.values(g).every(Boolean)&&Object.values(b).every(Boolean)&&Object.values(s).every(Boolean))&&(console.log("NOVA JORNADA! ",t),g.width=m.width,g.height=m.height,b.width=t.width,b.height=t.height,u.style.width=parseFloat(t.width)*.7+"px",u.style.height="auto !important",u.style.top=(parseFloat(m.height)-parseFloat(t.height))/2+parseFloat(t.height)/5+"px",u.style.left=(parseFloat(m.width)-parseFloat(t.width))/2+parseFloat(t.width)/2-parseFloat(t.width)*.7/2+"px",await new Promise(T=>{const v=setInterval(()=>{i=getComputedStyle(u),parseFloat(i.width)&&parseFloat(i.top)&&parseFloat(i.left)&&(clearInterval(v),T())},10)}),s.width=i.width,s.height="auto !important",s.top=i.top,s.left=i.left,await this.salvar());const _={};_.quadro={width:parseFloat(g.width),height:parseFloat(g.height),top:(parseFloat(g.height)-parseFloat(b.height))/2,left:(parseFloat(g.width)-parseFloat(b.width))/2},_.rosto={width:parseFloat(b.width),height:parseFloat(b.height),top:(parseFloat(g.height)-parseFloat(b.height))/2,left:(parseFloat(g.width)-parseFloat(b.width))/2},_.armacao={width:parseFloat(s.width),height:parseFloat(s.height),top:parseFloat(s.top)-parseFloat(_.quadro.top),left:parseFloat(s.left)-parseFloat(_.quadro.left)};const f={};f.quadro={width:parseFloat(m.width),height:parseFloat(m.height),top:(parseFloat(m.height)-parseFloat(t.height))/2,left:(parseFloat(m.width)-parseFloat(t.width))/2},f.rosto={width:parseFloat(t.width),height:parseFloat(t.height),top:(parseFloat(m.height)-parseFloat(t.height))/2,left:(parseFloat(m.width)-parseFloat(t.width))/2},f.armacao={width:_.armacao.width*(f.rosto.width/_.rosto.width),height:"auto",top:f.quadro.top+_.armacao.top*(f.rosto.height/_.rosto.height),left:f.quadro.left+_.armacao.left*(f.rosto.width/_.rosto.width)},u.style.height=f.armacao.height,f.armacao.width>f.rosto.width?u.style.width=$utils.arredondar(parseFloat(t.width)*.7,4)+"px":u.style.width=$utils.arredondar(f.armacao.width,4)+"px",f.armacao.top<0||f.armacao.top+parseFloat(i.height)>f.quadro.height?u.style.top=$utils.arredondar((f.quadro.height-f.rosto.height)/2+f.rosto.height/5,4)+"px":u.style.top=$utils.arredondar(f.armacao.top,4)+"px",f.armacao.left<0||f.armacao.left+f.armacao.width>f.quadro.width?u.style.left=$utils.arredondar((f.quadro.width-f.rosto.width)/2+(f.rosto.width-f.armacao.width)/2,4)+"px":u.style.left=$utils.arredondar(f.armacao.left,4)+"px"},async salvar(){$db.jornada.doc.value.formatoRosto.tipoRosto=this.tipoRosto,$db.jornada.doc.value.formatoRosto.rosto=this.nomeRosto,$db.jornada.doc.value.formatoArmacao.armacaoDestaque=this.armacaoDestaque;const a=this.$refs.armacao,e=this.$refs.rosto,u=this.$refs.quadro,m=getComputedStyle(a),t=getComputedStyle(e),i=getComputedStyle(u),n={width:i.width,height:i.height},d={width:t.width,height:t.height},g={top:m.top,left:m.left,width:m.width,height:m.height};$db.jornada.doc.value.formatoArmacao.medidasQuadro=n,$db.jornada.doc.value.formatoArmacao.medidasRosto=d,$db.jornada.doc.value.formatoArmacao.medidasArmacao=g,await $db.jornada.grava()}},mounted(){this.rosto=$db.jornada.b64Images.rosto,this.tipoRosto=$db.jornada.doc.value.formatoRosto.tipoRosto,this.nomeRosto=$db.jornada.doc.value.formatoRosto.rosto;const a=$db.jornada.doc.value.formatoArmacao.armacaoDestaque;a?(this.armacaoDestaque=a,this.armacaoSelecionada=this.urlsArmacoesDestaque[this.armacaoDestaque]):this.mudarArmacoes($db.jornada.doc.value.formatoRosto.tipoRosto),this.atualizar()}},Oo={class:"quadro",ref:"quadro"},qo=["src"],_o=["src"],Ao={class:"zonaTouch"},Fo={class:"contentBtns"},Po={class:"hideonmobile"},Mo={height:"40",viewBox:"0 0 300 420"},Uo=["fill"],To={height:"40",viewBox:"0 0 300 420"},Do=["fill"],jo={height:"40",viewBox:"0 0 300 420"},Eo=["fill"],Ro={height:"40",viewBox:"0 0 300 420"},Io=["fill"],Bo={height:"40",viewBox:"0 0 300 420"},Lo=["fill"];function No(a,e,u,m,t,i){const n=C("g-col"),d=C("g-row");return p(),y(L,{id:"FormatoArmacao",view:"hHh LpR fFf",class:"bg-white",style:{overflow:"hidden"}},{default:l(()=>[o(X,null,{default:l(()=>[o(D,{class:"bg-primary text-white"},{default:l(()=>[o(c,{onClick:e[0]||(e[0]=g=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(c,{icon:"menu",round:"",flat:"",dense:""},{default:l(()=>[o(J,null,{default:l(()=>[o(W,{style:{"min-width":"100px"}},{default:l(()=>[(p(!0),z(P,null,I(a.$db.jornada.menu,(g,b)=>x((p(),y(R,{key:b,onClick:s=>i.mudarTelaMenu(g.tela),clickable:""},{default:l(()=>[o(F,null,{default:l(()=>[h(O(g.descricao),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[j]])),128))]),_:1})]),_:1})]),_:1}),o(E,null,{default:l(()=>e[33]||(e[33]=[h("Formato Arma\xE7\xE3o")])),_:1}),o(c,{onClick:e[1]||(e[1]=g=>i.atualizar()),icon:"refresh",round:"",flat:"",dense:""}),o(c,{onClick:e[2]||(e[2]=g=>i.fecharModal()),icon:"close",round:"",flat:"",dense:""}),o(c,{onClick:e[3]||(e[3]=g=>i.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:""})]),_:1})]),_:1}),o(G,{style:{overflow:"hidden"}},{default:l(()=>[o(Y,{style:{overflow:"hidden"}},{default:l(()=>[o($,{onResize:i.redimensiona},null,8,["onResize"]),r("div",Oo,[r("img",{class:"rosto",ref:"rosto",src:t.rosto,onContextmenu:e[4]||(e[4]=q(()=>{},["prevent"]))},null,40,qo)],512),r("img",{class:"armacao",ref:"armacao",src:t.armacaoSelecionada,onContextmenu:e[5]||(e[5]=q(()=>{},["prevent"])),style:{width:"100%",height:"auto !important",top:"0",left:"0"}},null,40,_o),x(r("div",Ao,null,512),[[re,i.touch,void 0,{prevent:!0,mouse:!0}]])]),_:1})]),_:1}),o(de,{class:"bg-light q-pa-none",reveal:""},{default:l(()=>[r("div",Fo,[x(o(c,{onContextmenu:e[6]||(e[6]=q(()=>{},["prevent"])),icon:"zoom_in",color:"primary",size:"md",round:"",class:"zoomMais"},null,512),[[U,i.zoomMais,"0:20",{mouse:!0,enter:!0,space:!0}]]),x(o(c,{onContextmenu:e[7]||(e[7]=q(()=>{},["prevent"])),icon:"zoom_out",color:"primary",size:"md",round:"",class:"zoomMenos"},null,512),[[U,i.zoomMenos,"0:20",{mouse:!0,enter:!0,space:!0}]])]),o(d,{bordered:"top"},{default:l(()=>[t.tipoRosto===1?(p(),z(P,{key:0},[o(n,{text:"center",bordered:"right",class:A(t.armacaoDestaque==="11"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[8]||(e[8]=g=>i.mudarArmacao(g,1)),src:"statics/jornada/armacoes/armacoes-05.svg",class:"menuArmacoes"})]),_:1},8,["class"]),o(n,{text:"center",bordered:"right",class:A(t.armacaoDestaque==="12"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[9]||(e[9]=g=>i.mudarArmacao(g,2)),src:"statics/jornada/armacoes/armacoes-06.svg",class:"menuArmacoes"})]),_:1},8,["class"]),o(n,{text:"center",bordered:"right",class:A(t.armacaoDestaque==="13"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[10]||(e[10]=g=>i.mudarArmacao(g,3)),src:"statics/jornada/armacoes/armacoes-07.svg",class:"menuArmacoes"})]),_:1},8,["class"]),o(n,{text:"center",bordered:"right",class:A(t.armacaoDestaque==="14"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[11]||(e[11]=g=>i.mudarArmacao(g,4)),src:"statics/jornada/armacoes/armacoes-08.svg",class:"menuArmacoes"})]),_:1},8,["class"])],64)):w("",!0),t.tipoRosto===2?(p(),z(P,{key:1},[o(n,{text:"center",bordered:"right",class:A(t.armacaoDestaque==="21"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[12]||(e[12]=g=>i.mudarArmacao(g,1)),src:"statics/jornada/armacoes/armacoes-09.svg",class:"menuArmacoes"})]),_:1},8,["class"]),o(n,{text:"center",bordered:"right",class:A(t.armacaoDestaque==="22"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[13]||(e[13]=g=>i.mudarArmacao(g,2)),src:"statics/jornada/armacoes/armacoes-10.svg",class:"menuArmacoes"})]),_:1},8,["class"]),o(n,{text:"center",bordered:"right",class:A(t.armacaoDestaque==="23"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[14]||(e[14]=g=>i.mudarArmacao(g,3)),src:"statics/jornada/armacoes/armacoes-11.svg",class:"menuArmacoes"})]),_:1},8,["class"]),o(n,{text:"center",bordered:"right",class:A(t.armacaoDestaque==="24"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[15]||(e[15]=g=>i.mudarArmacao(g,4)),src:"statics/jornada/armacoes/armacoes-12.svg",class:"menuArmacoes"})]),_:1},8,["class"])],64)):w("",!0),t.tipoRosto===3?(p(),z(P,{key:2},[o(n,{text:"center",bordered:"right",class:A(t.armacaoDestaque==="31"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[16]||(e[16]=g=>i.mudarArmacao(g,1)),src:"statics/jornada/armacoes/armacoes-13.svg",class:"menuArmacoes"})]),_:1},8,["class"]),o(n,{text:"center",bordered:"right",class:A(t.armacaoDestaque==="32"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[17]||(e[17]=g=>i.mudarArmacao(g,2)),src:"statics/jornada/armacoes/armacoes-14.svg",class:"menuArmacoes"})]),_:1},8,["class"]),o(n,{text:"center",bordered:"right",class:A(t.armacaoDestaque==="33"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[18]||(e[18]=g=>i.mudarArmacao(g,3)),src:"statics/jornada/armacoes/armacoes-15.svg",class:"menuArmacoes"})]),_:1},8,["class"]),o(n,{text:"center",bordered:"right",class:A(t.armacaoDestaque==="34"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[19]||(e[19]=g=>i.mudarArmacao(g,4)),src:"statics/jornada/armacoes/armacoes-05.svg",class:"menuArmacoes"})]),_:1},8,["class"])],64)):w("",!0),t.tipoRosto===4?(p(),z(P,{key:3},[o(n,{text:"center",bordered:"right",class:A(t.armacaoDestaque==="41"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[20]||(e[20]=g=>i.mudarArmacao(g,1)),src:"statics/jornada/armacoes/armacoes-06.svg",class:"menuArmacoes"})]),_:1},8,["class"]),o(n,{text:"center",bordered:"right",class:A(t.armacaoDestaque==="42"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[21]||(e[21]=g=>i.mudarArmacao(g,2)),src:"statics/jornada/armacoes/armacoes-07.svg",class:"menuArmacoes"})]),_:1},8,["class"]),o(n,{text:"center",bordered:"right",class:A(t.armacaoDestaque==="43"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[22]||(e[22]=g=>i.mudarArmacao(g,3)),src:"statics/jornada/armacoes/armacoes-08.svg",class:"menuArmacoes"})]),_:1},8,["class"]),o(n,{text:"center",bordered:"right",class:A(t.armacaoDestaque==="44"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[23]||(e[23]=g=>i.mudarArmacao(g,4)),src:"statics/jornada/armacoes/armacoes-09.svg",class:"menuArmacoes"})]),_:1},8,["class"])],64)):w("",!0),t.tipoRosto===5?(p(),z(P,{key:4},[o(n,{text:"center",bordered:"right",class:A(t.armacaoDestaque==="51"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[24]||(e[24]=g=>i.mudarArmacao(g,1)),src:"statics/jornada/armacoes/armacoes-09.svg",class:"menuArmacoes"})]),_:1},8,["class"]),o(n,{text:"center",bordered:"right",class:A(t.armacaoDestaque==="52"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[25]||(e[25]=g=>i.mudarArmacao(g,2)),src:"statics/jornada/armacoes/armacoes-10.svg",class:"menuArmacoes"})]),_:1},8,["class"]),o(n,{text:"center",bordered:"right",class:A(t.armacaoDestaque==="53"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[26]||(e[26]=g=>i.mudarArmacao(g,3)),src:"statics/jornada/armacoes/armacoes-11.svg",class:"menuArmacoes"})]),_:1},8,["class"]),o(n,{text:"center",bordered:"right",class:A(t.armacaoDestaque==="54"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[27]||(e[27]=g=>i.mudarArmacao(g,4)),src:"statics/jornada/armacoes/armacoes-12.svg",class:"menuArmacoes"})]),_:1},8,["class"])],64)):w("",!0),o(n,{col:"shrink",text:"center"},{default:l(()=>[o(c,{"icon-right":"more_vert",size:"md",color:"linght","text-color":"tertiary",flat:"",class:"fit"},{default:l(()=>[r("span",Po,O(t.nomeRosto),1),o(J,null,{default:l(()=>[x((p(),y(W,{link:"","no-border":"",separator:""},{default:l(()=>[x((p(),y(R,{onClick:e[28]||(e[28]=g=>i.mudarArmacoes(1)),clickable:"",class:A(t.tipoRosto===1?"bg-blue-2":"bg-none")},{default:l(()=>[o(F,{avatar:""},{default:l(()=>[(p(),z("svg",Mo,[r("path",{fill:t.tipoRosto===1?"#003fff":"#555555",d:"M154.7,27.6c41,0,95.2,20.4,112.7,77.9c21,69.1,9.3,153.6-3,190.6c-11.5,34.6-62.2,96.4-122,96.4c-27.9,0-69.5-19-109.8-109.7c-11.4-25.6-21-128.4,6.3-195.2C62,30.8,130.2,27.9,143.7,27.9c0.8,0,1.3,0,1.4,0l0.6,0l0.6,0C148.9,27.7,151.7,27.6,154.7,27.6z"},null,8,Uo)]))]),_:1}),o(F,null,{default:l(()=>[o(H,{class:A(t.tipoRosto===1?"text-primary":"text-tertiary")},{default:l(()=>e[34]||(e[34]=[h("Redondo")])),_:1},8,["class"])]),_:1})]),_:1},8,["class"])),[[j]]),x((p(),y(R,{onClick:e[29]||(e[29]=g=>i.mudarArmacoes(2)),clickable:"",class:A(t.tipoRosto===2?"bg-blue-2":"bg-none")},{default:l(()=>[o(F,{avatar:""},{default:l(()=>[(p(),z("svg",To,[r("path",{fill:t.tipoRosto===2?"#003fff":"#555555",d:"M264.7,94.6C249.3,32.9,176.4,19,152,19l-1.1,0v0c-0.1,0-0.3,0-0.4,0l-0.5,0l-0.5,0c-0.1,0-0.3,0-0.4,0v0l-1.1,0c-24.3,0-97.2,13.9-112.6,75.6c-15.5,62-18.1,176.7,0.3,213.6c18.2,36.4,73.9,89.5,76.2,91.6l1.2,1.1l36,0.1v0l1,0l1,0v0l36-0.1l1.2-1.1c2.4-2.1,58-55.1,76.2-91.6C282.8,271.3,280.2,156.6,264.7,94.6z"},null,8,Do)]))]),_:1}),o(F,null,{default:l(()=>[o(H,{class:A(t.tipoRosto===2?"text-primary":"text-tertiary")},{default:l(()=>e[35]||(e[35]=[h("Quadrado")])),_:1},8,["class"])]),_:1})]),_:1},8,["class"])),[[j]]),x((p(),y(R,{onClick:e[30]||(e[30]=g=>i.mudarArmacoes(3)),clickable:"",class:A(t.tipoRosto===3?"bg-blue-2":"bg-none")},{default:l(()=>[o(F,{avatar:""},{default:l(()=>[(p(),z("svg",jo,[r("path",{fill:t.tipoRosto===3?"#003fff":"#555555",d:"M289.8,214.2c-5.9-82.9-9.5-133-34.3-159.2C232.1,30.3,189.1,13.9,150,14.5C110.9,13.9,67.9,30.3,44.5,55c-24.8,26.2-28.4,76.2-34.3,159.2l-0.1,0.9l0.3,0.9C42.2,305.7,98.9,407,150,405.5c51.1,1.5,107.8-99.9,139.6-189.5l0.3-0.9L289.8,214.2z"},null,8,Eo)]))]),_:1}),o(F,null,{default:l(()=>[o(H,{class:A(t.tipoRosto===3?"text-primary":"text-tertiary")},{default:l(()=>e[36]||(e[36]=[h("Cora\xE7\xE3o")])),_:1},8,["class"])]),_:1})]),_:1},8,["class"])),[[j]]),x((p(),y(R,{onClick:e[31]||(e[31]=g=>i.mudarArmacoes(4)),clickable:"",class:A(t.tipoRosto===4?"bg-blue-2":"bg-none")},{default:l(()=>[o(F,{avatar:""},{default:l(()=>[(p(),z("svg",Ro,[r("path",{fill:t.tipoRosto===4?"#003fff":"#555555",d:"M264.7,101C255,52.4,204.6,12.7,151,10.4v-0.1c-0.3,0-0.7,0-1,0c-0.3,0-0.7,0-1,0v0.1C95.4,12.7,45,52.4,35.3,101c-7.4,37-6.8,100.2-6.3,150.9c0.1,11.9,0.2,23.2,0.2,33.5v0.6l0.2,0.6c14.3,48.7,74.8,115.3,119.6,122.8v0.3c0.3,0,0.7-0.1,1-0.2c0.3,0,0.7,0.1,1,0.2v-0.3c44.8-7.5,105.3-74.1,119.6-122.8l0.2-0.6v-0.6c0-10.2,0.1-21.5,0.2-33.5C271.5,201.2,272.1,138.1,264.7,101z"},null,8,Io)]))]),_:1}),o(F,null,{default:l(()=>[o(H,{class:A(t.tipoRosto===4?"text-primary":"text-tertiary")},{default:l(()=>e[37]||(e[37]=[h("Triangular")])),_:1},8,["class"])]),_:1})]),_:1},8,["class"])),[[j]]),x((p(),y(R,{onClick:e[32]||(e[32]=g=>i.mudarArmacoes(5)),clickable:"",class:A(t.tipoRosto===5?"bg-blue-2":"bg-none")},{default:l(()=>[o(F,{avatar:""},{default:l(()=>[(p(),z("svg",Bo,[r("path",{fill:t.tipoRosto===5?"#003fff":"#555555",d:"M280.7,173.8c-13.1-65.3-32.8-109.4-60.4-134.8c-24.7-22.7-51.4-25.6-70.3-25.3c-18.9-0.3-45.6,2.6-70.3,25.3c-27.6,25.3-47.3,69.4-60.4,134.8l-0.1,0.5l0,0.5c1.5,68.2,15.3,97.7,36.1,142.3l0.4,0.9c26.2,56.1,60,88.3,92.8,88.3c0.5,0,1,0,1.5,0c0.5,0,1,0,1.5,0c32.8,0,66.6-32.2,92.8-88.3l0.4-0.9c20.8-44.6,34.6-74.1,36.1-142.3l0-0.5L280.7,173.8z"},null,8,Lo)]))]),_:1}),o(F,null,{default:l(()=>[o(H,{class:A(t.tipoRosto===5?"text-primary":"text-tertiary")},{default:l(()=>e[38]||(e[38]=[h("Oval")])),_:1},8,["class"])]),_:1})]),_:1},8,["class"])),[[j]])]),_:1})),[[j]])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var So=N(zo,[["render",No],["__scopeId","data-v-73b77228"]]);const Ho={data(){return{doc:$db.jornada.doc,espelhoCamera:!0,isDown:!1,startX:0,scrollLeft:0,infoContainerHeight:[]}},emits:["btProximo","fechar"],methods:{btProximo(a){this.$emit("btProximo",a)},onMouseDown(a){this.isDown=!0,this.startX=a.pageX-this.$refs.espelhoContainer.offsetLeft,this.scrollLeft=this.$refs.espelhoContainer.scrollLeft},onMouseLeave(){this.isDown=!1},onMouseUp(){this.isDown=!1},onMouseMove(a){if(!this.isDown)return;a.preventDefault();const u=(a.pageX-this.$refs.espelhoContainer.offsetLeft-this.startX)*1.5;this.$refs.espelhoContainer.scrollLeft=this.scrollLeft-u},async espelhoRemove(a){$q.dialog({title:"Deseja continuar?",message:"Ao continuar voc\xEA ir\xE1 remover a imagem.",cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(async()=>{$q.loading.show(),this.doc.espelhos[a]=null,await $db.jornada.grava(),delete this.doc.espelhos[a],delete $db.jornada.b64Images.espelhos[a],Object.keys(this.doc.espelhos).length===0&&this.$emit("fechar"),$q.loading.hide()})},imagemHeight(){for(const a of Object.keys(this.doc.espelhos)){const e=document.getElementById(a);e&&(this.infoContainerHeight[a]=e.offsetHeight)}}},mounted(){this.$nextTick(()=>{this.imagemHeight()})}};function Qo(a,e,u,m,t,i){const n=C("g-col"),d=C("g-row"),g=C("g-label");return p(),y(L,{view:"hHh LpR fFf",class:"bg-white hide-scrollbar"},{default:l(()=>[r("div",null,[o(X,null,{default:l(()=>[o(D,{class:"bg-primary text-white"},{default:l(()=>[o(d,{items:"center",justify:"between","no-wrap":"",class:"full-width"},{default:l(()=>[o(n,{class:"hideonmobile q-ml-xs"},{default:l(()=>[o(E,null,{default:l(()=>e[5]||(e[5]=[h("Espelho")])),_:1})]),_:1}),o(n,{col:"shrink sm",text:"right"},{default:l(()=>[x(o(c,{icon:"add_a_photo",color:"white",round:"",flat:""},null,512),[[j]]),x(o(c,{icon:"close",round:"",flat:"",dense:""},null,512),[[j]])]),_:1})]),_:1})]),_:1})]),_:1}),o(G,null,{default:l(()=>[o(Y,null,{default:l(()=>[r("div",{class:"espelhoContainer",ref:"espelhoContainer",onMousedown:e[1]||(e[1]=(...b)=>i.onMouseDown&&i.onMouseDown(...b)),onMouseleave:e[2]||(e[2]=(...b)=>i.onMouseLeave&&i.onMouseLeave(...b)),onMouseup:e[3]||(e[3]=(...b)=>i.onMouseUp&&i.onMouseUp(...b)),onMousemove:e[4]||(e[4]=(...b)=>i.onMouseMove&&i.onMouseMove(...b))},[o(d,{"no-wrap":"",items:"center",height:"calc(100vh - 58px)"},{default:l(()=>[(p(!0),z(P,null,I(Object.keys(t.doc.espelhos),(b,s)=>(p(),y(n,{key:s,col:"xs12 sm7 md6 lg4",height:"100%",maxWidth:"550px"},{default:l(()=>[o(d,{gutter:"md",height:"100%",relative:"","rounded-borders":""},{default:l(()=>[o(n,{col:"12",height:"100%",bg:"bg-grey-4",relative:"","rounded-borders":"",style:{overflow:"hidden"}},{default:l(()=>[o($,{onResize:e[0]||(e[0]=_=>i.imagemHeight())}),o(d,{style:le(`height:calc(100% - ${t.infoContainerHeight[b]}px)`),class:"q-px-sm q-pt-sm","rounded-borders":""},{default:l(()=>{var _,f;return[o(ve,{src:(f=(_=a.$db.jornada.b64Images)==null?void 0:_.espelhos)==null?void 0:f[b],key:"cover",fit:"cover",class:"rounded-borders"},null,8,["src"])]}),_:2},1032,["style"]),o(d,{id:b,gutter:"md",bg:"bg-white","rounded-borders":"",class:"info-container"},{default:l(()=>[o(n,{self:"end"},{default:l(()=>[o(g,{text:"bold h6"},{default:l(()=>[h(O(a.$filters.numeroZerosDireita(a.$db.jornada.itens[b].valorVenda,4,2)),1)]),_:2},1024)]),_:2},1024),o(n,{col:"shrink",self:"end"},{default:l(()=>[o(c,{onClick:_=>i.espelhoRemove(b),icon:"delete",color:"tertiary",round:"",flat:"",dense:""},null,8,["onClick"]),o(c,{onClick:_=>i.btProximo(b),label:"Comprar",color:"primary",unelevated:"",class:"q-ml-sm"},null,8,["onClick"])]),_:2},1024),o(n,{col:"12",self:"top",bordered:"top"},{default:l(()=>[a.$db.jornada.itens[b].descricaoConcatenada?(p(),y(g,{key:0,text:"left bold",lines:"2"},{default:l(()=>[h(O(a.$db.jornada.itens[b].descricaoConcatenada),1)]),_:2},1024)):w("",!0)]),_:2},1024)]),_:2},1032,["id"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),o(n,{col:"grow",text:"center"},{default:l(()=>[x(o(c,{icon:"add_a_photo",size:"xl",color:"tertiary",round:"",flat:"",class:"q-pa-lg"},null,512),[[j]])]),_:1})]),_:1})],544)]),_:1})]),_:1})])]),_:1})}var Xo=N(Ho,[["render",Qo],["__scopeId","data-v-a2bbcf22"]]);const Go={components:{Avatar:Pe,SeletorCampoTabela:Ne,FotosEspelhadas:Xo},computed:{opcoesStatus(){return[{rotulo:"Linha",valor:"Linha"},{rotulo:"Fora de Linha",valor:"Fora de Linha"},{rotulo:"Promo\xE7\xE3o",valor:"Promo\xE7\xE3o"}]}},data(){return{doc:$db.jornada.doc,cTitulo:"",lista:[],listaOriginal:[],permissaoFicha:!1,permissaoEstoque:!1,sistemaPai:$utils.sistemaPai(),showFilters:!1,filtros:{ativo:null,descricaoAplicacao:null,codigoBarras:null,marca:null,fornecedores:null,grupo:null,subGrupo:null,status:null,estoque:null,tipo:"Arma\xE7\xE3o",codigoCompra:null},buscaCampo:"",opcoesMarca:[],opcoesGrupo:[],opcoesSubGrupo:[],opcoesTipo:[],paginacao:{atual:1,maximo:1,total:1,limite:28,ordenacao:["descricaoConcatenada"]},itemEspelho:{},mostrarEspelho:!1}},emits:["mudarTela","fecharModal"],methods:{async imagemCameraInput(a){if($q.platform.is.desktop){const e=await $g.promptCamera.show({sensor:!1});if(e.acao==="foto"){$q.loading.show();const u=e.foto,m=$utils.uuid();this.doc.espelhos[a.id]=m,await $db.jornada.salvarImagem({idImagem:m,imagem:u}),await $db.jornada.grava(),$db.jornada.b64Images.espelhos[a.id]=u,await this.atualizar(),$q.loading.hide()}}if($q.platform.is.mobile){const e=await $db.jornada.obterImagemCameraInput();if(e){$q.loading.show();const u=$utils.uuid();this.doc.espelhos[a.id]=u,await $db.jornada.salvarImagem({idImagem:u,imagem:e}),await $db.jornada.grava(),$db.jornada.b64Images.espelhos[a.id]=e,await this.atualizar(),$q.loading.hide()}}},fecharModal(){this.$emit("fecharModal")},btAnterior(){this.$emit("mudarTela","FormatoArmacao")},btProximo(a){a&&(this.mostrarEspelho=!1,this.doc.armacao.idItem=a,$db.jornada.grava()),this.$emit("mudarTela","TamanhoFoto")},btEspelho(){this.mostrarEspelho=!0},esconderEspelho(a){this.mostrarEspelho=a},async atualizar(){try{$q.loading.show(),await $db.jornada.carregaImagensEspelho();const a=$utils.eliminarVazios(this.filtros);a.ativo=!0,this.itemListaFiltro={...a,termoBusca:this.buscaCampo},localStorage.setItem("itemListaFiltro",JSON.stringify(this.itemListaFiltro));const e=await $db.item.ler({filtros:this.itemListaFiltro,limit:this.paginacao.limite,page:this.paginacao.atual,sort:this.paginacao.ordenacao});e.total||(e.total=e.total=e.data.length),e.totalPages||(e.totalPages=1);const u=$utils.clonarV2(e.data);if(this.doc.idItemTabelaPreco){const m=this.doc.idItemTabelaPreco,t=await $db.hibrido.lista({table:"itemTabelaPreco"}),i=t.find(n=>n.id===m);if(i!=null&&i.id)for(const n of u.filter(d=>d.valorVenda)){const d=await $db.itemTabelaPreco.obterValores(i,n,4,t);n.valorVenda=d.valorVenda||0}}this.listaOriginal=u,this.lista=$utils.clonar(u);for(const m of this.lista)$db.jornada.itens[m.id]=m;this.paginacao.total=e.total,this.paginacao.maximo=e.totalPages}catch(a){$q.notifyError("Erro iniciar",a)}finally{$q.loading.hide()}},onResize(){this.cTitulo=$utils.isMobile()?"Filtro: Escolha uma Arma\xE7\xE3o":"Filtro"},limparFiltros_click(){this.filtros={descricaoAplicacao:null,codigoBarras:null,marca:null,fornecedores:null,grupo:null,subGrupo:null,status:null,estoque:null,tipo:"Arma\xE7\xE3o",codigoCompra:null},this.atualizar()},async filtroFornecedor_click(){const a=await $g.promptContato.show({filtro:{ativo:!0}});a.nome&&(this.filtros.fornecedores=a.nome)},async leOpcoesMarca(){this.opcoesMarca=(await $db.item.leValoresUnicos("marca")).map(a=>({rotulo:a,valor:a}))},async leOpcoesGrupo(){this.opcoesGrupo=(await $db.item.leValoresUnicos("grupo")).map(a=>({rotulo:a,valor:a}))},async leOpcoesTipo(){this.sistemaPai==="optisoul"&&(this.opcoesTipo=[{rotulo:"Arma\xE7\xE3o",valor:"Arma\xE7\xE3o"},{rotulo:"\xD3culos de Sol",valor:"\xD3culos Sol"},{rotulo:"\xD3culos Vista (Pronto)",valor:"\xD3culos Pronto"}])},completarCodigoBarras(){!this.campos.codigoBarras&&!!this.campos.codigoItem&&(this.campos.codigoBarras=$utils.completarCodigoBarras(String(this.campos.codigoItem)))},async getImagesFromApi(a){try{const u=(await $utils.geeksApi({getImagesFromApi:{funcao:"DB75E495-D0F8-4F09-BB51-9F028BB87D8B",ean:a.codigoBarras}})).data.getImagesFromApi.replace(/(\[*\]*'*)/g,""),m=[];for(const t of u.split(",")){const i=await this.getImageB6FromApi(t);m.push({id:$utils.uuid(),dataCriacao:$utils.dataAtual(),nome:t,idTabelaMaster:a.id,arquivo:i})}return m}catch(e){console.log(e)}finally{$q.loading.hide()}},async getImageB6FromApi(a){const e=await $utils.geeksApi({getImagesFromApi:{funcao:"E480B438-2555-4936-B04D-77EC188E0ADB",path:a}});return e==null?void 0:e.data.getImagesFromApi}},async mounted(){$q.loading.show(),await $db.configuracoes.le({nome:"importarImagensEAN"}),this.permissaoFicha=await $db.permissao.objeto("item//ficha"),this.permissaoEstoque=await $db.permissao.objeto("item//estoque"),await this.atualizar(),$q.loading.hide()}},Yo={class:"fit bg-white rounded-borders"},Wo={class:"row q-col-gutter-x-sm q-pa-md"};function Jo(a,e,u,m,t,i){const n=C("g-col"),d=C("g-row"),g=C("badge"),b=C("avatar"),s=C("g-label"),_=C("campo"),f=C("SeletorCampoTabela"),T=C("Fotos-Espelhadas");return p(),y(L,{id:"EscolherArmacao",view:"hHh LpR fFf",class:"bg-light"},{default:l(()=>[o(X,null,{default:l(()=>[o(D,{class:"bg-primary text-white"},{default:l(()=>[o(d,{items:"center",justify:"between","no-wrap":"",class:"full-width"},{default:l(()=>[o(n,{col:"shrink"},{default:l(()=>[o(c,{onClick:e[0]||(e[0]=v=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(c,{icon:"menu",round:"",flat:"",dense:""},{default:l(()=>[o(J,null,{default:l(()=>[o(W,{style:{"min-width":"100px"}},{default:l(()=>[(p(!0),z(P,null,I(a.$db.jornada.menu,(v,M)=>x((p(),y(R,{key:M,onClick:V=>a.$emit("mudarTela",v.tela),clickable:""},{default:l(()=>[o(F,null,{default:l(()=>[h(O(v.descricao),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[j]])),128))]),_:1})]),_:1})]),_:1})]),_:1}),o(n,{class:"hideonmobile",style:{"margin-left":"12px"}},{default:l(()=>[o(E,null,{default:l(()=>e[24]||(e[24]=[h("Escolher Arma\xE7\xE3o")])),_:1})]),_:1}),o(n,{col:"xs sm6 md5 lg4"},{default:l(()=>[o(ge,{modelValue:t.buscaCampo,"onUpdate:modelValue":[e[3]||(e[3]=v=>t.buscaCampo=v),i.atualizar],debounce:500,placeholder:t.cTitulo,"clear-icon":"close",standout:"",filled:"",clearable:"",dense:"",dark:"",class:"q-mx-auto"},{prepend:l(()=>[o(B,{onClick:e[1]||(e[1]=()=>{t.showFilters=!t.showFilters}),name:"mdi-filter",class:"hideonmobile text-white cursor-pointer"}),o(K,{anchor:"bottom middle",self:"center middle"},{default:l(()=>e[25]||(e[25]=[h("Filtros Avan\xE7ados")])),_:1})]),append:l(()=>[o(B,{onClick:e[2]||(e[2]=()=>{t.showFilters=!t.showFilters}),name:"mdi-tune",class:"text-white cursor-pointer"}),o(K,{anchor:"bottom middle",self:"center middle"},{default:l(()=>e[26]||(e[26]=[h("Filtros Avan\xE7ados")])),_:1})]),_:1},8,["modelValue","onUpdate:modelValue","placeholder"])]),_:1}),o(n,{col:"shrink sm",text:"right"},{default:l(()=>[x(o(c,{onClick:i.btEspelho,icon:"camera",round:"",flat:"",dense:""},null,8,["onClick"]),[[S,Object.keys(t.doc.espelhos).length>1]]),o(c,{onClick:i.atualizar,icon:"refresh",round:"",flat:"",dense:""},null,8,["onClick"]),o(c,{onClick:e[4]||(e[4]=v=>i.fecharModal()),icon:"close",round:"",flat:"",dense:""}),o(c,{onClick:e[5]||(e[5]=v=>i.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:""})]),_:1})]),_:1})]),_:1})]),_:1}),o(G,null,{default:l(()=>[o(Y,null,{default:l(()=>[o($,{onResize:i.onResize},null,8,["onResize"]),o(d,{gutter:"md",justify:"center"},{default:l(()=>[(p(!0),z(P,null,I(t.lista,v=>(p(),y(n,{key:v.id,col:"12 sm6 md3","rounded-borders":"",class:"itemHover",bg:t.doc.espelhos[v.id]?"bg-tertiary":""},{default:l(()=>[r("div",Yo,[o(d,{gutter:"md","rounded-borders":"",class:"fit"},{default:l(()=>[o(n,{col:"12",self:"top",bordered:"bottom"},{default:l(()=>{var M,V;return[v.tipo?(p(),y(g,{key:0,cor:"primary",escuro:"",class:"absolute"},{default:l(()=>[h(O(v.tipo),1)]),_:2},1024)):w("",!0),t.doc.espelhos[v.id]?(p(),y(ve,{src:(V=(M=a.$db.jornada.b64Images)==null?void 0:M.espelhos)==null?void 0:V[v.id],fit:"cover",key:"cover",position:"50% 0",style:{"max-width":"120px",height:"120px",display:"flex","align-self":"center",margin:"0 auto","border-radius":"10px"}},null,8,["src"])):(p(),y(b,{key:2,imagem:v.imagem,rotulo:v.descricaoConcatenada,tamanho:"120",style:{display:"flex","align-self":"center",margin:"0 auto"}},null,8,["imagem","rotulo"]))]}),_:2},1024),o(n,{col:"12",self:"top",bordered:"bottom"},{default:l(()=>[o(d,null,{default:l(()=>[o(n,null,{default:l(()=>[v.referencia?(p(),y(g,{key:0,cor:"tertiary",escuro:"",class:"q-mr-xs"},{default:l(()=>[h(O(v.referencia),1)]),_:2},1024)):w("",!0)]),_:2},1024),o(n,{text:"right"},{default:l(()=>[o(g,{cor:"positive",escuro:""},{default:l(()=>[h("#"+O((v.codigoItem||0).toString().padStart(4,"0")),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),v.descricaoConcatenada?(p(),y(s,{key:0,text:"left bold"},{default:l(()=>[h(O(v.descricaoConcatenada),1)]),_:2},1024)):w("",!0),v.marca?(p(),y(s,{key:1,text:"left caption"},{default:l(()=>[h(O(v.marca),1)]),_:2},1024)):w("",!0),v.grupo?(p(),y(g,{key:2},{default:l(()=>[h(O(v.grupo),1)]),_:2},1024)):w("",!0),v.subGrupo?(p(),y(g,{key:3,class:"q-ml-xs"},{default:l(()=>[h(O(v.subGrupo),1)]),_:2},1024)):w("",!0)]),_:2},1024),o(n,{self:"end"},{default:l(()=>[o(s,{text:"bold h6"},{default:l(()=>[h(O(a.$filters.numeroZerosDireita(v.valorVenda,4,2)),1)]),_:2},1024)]),_:2},1024),o(n,{col:"shrink",self:"end"},{default:l(()=>[t.doc.espelhos[v.id]?(p(),y(c,{key:1,onClick:i.btEspelho,icon:"camera",color:"tertiary",unelevated:"",round:"",class:"q-ml-sm"},null,8,["onClick"])):(p(),y(c,{key:0,onClick:M=>i.imagemCameraInput(v),icon:"camera",color:"primary",unelevated:"",round:"",class:"q-ml-sm"},null,8,["onClick"])),o(c,{onClick:M=>i.btProximo(v.id),label:"Comprar",color:"primary",unelevated:"",class:"q-ml-sm"},null,8,["onClick"])]),_:2},1024)]),_:2},1024)])]),_:2},1032,["bg"]))),128))]),_:1})]),_:1})]),_:1}),o(de,{class:"bg-light q-px-sm"},{default:l(()=>[o(d,{bordered:"top"},{default:l(()=>[o(n,null,{default:l(()=>[o(Se,{modelValue:t.paginacao.atual,"onUpdate:modelValue":[e[6]||(e[6]=v=>t.paginacao.atual=v),i.atualizar],max:t.paginacao.maximo,input:"",color:"tertiary",class:"justify-center"},null,8,["modelValue","onUpdate:modelValue","max"])]),_:1})]),_:1})]),_:1}),o(He,{modelValue:t.showFilters,"onUpdate:modelValue":e[21]||(e[21]=v=>t.showFilters=v),side:"right",overlay:"",bordered:"",onKeyup:Qe(i.atualizar,["enter"])},{default:l(()=>[o(L,{view:"hHh lpR lFr"},{default:l(()=>[o(X,{"height-hint":"98",class:"bg-white"},{default:l(()=>[o(D,{color:"white",class:"text-tertiary"},{default:l(()=>[o(B,{name:"mdi-filter",class:"text-h5"}),o(E,null,{default:l(()=>e[27]||(e[27]=[h("Filtros Avan\xE7ados")])),_:1}),o(c,{onClick:e[7]||(e[7]=v=>t.showFilters=!t.showFilters),icon:"close",round:"",flat:"",dense:""})]),_:1})]),_:1}),o(G,{class:"q-pa-md"},{default:l(()=>[o(_,{modelValue:t.filtros.descricaoAplicacao,"onUpdate:modelValue":e[8]||(e[8]=v=>t.filtros.descricaoAplicacao=v),rotulo:"Descri\xE7\xE3o/Aplica\xE7\xE3o",dense:"",class:"q-field--with-bottom"},null,8,["modelValue"]),o(_,{modelValue:t.filtros.codigoItem,"onUpdate:modelValue":e[9]||(e[9]=v=>t.filtros.codigoItem=v),rotulo:"C\xF3digo",prefix:"#",tipo:"decimal",decimals:"0",zerosDireita:"0",dense:"",class:"q-field--with-bottom"},null,8,["modelValue"]),o(_,{modelValue:t.filtros.referencia,"onUpdate:modelValue":e[10]||(e[10]=v=>t.filtros.referencia=v),rotulo:"Refer\xEAncia",dense:"",class:"q-field--with-bottom"},null,8,["modelValue"]),o(_,{modelValue:t.filtros.codigoBarras,"onUpdate:modelValue":e[11]||(e[11]=v=>t.filtros.codigoBarras=v),rotulo:"C\xF3d. Barras",dense:"",class:"q-field--with-bottom"},null,8,["modelValue"]),o(f,{modelValue:t.filtros.marca,"onUpdate:modelValue":e[12]||(e[12]=v=>t.filtros.marca=v),tabela:"item",campo:"marca",label:"Marca",buscarSemCaractere:!0,dense:""},null,8,["modelValue"]),o(_,{modelValue:t.filtros.fornecedores,"onUpdate:modelValue":e[13]||(e[13]=v=>t.filtros.fornecedores=v),rotulo:"Fornecedor",after:[{icon:"search",handler:i.filtroFornecedor_click}],dense:"",class:"q-field--with-bottom"},null,8,["modelValue","after"]),o(f,{modelValue:t.filtros.grupo,"onUpdate:modelValue":e[14]||(e[14]=v=>t.filtros.grupo=v),tabela:"item",campo:"grupo",label:"Grupo",buscarSemCaractere:!0,dense:""},null,8,["modelValue"]),o(f,{modelValue:t.filtros.subGrupo,"onUpdate:modelValue":e[15]||(e[15]=v=>t.filtros.subGrupo=v),tabela:"item",campo:"subGrupo",label:"Subgrupo",buscarSemCaractere:!0,dense:""},null,8,["modelValue"]),o(_,{modelValue:t.filtros.status,"onUpdate:modelValue":e[16]||(e[16]=v=>t.filtros.status=v),rotuloFixo:"Status",tipo:"seletor",opcoes:i.opcoesStatus,dense:"",class:"q-field--with-bottom"},null,8,["modelValue","opcoes"]),o(_,{modelValue:t.filtros.estoque,"onUpdate:modelValue":e[17]||(e[17]=v=>t.filtros.estoque=v),rotulo:"Estoque",prefix:">",tipo:"decimal",decimals:"4",dense:"",class:"q-field--with-bottom"},null,8,["modelValue"]),o(_,{modelValue:t.filtros.tipo,"onUpdate:modelValue":e[18]||(e[18]=v=>t.filtros.tipo=v),rotuloFixo:"Tipo",tipo:"seletor",opcoes:t.opcoesTipo,filter:"",onClick:i.leOpcoesTipo,dense:"",class:"q-field--with-bottom"},null,8,["modelValue","opcoes","onClick"]),o(_,{modelValue:t.filtros.codigoCompra,"onUpdate:modelValue":e[19]||(e[19]=v=>t.filtros.codigoCompra=v),rotulo:"Compra C\xF3d.",prefix:"#",tipo:"decimal",decimals:"0",zerosDireita:"0",dense:"",class:"q-field--with-bottom"},null,8,["modelValue"]),o(_,{modelValue:t.paginacao.limite,"onUpdate:modelValue":e[20]||(e[20]=v=>t.paginacao.limite=v),min:"1",rotulo:"Quantidade por p\xE1gina",tipo:"quantidade",dense:"",class:"q-field--with-bottom"},null,8,["modelValue"])]),_:1}),o(de,{class:"bg-white"},{default:l(()=>[r("div",Wo,[o(c,{onClick:i.limparFiltros_click,color:"tertiary",flat:"",label:"Limpar",unelevated:"",class:"col-6"},null,8,["onClick"]),o(c,{onClick:i.atualizar,color:"primary",label:"Aplicar",unelevated:"",class:"col-6 no-shadow"},null,8,["onClick"])])]),_:1})]),_:1})]),_:1},8,["modelValue","onKeyup"]),o(ne,{modelValue:t.mostrarEspelho,"onUpdate:modelValue":e[23]||(e[23]=v=>t.mostrarEspelho=v),persistent:"",maximized:""},{default:l(()=>[o(T,{onEsconderEspelho:i.esconderEspelho,onBtProximo:i.btProximo,onFechar:e[22]||(e[22]=()=>{t.mostrarEspelho=!1}),itemEspelho:t.itemEspelho},null,8,["onEsconderEspelho","onBtProximo","itemEspelho"])]),_:1},8,["modelValue"])]),_:1})}var Zo=N(Go,[["render",Jo],["__scopeId","data-v-c2cd9574"]]);const Ko={computed:{sensorHorizontalCor(){return this.sensor.horizontal<-10||this.sensor.horizontal>10?"red":"green"},sensorVerticalCor(){return this.sensor.vertical<85||this.sensor.vertical>95?"red":"green"},temFoto(){return this.dbPupilometro.foto!=="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAATklEQVR42u3OMQEAAAgDINc/9Czh4QEJSDuvRVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUPDSAovln7Gzmi7KAAAAAElFTkSuQmCC"}},data(){return{dbPupilometro:$db.pupilometro,sensor:{horizontal:0,vertical:90},zoom:3,camera:"environment",flashicon:"flash_off",orientation:{},capabilities:{},showModal:!1,cameras:[]}},emits:["mudarTela","fecharModal"],methods:{fecharModal(){this.closeCamera(),this.$emit("fecharModal")},btAnterior(){this.closeCamera(),this.$emit("mudarTela","EscolherArmacao")},btProximo(){this.closeCamera(),this.$emit("mudarTela","TamanhoFoto")},zoomMais(){try{this.zoom+=this.capabilities.zoom.step,this.zoom>this.capabilities.zoom.max&&(this.zoom=this.capabilities.zoom.max),this.track.applyConstraints({advanced:[{zoom:this.zoom}]})}catch(a){console.log("erro zoom + ",a)}},zoomMenos(){try{this.zoom-=this.capabilities.zoom.step,this.zoom<this.capabilities.zoom.min&&(this.zoom=this.capabilities.zoom.min),this.track.applyConstraints({advanced:[{zoom:this.zoom}]})}catch(a){console.log("erro zoom + ",a)}},async foto(){$q.loading.show();const a=this;a.flashicon==="flash_auto"&&(a.track.applyConstraints({advanced:[{torch:!0}]}),await new Promise(e=>setTimeout(e,1e3)));try{const e=await a.imageCapture.takePhoto(),u=document.createElement("canvas"),m=u.getContext("2d"),t=new Image;t.onload=async()=>{u.width=t.naturalWidth,u.height=t.naturalHeight,m.drawImage(t,0,0,t.naturalWidth,t.naturalHeight),a.dbPupilometro.fotoOriginal=u.toDataURL()+"",a.dbPupilometro.foto=u.toDataURL()+"",$db.jornada.b64Images.pupilometro=u.toDataURL()+"",await this.salvar(a.dbPupilometro.foto),a.$emit("mudarTela","TamanhoFoto"),a.flashicon==="flash_auto"&&a.track.applyConstraints({advanced:[{torch:!1}]}),a.closeCamera(),$q.loading.hide()},t.src=URL.createObjectURL(e)}catch(e){console.error("takePhoto() failed: ",e),$q.loading.hide()}},async salvar(a){try{$db.jornada.doc.pupilometro.idImagem=$utils.uuid(),await $db.jornada.grava(),await $db.jornada.salvarImagem({idImagem:$db.jornada.doc.pupilometro.idImagem,imagem:a})}catch(e){console.error(e),this.$q.notifyError(e.message)}},flash(){switch(this.flashicon){case"flash_on":this.flashicon="flash_off",this.track.applyConstraints({advanced:[{torch:!1}]});break;case"flash_off":this.flashicon="flash_auto",this.track.applyConstraints({advanced:[{torch:!1}]});break;case"flash_auto":this.flashicon="flash_on",this.track.applyConstraints({advanced:[{torch:!0}]})}},async uploadClick(){await $db.jornada.anexarFotoPupilometro()&&(this.dbPupilometro.fotoOriginal=$db.jornada.b64Images.pupilometro,this.dbPupilometro.foto=$db.jornada.b64Images.pupilometro,this.btProximo())},async trocarCamera(){try{let a=function(t=0){return new Promise(i=>setTimeout(i,t))},e={};const u=$db.jornada.lerCameraSelecionadaId();u&&(e={audio:!1,video:{deviceId:{exact:u},zoom:{ideal:3}}}),u||(this.camera==="user"?this.camera="environment":this.camera="user",e={audio:!1,video:{facingMode:this.camera,zoom:{ideal:3}}});let m=document.getElementById("trackTirarFoto");m||await new Promise(t=>{this.interval=setInterval(()=>{m=document.getElementById("trackTirarFoto"),m&&(clearInterval(this.interval),t())},10)}),m.setAttribute("playsinline",""),m.setAttribute("autoplay",""),m.setAttribute("muted","");try{m.srcObject.getTracks().forEach(t=>t.stop())}catch{}navigator.mediaDevices.getUserMedia(e).then(async t=>{m.srcObject=t,await a(1e3),this.track=t.getVideoTracks()[0],this.capabilities=this.track.getCapabilities();const i=this.track.getSettings();this.zoom=i.zoom,this.imageCapture=new ImageCapture(this.track)})}catch{}},escolherCamera(a){localStorage.setItem("cameraSelecionadaId",a),this.trocarCamera()},async closeCamera(){this.track&&this.track.stop()}},async created(){Object.keys($db.jornada.doc.pupilometro.medidas).length===0&&(this.dbPupilometro.limpar(),$db.jornada.doc.pupilometro.medidas=this.dbPupilometro.medidas,await $db.jornada.grava())},async mounted(){$q.notifyPositive("Tire uma foto usando a arma\xE7\xE3o, para a tomada de medidas do pupil\xF4metro."),$q.loading.show();try{window.DeviceOrientationEvent&&window.addEventListener("deviceorientation",a=>{let e=0,u=0;window.orientation===90&&(u=parseInt(a.gamma),u=u<0?u*-1:180-Math.abs(u),u<91?e=parseInt(a.beta)*-1:(e=parseInt(a.beta)*-1,e=e>0?180-e:Math.abs(e)-180)),window.orientation===-90&&(e=parseInt(a.beta)*-1,u=parseInt(a.gamma),u=u<0?180+u:u,u<91?e=e===180?0:e:e=e>0?180-e:Math.abs(e)-180),window.orientation===0&&(u=parseInt(a.beta),u<91?e=parseInt(a.gamma)*-1:e=parseInt(a.gamma)),e>90&&(e=90),e<-90&&(e=-90),this.sensor.horizontal!==e&&(this.sensor.horizontal=e);let m=this.sensor.horizontal<-10||this.sensor.horizontal>10?"red":"green";m==="red"&&(document.querySelector(".SensorHorizontal .q-slider__thumb").style.visibility="visible"),m==="green"&&(document.querySelector(".SensorHorizontal .q-slider__thumb").style.visibility="hidden"),u>180&&(u=180),u<63&&(u=63),this.sensor.vertical!==u&&(this.sensor.vertical=u),m=this.sensor.vertical<85||this.sensor.vertical>95?"red":"green",m==="red"&&(document.querySelector(".SensorVertical .q-slider__thumb").style.visibility="visible"),m==="green"&&(document.querySelector(".SensorVertical .q-slider__thumb").style.visibility="hidden")},!1)}catch{}this.cameras=await $db.jornada.obterCamerasDisponiveis(),this.trocarCamera(),$q.loading.hide()},beforeUnmount(){try{this.track.stop(),clearInterval(this.interval)}catch{}}},$o={class:"container"};function et(a,e,u,m,t,i){return p(),y(L,{class:"bg-light"},{default:l(()=>[r("div",$o,[r("video",{id:"trackTirarFoto",class:"Video",onContextmenu:e[0]||(e[0]=q(()=>{},["prevent"]))},null,32),o(_e,{modelValue:t.sensor.horizontal,"onUpdate:modelValue":e[1]||(e[1]=n=>t.sensor.horizontal=n),ref:"horizontal",class:"SensorHorizontal",color:i.sensorHorizontalCor,min:-90,max:90},null,8,["modelValue","color"]),o(B,{class:"remove_red_eye",name:"remove_red_eye",color:i.sensorHorizontalCor},null,8,["color"]),o(_e,{modelValue:t.sensor.vertical,"onUpdate:modelValue":e[2]||(e[2]=n=>t.sensor.vertical=n),ref:"vertical",class:"SensorVertical",color:i.sensorVerticalCor,min:63,max:180},null,8,["modelValue","color"])]),o(D,{class:"bg-primary text-white"},{default:l(()=>[o(c,{onClick:e[3]||(e[3]=n=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(ue,{vertical:"",inset:"",class:"q-mx-sm"}),o(c,{onClick:e[4]||(e[4]=n=>i.fecharModal()),icon:"close",round:"",flat:"",dense:""}),o(E,null,{default:l(()=>e[10]||(e[10]=[h("Tirar Foto")])),_:1}),o(c,{onClick:e[5]||(e[5]=n=>i.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:"",class:"q-ml-sm"})]),_:1}),o(c,{class:"BtUpload",onClick:e[6]||(e[6]=n=>i.uploadClick()),color:"primary",size:"md",round:"",icon:"attachment"}),o(c,{class:"BtTrocarCamera",color:"primary",size:"md",round:"",icon:"loop"},{default:l(()=>[o(J,{anchor:"top left",self:"bottom middle","auto-close":""},{default:l(()=>[(p(!0),z(P,null,I(t.cameras,(n,d)=>(p(),y(R,{clickable:"",key:d,onClick:g=>i.escolherCamera(n.deviceId)},{default:l(()=>[o(F,null,{default:l(()=>[h(O(n.label),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),o(c,{class:"BtFlash",onClick:i.flash,icon:t.flashicon,color:"primary",size:"md",round:"",ref:"BtFlash"},null,8,["onClick","icon"]),o(c,{class:"ZoomMais",onClick:e[7]||(e[7]=n=>i.zoomMais()),icon:"zoom_in",color:"primary",size:"md",round:""}),o(c,{class:"ZoomMenos",onClick:e[8]||(e[8]=n=>i.zoomMenos()),icon:"zoom_out",color:"primary",size:"md",round:""}),o(c,{class:"BtFoto",onClick:e[9]||(e[9]=n=>i.foto()),icon:"camera",color:"primary",size:"xl",round:""})]),_:1})}var ot=N(Ko,[["render",et],["__scopeId","data-v-06c5a6fb"]]);const tt={data(){return{doc:$db.jornada.doc,imagem:{nome:"",base64:"",extensao:""},dbPupilometro:$db.pupilometro,foto:{},fotoFator:1,tipoRosto:1,sensor:{horizontal:0,vertical:0},zoom:100,pinca:{zoom:0,scaling:!1,width:0,height:0,top:0,left:0},distancia:{x1i:0,y1i:0,x2i:0,y2i:0,x1f:0,y1f:0,x2f:0,y2f:0,distanciaInicial:0,distanciaFinal:0},qtde:0}},watch:{"dbPupilometro.fotoOriginal":function(){this.mudaCentralizaFoto()}},emits:["mudarTela","fecharModal"],methods:{async atualizar(){$q.loading.show(),await $db.jornada.carrega(this.doc.id),this.carregarFoto(),$q.loading.hide()},carregarFoto(){this.dbPupilometro.fotoOriginal=$db.jornada.b64Images.pupilometro,this.dbPupilometro.foto=$db.jornada.b64Images.pupilometro,this.redimensiona();const a=this.$refs.quadro,e=this.$refs.foto;e.style.top=a.style.top,e.style.left=a.style.left,e.style.width=a.style.width,e.style.height=a.style.height,this.mudaCentralizaFoto()},async uploadClick(){await $db.jornada.anexarFotoPupilometro()&&(this.dbPupilometro.fotoOriginal=$db.jornada.b64Images.pupilometro,this.dbPupilometro.foto=$db.jornada.b64Images.pupilometro)},excluirFoto(){$q.dialog({title:"Deseja continuar?",message:"Ao continuar voc\xEA ir\xE1 remover a imagem.",cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(async()=>{$q.loading.show();const a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAATklEQVR42u3OMQEAAAgDINc/9Czh4QEJSDuvRVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUPDSAovln7Gzmi7KAAAAAElFTkSuQmCC";this.dbPupilometro.fotoOriginal=a,this.dbPupilometro.foto=a,await this.salvar(a),$q.loading.hide()})},async imagemCameraInput(){if($q.platform.is.desktop){const a=await $g.promptCamera.show({sensor:!1});a.acao==="foto"&&($q.loading.show(),this.dbPupilometro.fotoOriginal=a.foto,this.dbPupilometro.foto=a.foto,await this.salvar(a.foto),$q.loading.hide())}if($q.platform.is.mobile){const a=await $db.jornada.obterImagemCameraInput();a&&($q.loading.show(),this.dbPupilometro.fotoOriginal=a,this.dbPupilometro.foto=a,await this.salvar(a),$q.loading.hide())}},touch(a){const e=this.$refs.foto;let u=0;try{u=a.evt.touches.length}catch{}if(this.qtde=u,this.pinca.scaling||u!==2&&Math.abs(a.delta.x+a.delta.y)<=20&&(e.style.left=parseFloat(e.style.left)+a.delta.x+"px",e.style.top=parseFloat(e.style.top)+a.delta.y+"px"),!this.pinca.scaling&&u===2){const m=this.distancia;m.x1i=a.evt.touches[0].pageX,m.y1i=a.evt.touches[0].pageY,m.x2i=a.evt.touches[1].pageX,m.y2i=a.evt.touches[1].pageY,m.distanciaInicial=Math.hypot(a.evt.touches[0].pageX-a.evt.touches[1].pageX,a.evt.touches[0].pageY-a.evt.touches[1].pageY),this.pinca.width=parseFloat(e.style.width),this.pinca.height=parseFloat(e.style.height),this.pinca.top=parseFloat(e.style.top),this.pinca.left=parseFloat(e.style.left),this.pinca.zoom=Math.hypot(a.evt.touches[0].pageX-a.evt.touches[1].pageX,a.evt.touches[0].pageY-a.evt.touches[1].pageY),this.pinca.scaling=!0}if(this.pinca.scaling&&u===0&&setTimeout(()=>{this.pinca.scaling=!1},500),this.pinca.scaling&&u===2)try{const m=a.evt,t=Math.hypot(m.touches[0].pageX-m.touches[1].pageX,m.touches[0].pageY-m.touches[1].pageY)-this.pinca.zoom,i=this.$refs.foto;i.style.width=this.pinca.width+t+"px",i.style.height=this.pinca.height+t*this.fotoFator+"px",i.style.top=this.pinca.top-t/2*this.fotoFator+"px",i.style.left=this.pinca.left-t/2+"px"}catch(m){console.log(m)}},zoomMais(){const a=this.$refs.foto;a.style.width=parseFloat(a.style.width)+2+"px",a.style.height=parseFloat(a.style.height)+2*this.fotoFator+"px",a.style.top=parseFloat(a.style.top)-1*this.fotoFator+"px",a.style.left=parseFloat(a.style.left)-1+"px"},zoomMenos(){const a=this.$refs.foto;a.style.width=parseFloat(a.style.width)-2+"px",a.style.height=parseFloat(a.style.height)-2*this.fotoFator+"px",a.style.top=parseFloat(a.style.top)+1*this.fotoFator+"px",a.style.left=parseFloat(a.style.left)+1+"px"},moveUp(){this.$refs.foto.style.top=parseFloat(this.$refs.foto.style.top)-1+"px"},moveDown(){this.$refs.foto.style.top=parseFloat(this.$refs.foto.style.top)+1+"px"},moveRight(){this.$refs.foto.style.left=parseFloat(this.$refs.foto.style.left)+1+"px"},moveLeft(){this.$refs.foto.style.left=parseFloat(this.$refs.foto.style.left)-1+"px"},mudaCentralizaFoto(){const a=this.$refs.quadro,e={top:parseInt(a.style.top),left:parseInt(a.style.left),width:parseInt(a.style.width),height:parseInt(a.style.height)},u=this.$refs.foto,m=new Image,t=this;m.onload=()=>{let i=m.width,n=m.height,d=1.001;m.width>m.height?d=e.width/m.height:d=e.width/m.width,i=parseInt(i*d),n=parseInt(n*d),u.style.top=(e.height-n)/2+e.top+"px",u.style.left=(e.width-i)/2+e.left+"px",u.style.width=i+"px",u.style.height=n+"px",t.fotoFator=m.height/m.width},m.src=this.dbPupilometro.fotoOriginal},fecharModal(){this.$emit("fecharModal")},btAnterior(){this.$emit("mudarTela","EscolherArmacao")},async btProximo(){$q.loading.show(),await $utils.dormir(300);const a=document.createElement("canvas"),e=a.getContext("2d"),u=this.$refs.foto;a.width=1200,a.height=1200;const m={left:parseFloat(this.$refs.foto.style.left),width:parseFloat(this.$refs.foto.style.width),top:parseFloat(this.$refs.foto.style.top),height:parseFloat(this.$refs.foto.style.height),naturalWidth:this.$refs.foto.naturalWidth,naturalHeight:this.$refs.foto.naturalHeight},t={left:parseFloat(this.$refs.quadro.style.left),width:parseFloat(this.$refs.quadro.style.width),top:parseFloat(this.$refs.quadro.style.top),height:parseFloat(this.$refs.quadro.style.height)},i={left:t.left-m.left,top:t.top-m.top};e.drawImage(u,i.left/m.width*m.naturalWidth,i.top/m.height*m.naturalHeight,t.width/m.width*m.naturalWidth,t.height/m.height*m.naturalHeight,0,0,1200,1200),this.dbPupilometro.fotoOriginal=a.toDataURL()+"",this.dbPupilometro.foto=a.toDataURL()+"",$db.jornada.b64Images.pupilometro=a.toDataURL()+"",await this.salvar(this.dbPupilometro.foto),this.doc.pupilometro.id||(this.doc.pupilometro.id=$utils.uuid(),await $db.jornada.grava()),$q.loading.hide(),this.pularPupilometro()},pularPupilometro(){$q.dialog({persistent:!0,title:"Pupil\xF4metro",message:"Deseja adiar a tomada de medidas do pupil\xF4metro para o fim da jornada?",cancel:{label:"Tirar medidas",push:!0,color:"tertiary",flat:!0},ok:{label:"Adiar",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk(async()=>{this.doc.pupilometro.medidasAdiadas=!0,await $db.jornada.grava(),this.$emit("mudarTela","Anamnese")}).onCancel(async()=>{this.doc.pupilometro.medidasAdiadas=!1,await $db.jornada.grava(),this.$emit("mudarTela","TamanhoArmacao")})},redimensiona(){const a=this.$refs.quadro,e=document.body.clientWidth-20,u=window.innerHeight-100-20;e>u?a.style.height=u+"px":a.style.height=e+"px",a.style.width=a.style.height,a.style.top=(window.innerHeight-parseInt(a.style.height)-20)/2+"px",a.style.left=(document.body.clientWidth-parseInt(a.style.width))/2+"px";const m=document.getElementsByClassName("rosto");for(const t of m)t.style.position="absolute",t.style.top=a.style.top,t.style.left=a.style.left,t.style.width=a.style.width,t.style.height=a.style.height},async salvar(a){try{this.doc.pupilometro.idImagem=$utils.uuid(),await $db.jornada.grava(),await $db.jornada.salvarImagem({idImagem:this.doc.pupilometro.idImagem,imagem:a})}catch(e){console.error(e),this.$q.notifyError(e.message)}}},mounted(){this.carregarFoto()}},lt=["src"],at={class:"quadro",ref:"quadro"},st={key:0,class:"rosto",viewBox:"0 0 300 420"},it={key:1,class:"rosto",viewBox:"0 0 300 420"},rt={key:2,class:"rosto",viewBox:"0 0 300 420"},nt={key:3,class:"btRosto",viewBox:"0 0 300 420"},dt={key:4,class:"btRosto",viewBox:"0 0 300 420"},ut={class:"ZonaTouch"};function mt(a,e,u,m,t,i){return p(),y(L,{class:"bg-light",style:{overflow:"hidden"}},{default:l(()=>[o($,{onResize:i.redimensiona},null,8,["onResize"]),r("img",{class:"Foto",ref:"foto",src:t.dbPupilometro.fotoOriginal,onContextmenu:e[0]||(e[0]=q(()=>{},["prevent"]))},null,40,lt),r("div",at,null,512),o(D,{class:"bg-primary text-white"},{default:l(()=>[o(c,{onClick:e[1]||(e[1]=n=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(c,{icon:"menu",round:"",flat:"",dense:""},{default:l(()=>[o(J,null,{default:l(()=>[o(W,{style:{"min-width":"100px"}},{default:l(()=>[(p(!0),z(P,null,I(a.$db.jornada.menu,(n,d)=>x((p(),y(R,{key:d,onClick:g=>a.$emit("mudarTela",n.tela),clickable:""},{default:l(()=>[o(F,null,{default:l(()=>[h(O(n.descricao),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[j]])),128))]),_:1})]),_:1})]),_:1}),o(E,null,{default:l(()=>e[15]||(e[15]=[h("Pupil\xF4metro")])),_:1}),o(c,{onClick:e[2]||(e[2]=n=>i.atualizar()),icon:"refresh",round:"",flat:"",dense:""}),o(c,{onClick:e[3]||(e[3]=n=>i.fecharModal()),icon:"close",round:"",flat:"",dense:""}),o(c,{onClick:e[4]||(e[4]=n=>i.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:""})]),_:1}),r("div",null,[t.tipoRosto===1?(p(),z("svg",st,e[16]||(e[16]=[r("path",{"stroke-width":"2",stroke:"#18ffff",fill:"none",d:"M154.7,27.6c41,0,95.2,20.4,112.7,77.9c21,69.1,9.3,153.6-3,190.6c-11.5,34.6-62.2,96.4-122,96.4c-27.9,0-69.5-19-109.8-109.7c-11.4-25.6-21-128.4,6.3-195.2C62,30.8,130.2,27.9,143.7,27.9c0.8,0,1.3,0,1.4,0l0.6,0l0.6,0C148.9,27.7,151.7,27.6,154.7,27.6z"},null,-1)]))):w("",!0),t.tipoRosto===2?(p(),z("svg",it,e[17]||(e[17]=[r("path",{"stroke-width":"2",stroke:"#18ffff",fill:"none",d:"M264.7,94.6C249.3,32.9,176.4,19,152,19l-1.1,0v0c-0.1,0-0.3,0-0.4,0l-0.5,0l-0.5,0c-0.1,0-0.3,0-0.4,0v0l-1.1,0c-24.3,0-97.2,13.9-112.6,75.6c-15.5,62-18.1,176.7,0.3,213.6c18.2,36.4,73.9,89.5,76.2,91.6l1.2,1.1l36,0.1v0l1,0l1,0v0l36-0.1l1.2-1.1c2.4-2.1,58-55.1,76.2-91.6C282.8,271.3,280.2,156.6,264.7,94.6z"},null,-1)]))):w("",!0),t.tipoRosto===3?(p(),z("svg",rt,e[18]||(e[18]=[r("path",{"stroke-width":"2",stroke:"#18ffff",fill:"none",d:"M289.8,214.2c-5.9-82.9-9.5-133-34.3-159.2C232.1,30.3,189.1,13.9,150,14.5C110.9,13.9,67.9,30.3,44.5,55c-24.8,26.2-28.4,76.2-34.3,159.2l-0.1,0.9l0.3,0.9C42.2,305.7,98.9,407,150,405.5c51.1,1.5,107.8-99.9,139.6-189.5l0.3-0.9L289.8,214.2z"},null,-1)]))):w("",!0),t.tipoRosto===4?(p(),z("svg",nt,e[19]||(e[19]=[r("path",{"stroke-width":"2",stroke:"#18ffff",fill:"none",d:"M264.7,101C255,52.4,204.6,12.7,151,10.4v-0.1c-0.3,0-0.7,0-1,0c-0.3,0-0.7,0-1,0v0.1,C95.4,12.7,45,52.4,35.3,101c-7.4,37-6.8,100.2-6.3,150.9c0.1,11.9,0.2,23.2,0.2,33.5v0.6l0.2,0.6,c14.3,48.7,74.8,115.3,119.6,122.8v0.3c0.3,0,0.7-0.1,1-0.2c0.3,0,0.7,0.1,1,0.2v-0.3c44.8-7.5,105.3-74.1,119.6-122.8l0.2-0.6,v-0.6c0-10.2,0.1-21.5,0.2-33.5C271.5,201.2,272.1,138.1,264.7,101z"},null,-1)]))):w("",!0),t.tipoRosto===5?(p(),z("svg",dt,e[20]||(e[20]=[r("path",{"stroke-width":"2",stroke:"#18ffff",fill:"none",d:"M280.7,173.8c-13.1-65.3-32.8-109.4-60.4-134.8c-24.7-22.7-51.4-25.6-70.3-25.3c-18.9-0.3-45.6,2.6-70.3,25.3c-27.6,25.3-47.3,69.4-60.4,134.8l-0.1,0.5l0,0.5c1.5,68.2,15.3,97.7,36.1,142.3l0.4,0.9c26.2,56.1,60,88.3,92.8,88.3c0.5,0,1,0,1.5,0c0.5,0,1,0,1.5,0c32.8,0,66.6-32.2,92.8-88.3l0.4-0.9c20.8-44.6,34.6-74.1,36.1-142.3l0-0.5L280.7,173.8z"},null,-1)]))):w("",!0)]),o(c,{class:"ExcluirFoto",onClick:e[5]||(e[5]=n=>i.excluirFoto()),color:"primary",size:"md",round:"",icon:"delete"}),o(c,{class:"BtUpload",icon:"attachment",size:"md",round:"",color:"primary",onContextmenu:e[6]||(e[6]=q(()=>{},["prevent"])),onClick:e[7]||(e[7]=n=>i.uploadClick())}),o(c,{class:"TirarFoto",onClick:e[8]||(e[8]=n=>i.imagemCameraInput()),color:"primary",size:"md",round:"",icon:"camera"}),x(o(c,{class:"ZoomMais",color:"primary",size:"md",round:"",icon:"zoom_in",onContextmenu:e[9]||(e[9]=q(()=>{},["prevent"]))},null,512),[[U,i.zoomMais,"0:20",{mouse:!0,enter:!0,space:!0}]]),x(o(c,{class:"ZoomMenos",color:"primary",size:"md",round:"",icon:"zoom_out",onContextmenu:e[10]||(e[10]=q(()=>{},["prevent"]))},null,512),[[U,i.zoomMenos,"0:20",{mouse:!0,enter:!0,space:!0}]]),x(r("div",ut,null,512),[[re,i.touch,void 0,{prevent:!0,mouse:!0}]]),e[21]||(e[21]=r("div",{class:"BaseBotoes"},null,-1)),x(o(c,{class:"moveUp",icon:"keyboard_arrow_up",size:"md",round:"",color:"primary",onContextmenu:e[11]||(e[11]=q(()=>{},["prevent"]))},null,512),[[U,i.moveUp,"0:50",{mouse:!0,enter:!0,space:!0}]]),x(o(c,{class:"moveDown",icon:"keyboard_arrow_down",size:"md",round:"",color:"primary",onContextmenu:e[12]||(e[12]=q(()=>{},["prevent"]))},null,512),[[U,i.moveDown,"0:50",{mouse:!0,enter:!0,space:!0}]]),x(o(c,{class:"moveRight",icon:"keyboard_arrow_right",size:"md",round:"",color:"primary",onContextmenu:e[13]||(e[13]=q(()=>{},["prevent"]))},null,512),[[U,i.moveRight,"0:50",{mouse:!0,enter:!0,space:!0}]]),x(o(c,{class:"moveLeft",icon:"keyboard_arrow_left",size:"md",round:"",color:"primary",onContextmenu:e[14]||(e[14]=q(()=>{},["prevent"]))},null,512),[[U,i.moveLeft,"0:50",{mouse:!0,enter:!0,space:!0}]])]),_:1})}var ct=N(tt,[["render",mt],["__scopeId","data-v-d59766a4"]]);const pt={data(){return{doc:$db.jornada.doc,dbPupilometro:$db.pupilometro}},emits:["mudarTela","fecharModal"],methods:{async atualizar(){$q.loading.show(),await $db.jornada.carrega(this.doc.id),this.dbPupilometro.fotoOriginal=$db.jornada.b64Images.pupilometro,this.dbPupilometro.foto=$db.jornada.b64Images.pupilometro,this.dbPupilometro.medidas=$utils.clonar(this.doc.pupilometro.medidas),$q.loading.hide()},async fecharModal(){await this.salvar(),this.$emit("fecharModal")},async btAnterior(){await this.salvar(),this.$emit("mudarTela","TamanhoFoto")},async btProximo(){this.dbPupilometro.medidas.tamanhoArmacao>10?(await this.salvar(),this.$emit("mudarTela","Olho")):$q.notify({message:"Informe o tamanho da arma\xE7\xE3o",type:"negative"})},calcTamanhoArmacao(){const a=this.doc.pupilometro.tamanhoArmacao.aro,e=this.doc.pupilometro.tamanhoArmacao.nasal;this.dbPupilometro.medidas.tamanhoArmacao=a*2+e},redimensiona(){const a=this.$refs.foto;a.style.position="absolute";const e=document.body.clientWidth-20,u=window.innerHeight-120-20;e>u?a.style.height=u+"px":a.style.height=e+"px",a.style.width=a.style.height,a.style.top="101px",a.style.left=(document.body.clientWidth-parseInt(a.style.width))/2+"px"},async salvar(){$q.loading.show(),this.doc.pupilometro.medidas={...this.dbPupilometro.medidas},await $db.jornada.grava(),$q.loading.hide()}},mounted(){this.dbPupilometro.fotoOriginal=$db.jornada.b64Images.pupilometro,this.dbPupilometro.foto=$db.jornada.b64Images.pupilometro,this.dbPupilometro.medidas=$utils.clonar(this.doc.pupilometro.medidas)}},ft=["src"];function bt(a,e,u,m,t,i){const n=C("campo");return p(),y(L,{class:"bg-light",style:{overflow:"hidden"}},{default:l(()=>[o(D,{class:"bg-primary text-white"},{default:l(()=>[o(c,{onClick:e[0]||(e[0]=d=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(c,{icon:"menu",round:"",flat:"",dense:""},{default:l(()=>[o(J,null,{default:l(()=>[o(W,{style:{"min-width":"100px"}},{default:l(()=>[(p(!0),z(P,null,I(a.$db.jornada.menu,(d,g)=>x((p(),y(R,{key:g,onClick:b=>a.$emit("mudarTela",d.tela),clickable:""},{default:l(()=>[o(F,null,{default:l(()=>[h(O(d.descricao),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[j]])),128))]),_:1})]),_:1})]),_:1}),o(E,null,{default:l(()=>e[7]||(e[7]=[h("Tamanho Arma\xE7\xE3o")])),_:1}),o(c,{onClick:i.atualizar,icon:"refresh",round:"",flat:"",dense:""},null,8,["onClick"]),o(c,{onClick:e[1]||(e[1]=d=>i.fecharModal()),icon:"close",round:"",flat:"",dense:""}),o(c,{onClick:e[2]||(e[2]=d=>i.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:""})]),_:1}),o(D,{class:"bg-light text-tertiary"},{default:l(()=>[o(ke),e[8]||(e[8]=r("span",null,"2x",-1)),o(n,{modelValue:t.doc.pupilometro.tamanhoArmacao.aro,"onUpdate:modelValue":e[3]||(e[3]=d=>t.doc.pupilometro.tamanhoArmacao.aro=d),onBlur:i.calcTamanhoArmacao,tipo:"decimal",decimals:"2",suffix:"mm",rotulo:"Aro",color:"tertiary",outlined:"",dense:"",class:"q-mx-xs",style:{"max-width":"130px"}},null,8,["modelValue","onBlur"]),e[9]||(e[9]=r("span",null,"+",-1)),o(n,{modelValue:t.doc.pupilometro.tamanhoArmacao.nasal,"onUpdate:modelValue":e[4]||(e[4]=d=>t.doc.pupilometro.tamanhoArmacao.nasal=d),onBlur:i.calcTamanhoArmacao,tipo:"decimal",decimals:"2",suffix:"mm",rotulo:"Nasal",color:"tertiary",outlined:"",dense:"",class:"q-mx-xs",style:{"max-width":"145px"}},null,8,["modelValue","onBlur"]),e[10]||(e[10]=r("span",null,"=",-1)),o(n,{modelValue:t.dbPupilometro.medidas.tamanhoArmacao,"onUpdate:modelValue":e[5]||(e[5]=d=>t.dbPupilometro.medidas.tamanhoArmacao=d),onBlur:i.salvar,tipo:"decimal",decimals:"2",suffix:"mm",rotulo:"Tamanho",color:"tertiary",outlined:"",dense:"",class:"q-ml-xs q-px-none",style:{"max-width":"100px"}},null,8,["modelValue","onBlur"]),o(ke)]),_:1}),r("img",{ref:"foto",class:"Foto",src:t.dbPupilometro.foto,onContextmenu:e[6]||(e[6]=q(()=>{},["prevent"]))},null,40,ft),o($,{onResize:i.redimensiona},null,8,["onResize"])]),_:1})}var gt=N(pt,[["render",bt]]);const vt={data(){return{doc:$db.jornada.doc,dbPupilometro:$db.pupilometro,sensor:{horizontal:0,vertical:0},foto:"",passo:1,isDown:!1,x:0,y:0,zoom:2,pinca:{scaling:!1},qtde:0}},computed:{titulo(){const a=[];return a[1]="Olho Direito",a[2]="Olho Direito",a[3]="Centro Olho Direito",a[4]="Olho Esquerdo",a[5]="Olho Esquerdo",a[6]="Centro Olho Esquerdo",a[this.passo]}},emits:["mudarTela","fecharModal"],methods:{async atualizar(){$q.loading.show(),await $db.jornada.carrega(this.doc.id),this.dbPupilometro.fotoOriginal=$db.jornada.b64Images.pupilometro,this.dbPupilometro.foto=$db.jornada.b64Images.pupilometro,this.dbPupilometro.medidas=$utils.clonar(this.doc.pupilometro.medidas),$q.loading.hide()},sleep(a=0){return new Promise(e=>setTimeout(e,a))},desenha(){const a=this.$refs.quadro;let e=`scale(${this.zoom})`;[1,2,3].indexOf(this.passo)!==-1?e+=" translateX(15%)":e+=" translateX(-15%)",a.style.transform=e},zoomMais(){this.zoom+=.01,this.desenha()},zoomMenos(){this.zoom-=.01,this.desenha()},touch(a){let e=0;try{e=a.evt.touches.length}catch{}if(this.qtde=e,this.pinca.scaling||e!==2&&(this.$refs["p"+this.passo].style.left=parseFloat(this.$refs["p"+this.passo].style.left)+a.delta.x/this.zoom+"px",this.$refs["p"+this.passo].style.top=parseFloat(this.$refs["p"+this.passo].style.top)+a.delta.y/this.zoom+"px"),!this.pinca.scaling&&e===2&&(this.pinca.zoom=Math.hypot(a.evt.touches[0].pageX-a.evt.touches[1].pageX,a.evt.touches[0].pageY-a.evt.touches[1].pageY),this.zoomIni=parseFloat(this.zoom+""),this.pinca.scaling=!0),this.pinca.scaling&&e===0&&setTimeout(()=>{this.pinca.scaling=!1},250),this.pinca.scaling&&e===2)try{const u=Math.hypot(a.evt.touches[0].pageX-a.evt.touches[1].pageX,a.evt.touches[0].pageY-a.evt.touches[1].pageY)-this.pinca.zoom;this.zoom=this.zoomIni+u/1e3,this.desenha()}catch{}},fecharModal(){this.$emit("fecharModal")},async btProximo(){if(this.passo>=1&&this.passo<=5){this.passo+=1,this.desenha();return}this.passo===6&&(this.dbPupilometro.medidas.olhoDireito={...this.dbPupilometro.medidas.olhoDireito,superior:{top:parseFloat(this.$refs.p1.style.top),left:parseFloat(this.$refs.p1.style.left)},centroOlho:{top:parseFloat(this.$refs.p3.style.top),left:parseFloat(this.$refs.p3.style.left)},inferior:{top:parseFloat(this.$refs.p2.style.top),left:parseFloat(this.$refs.p2.style.left)}},this.dbPupilometro.medidas.olhoEsquerdo={...this.dbPupilometro.medidas.olhoEsquerdo,superior:{top:parseFloat(this.$refs.p5.style.top),left:parseFloat(this.$refs.p5.style.left)},centroOlho:{top:parseFloat(this.$refs.p6.style.top),left:parseFloat(this.$refs.p6.style.left)},inferior:{top:parseFloat(this.$refs.p4.style.top),left:parseFloat(this.$refs.p4.style.left)}},this.dbPupilometro.medidas.diagonal.p1.left===0&&(this.dbPupilometro.medidas.diagonal.p1.left=this.dbPupilometro.medidas.olhoEsquerdo.inferior.left,this.dbPupilometro.medidas.diagonal.p1.top=this.dbPupilometro.medidas.olhoEsquerdo.inferior.top,this.dbPupilometro.medidas.diagonal.p2.left=this.dbPupilometro.medidas.olhoEsquerdo.superior.left,this.dbPupilometro.medidas.diagonal.p2.top=this.dbPupilometro.medidas.olhoEsquerdo.superior.top),this.dbPupilometro.calcularDistancias(),await this.salvar(),this.$emit("mudarTela","Diagonal"))},btAnterior(){if(this.passo===1){this.$emit("mudarTela","TamanhoArmacao");return}this.passo>=2&&this.passo<=6&&(this.passo-=1,this.desenha())},moveu(a){const e=this.$refs["p"+this.passo];if(a==="up"){let u=parseFloat(e.style.top)-1;u<0&&(u=0),e.style.top=u+"px"}if(a==="down"&&(this.$refs["p"+this.passo].style.top=parseFloat(this.$refs["p"+this.passo].style.top)+1+"px"),a==="left"){let u=parseFloat(e.style.left)-1;u<0&&(u=0),e.style.left=u+"px"}a==="right"&&(this.$refs["p"+this.passo].style.left=parseFloat(this.$refs["p"+this.passo].style.left)+1+"px")},redimensiona(){const a=this.$refs.quadro;a.style.position="absolute";const e=document.body.clientWidth-20,u=window.innerHeight-60-20;e>u?this.zoom=u/1200:this.zoom=e/1200,this.zoom=this.zoom*2,a.style.top=(window.innerHeight-1200)/2+"px",a.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()},async salvar(){$q.loading.show(),this.doc.pupilometro.medidas={...this.dbPupilometro.medidas},await $db.jornada.grava(),$q.loading.hide()}},async created(){this.dbPupilometro.fotoOriginal=$db.jornada.b64Images.pupilometro,this.dbPupilometro.foto=$db.jornada.b64Images.pupilometro},mounted(){this.$refs.quadro.style.top="0px",this.$refs.quadro.style.left="0px",this.$refs.quadro.style.width="1200px",this.$refs.quadro.style.height="1200px";const a=this.dbPupilometro.medidas;this.$refs.p1.style.top=a.olhoDireito.superior.top+"px",this.$refs.p1.style.left=a.olhoDireito.superior.left+"px",this.$refs.p3.style.top=a.olhoDireito.centroOlho.top+"px",this.$refs.p3.style.left=a.olhoDireito.centroOlho.left+"px",this.$refs.p2.style.top=a.olhoDireito.inferior.top+"px",this.$refs.p2.style.left=a.olhoDireito.inferior.left+"px",this.$refs.p5.style.top=a.olhoEsquerdo.superior.top+"px",this.$refs.p5.style.left=a.olhoEsquerdo.superior.left+"px",this.$refs.p6.style.top=a.olhoEsquerdo.centroOlho.top+"px",this.$refs.p6.style.left=a.olhoEsquerdo.centroOlho.left+"px",this.$refs.p4.style.top=a.olhoEsquerdo.inferior.top+"px",this.$refs.p4.style.left=a.olhoEsquerdo.inferior.left+"px",this.redimensiona()}},ht={ref:"quadro"},yt=["src"],xt={ref:"p1",id:"p1"},Vt={ref:"p2",id:"p2"},wt={ref:"p3",id:"p3"},Ct={ref:"p4",id:"p4"},kt={ref:"p5",id:"p5"},zt={ref:"p6",id:"p6"},Ot={class:"ZonaTouch"};function qt(a,e,u,m,t,i){return p(),y(L,{class:"bg-light",style:{overflow:"hidden"}},{default:l(()=>[o($,{onResize:i.redimensiona},null,8,["onResize"]),r("div",ht,[r("img",{ref:"foto",class:"Foto",src:t.dbPupilometro.foto,onContextmenu:e[0]||(e[0]=q(()=>{},["prevent"]))},null,40,yt),x(r("div",xt,null,512),[[S,t.passo===1]]),x(r("div",Vt,null,512),[[S,t.passo===2]]),x(r("div",wt,null,512),[[S,t.passo===3]]),x(r("div",Ct,null,512),[[S,t.passo===4]]),x(r("div",kt,null,512),[[S,t.passo===5]]),x(r("div",zt,null,512),[[S,t.passo===6]])],512),o(D,{class:"bg-primary text-white"},{default:l(()=>[o(c,{onClick:e[1]||(e[1]=n=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(c,{icon:"menu",round:"",flat:"",dense:""},{default:l(()=>[o(J,null,{default:l(()=>[o(W,{style:{"min-width":"100px"}},{default:l(()=>[(p(!0),z(P,null,I(a.$db.jornada.menu,(n,d)=>x((p(),y(R,{key:d,onClick:g=>a.$emit("mudarTela",n.tela),clickable:""},{default:l(()=>[o(F,null,{default:l(()=>[h(O(n.descricao),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[j]])),128))]),_:1})]),_:1})]),_:1}),o(E,null,{default:l(()=>[h(O(i.titulo),1)]),_:1}),o(c,{onClick:i.atualizar,icon:"refresh",round:"",flat:"",dense:""},null,8,["onClick"]),o(c,{onClick:e[2]||(e[2]=n=>i.fecharModal()),icon:"close",round:"",flat:"",dense:""}),o(c,{onClick:e[3]||(e[3]=n=>i.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:""})]),_:1}),x(o(c,{class:"ZoomMais",icon:"zoom_in",size:"md",round:"",color:"primary",onContextmenu:e[4]||(e[4]=q(()=>{},["prevent"]))},null,512),[[U,i.zoomMais,"0:50",{mouse:!0,enter:!0,space:!0}]]),x(o(c,{class:"ZoomMenos",icon:"zoom_out",size:"md",round:"",color:"primary",onContextmenu:e[5]||(e[5]=q(()=>{},["prevent"]))},null,512),[[U,i.zoomMenos,"0:50",{mouse:!0,enter:!0,space:!0}]]),x(r("div",Ot,null,512),[[re,i.touch,void 0,{prevent:!0,mouse:!0}]]),e[10]||(e[10]=r("div",{class:"BaseBotoes"},null,-1)),x(o(c,{class:"BtUp",icon:"keyboard_arrow_up",size:"md",round:"",color:"primary",onContextmenu:e[6]||(e[6]=q(()=>{},["prevent"]))},null,512),[[U,()=>i.moveu("up"),"0:50",{mouse:!0,enter:!0,space:!0}]]),x(o(c,{class:"BtDown",icon:"keyboard_arrow_down",size:"md",round:"",color:"primary",onContextmenu:e[7]||(e[7]=q(()=>{},["prevent"]))},null,512),[[U,()=>i.moveu("down"),"0:50",{mouse:!0,enter:!0,space:!0}]]),x(o(c,{class:"BtLeft",icon:"keyboard_arrow_left",size:"md",round:"",color:"primary",onContextmenu:e[8]||(e[8]=q(()=>{},["prevent"]))},null,512),[[U,()=>i.moveu("left"),"0:50",{mouse:!0,enter:!0,space:!0}]]),x(o(c,{class:"BtRight",icon:"keyboard_arrow_right",size:"md",round:"",color:"primary",onContextmenu:e[9]||(e[9]=q(()=>{},["prevent"]))},null,512),[[U,()=>i.moveu("right"),"0:50",{mouse:!0,enter:!0,space:!0}]])]),_:1})}var _t=N(vt,[["render",qt],["__scopeId","data-v-6acf5e24"]]);const At={data(){return{doc:$db.jornada.doc,dbPupilometro:$db.pupilometro,sensor:{horizontal:0,vertical:0},foto:"",passo:1,isDown:!1,x:0,y:0,zoom:.87,pinca:{scaling:!1},linhaDiagonal:{x1:0,y1:0,x2:0,y2:0}}},emits:["mudarTela","fecharModal"],methods:{async atualizar(){$q.loading.show(),await $db.jornada.carrega(this.doc.id),this.dbPupilometro.fotoOriginal=$db.jornada.b64Images.pupilometro,this.dbPupilometro.foto=$db.jornada.b64Images.pupilometro,this.dbPupilometro.medidas=$utils.clonar(this.doc.pupilometro.medidas),$q.loading.hide()},fecharModal(){this.$emit("fecharModal")},async btProximo(){this.dbPupilometro.calcularDistancias(),await this.salvar(),this.$emit("mudarTela","Bifocal")},btAnterior(){this.$emit("mudarTela","Olho")},desenha(){const a=this.dbPupilometro.medidas;a.diagonal.distanciapx=Math.hypot(Math.abs(a.diagonal.p2.left-a.diagonal.p1.left),Math.abs(a.diagonal.p1.top-a.diagonal.p2.top)),a.diagonal.distancia=a.diagonal.distanciapx/a.fator,this.$refs.p1.style.top=a.diagonal.p1.top+"px",this.$refs.p1.style.left=a.diagonal.p1.left+"px",this.$refs.p2.style.top=a.diagonal.p2.top+"px",this.$refs.p2.style.left=a.diagonal.p2.left+"px",this.$refs.p2.style.height=a.diagonal.distanciapx+"px";const e=this.$refs.quadro;let u=`scale(${this.zoom.toFixed(2)})`;e.style.transform=u,this.linhaDiagonal.x1=a.diagonal.p1.left,this.linhaDiagonal.y1=a.diagonal.p1.top,this.linhaDiagonal.x2=a.diagonal.p2.left,this.linhaDiagonal.y2=a.diagonal.p2.top},zoomMais(){this.zoom+=.01,this.desenha()},zoomMenos(){this.zoom-=.01,this.desenha()},touch(a){let e=0;try{e=a.evt.touches.length}catch{}if(this.qtde=e,this.pinca.scaling||e!==2&&Math.abs(a.delta.x+a.delta.y)<=20&&(this.$refs.quadro.style.left=parseFloat(this.$refs.quadro.style.left)+a.delta.x+"px",this.$refs.quadro.style.top=parseFloat(this.$refs.quadro.style.top)+a.delta.y+"px"),!this.pinca.scaling&&e===2&&(this.pinca.zoom=Math.hypot(a.evt.touches[0].pageX-a.evt.touches[1].pageX,a.evt.touches[0].pageY-a.evt.touches[1].pageY),this.zoomIni=parseFloat(this.zoom+""),this.pinca.scaling=!0),this.pinca.scaling&&e===0&&setTimeout(()=>{this.pinca.scaling=!1},250),this.pinca.scaling&&e===2)try{const u=Math.hypot(a.evt.touches[0].pageX-a.evt.touches[1].pageX,a.evt.touches[0].pageY-a.evt.touches[1].pageY)-this.pinca.zoom;this.zoom=this.zoomIni+u/1e3,this.$refs.quadro.style.transform=`scale(${this.zoom.toFixed(2)})`}catch{}},touchP(a,e){let u=0;try{u=a.evt.touches.length}catch{}this.pinca.scaling||u!==2&&(this.dbPupilometro.medidas.diagonal[e].top=this.dbPupilometro.medidas.diagonal[e].top+a.delta.y/this.zoom,this.dbPupilometro.medidas.diagonal[e].left=this.dbPupilometro.medidas.diagonal[e].left+a.delta.x/this.zoom,this.desenha())},touchP1(a){this.touchP(a,"p1")},touchP2(a){this.touchP(a,"p2")},moveu(a){a==="Bt1Up"&&(this.dbPupilometro.medidas.diagonal.p1.top=this.dbPupilometro.medidas.diagonal.p1.top-1),a==="Bt1Down"&&(this.dbPupilometro.medidas.diagonal.p1.top=this.dbPupilometro.medidas.diagonal.p1.top+1),a==="Bt1Left"&&(this.dbPupilometro.medidas.diagonal.p1.left=this.dbPupilometro.medidas.diagonal.p1.left-1),a==="Bt1Right"&&(this.dbPupilometro.medidas.diagonal.p1.left=this.dbPupilometro.medidas.diagonal.p1.left+1),a==="Bt2Up"&&(this.dbPupilometro.medidas.diagonal.p2.top=this.dbPupilometro.medidas.diagonal.p2.top-1),a==="Bt2Down"&&(this.dbPupilometro.medidas.diagonal.p2.top=this.dbPupilometro.medidas.diagonal.p2.top+1),a==="Bt2Left"&&(this.dbPupilometro.medidas.diagonal.p2.left=this.dbPupilometro.medidas.diagonal.p2.left-1),a==="Bt2Right"&&(this.dbPupilometro.medidas.diagonal.p2.left=this.dbPupilometro.medidas.diagonal.p2.left+1),this.desenha()},redimensiona(){const a=this.$refs.quadro;a.style.position="absolute";const e=document.body.clientWidth-20,u=window.innerHeight-60-20;a.style.top=(window.innerHeight-1200)/2+"px",e>u?(this.zoom=u/1e3,a.style.left=(document.body.clientWidth-1200)/2+"px"):(this.zoom=e/600,a.style.left="-520px"),this.desenha()},async salvar(){$q.loading.show(),this.doc.pupilometro.medidas={...this.dbPupilometro.medidas},await $db.jornada.grava(),$q.loading.hide()}},async created(){this.dbPupilometro.fotoOriginal=$db.jornada.b64Images.pupilometro,this.dbPupilometro.foto=$db.jornada.b64Images.pupilometro},mounted(){this.$refs.quadro.style.top="0px",this.$refs.quadro.style.left="0px",this.$refs.quadro.style.width="1200px",this.$refs.quadro.style.height="1200px";const a=this.$refs.quadro;this.$refs.svgDiagonal.style.position="absolute",this.$refs.svgDiagonal.style.top=0,this.$refs.svgDiagonal.style.left=0,this.$refs.svgDiagonal.style.width=a.style.width,this.$refs.svgDiagonal.style.height=a.style.height,this.redimensiona()}},Ft={ref:"quadro"},Pt=["src"],Mt={ref:"svgDiagonal",class:"svgDiagonal"},Ut=["x1","y1","x2","y2"],Tt={ref:"p2",id:"p2",class:"text-primary"},Dt={ref:"p1",id:"p1",class:"text-primary"};function jt(a,e,u,m,t,i){return p(),y(L,{class:"bg-light",style:{overflow:"hidden"}},{default:l(()=>[o($,{onResize:i.redimensiona},null,8,["onResize"]),r("div",Ft,[r("img",{ref:"foto",class:"Foto",src:t.dbPupilometro.foto,onContextmenu:e[0]||(e[0]=q(()=>{},["prevent"]))},null,40,Pt),x((p(),z("svg",Mt,[r("line",{stroke:"#0397ef","stroke-width":"5",x1:t.linhaDiagonal.x1,y1:t.linhaDiagonal.y1,x2:t.linhaDiagonal.x2,y2:t.linhaDiagonal.y2},null,8,Ut)])),[[re,i.touch,void 0,{prevent:!0,mouse:!0}]]),r("div",Tt,[x(o(B,{name:"open_with",style:{"font-size":"4rem"}},null,512),[[re,i.touchP2,void 0,{prevent:!0,mouse:!0}]])],512),r("div",Dt,[x(o(B,{name:"open_with",style:{"font-size":"4rem"}},null,512),[[re,i.touchP1,void 0,{prevent:!0,mouse:!0}]]),r("div",null,O(a.$filters.numero(t.dbPupilometro.medidas.diagonal.distancia,2))+" mm",1)],512)],512),o(D,{class:"bg-primary text-white"},{default:l(()=>[o(c,{onClick:e[1]||(e[1]=n=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(c,{icon:"menu",round:"",flat:"",dense:""},{default:l(()=>[o(J,null,{default:l(()=>[o(W,{style:{"min-width":"100px"}},{default:l(()=>[(p(!0),z(P,null,I(a.$db.jornada.menu,(n,d)=>x((p(),y(R,{key:d,onClick:g=>a.$emit("mudarTela",n.tela),clickable:""},{default:l(()=>[o(F,null,{default:l(()=>[h(O(n.descricao),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[j]])),128))]),_:1})]),_:1})]),_:1}),o(E,null,{default:l(()=>e[14]||(e[14]=[h("Diagonal")])),_:1}),o(c,{onClick:i.atualizar,icon:"refresh",round:"",flat:"",dense:""},null,8,["onClick"]),o(c,{onClick:e[2]||(e[2]=n=>i.fecharModal()),icon:"close",round:"",flat:"",dense:""}),o(c,{onClick:e[3]||(e[3]=n=>i.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:""})]),_:1}),x(o(c,{class:"ZoomMais",color:"primary",size:"md",round:"",icon:"zoom_in",onContextmenu:e[4]||(e[4]=q(()=>{},["prevent"]))},null,512),[[U,i.zoomMais,"0:50",{mouse:!0,enter:!0,space:!0}]]),x(o(c,{class:"ZoomMenos",color:"primary",size:"md",round:"",icon:"zoom_out",onContextmenu:e[5]||(e[5]=q(()=>{},["prevent"]))},null,512),[[U,i.zoomMenos,"0:50",{mouse:!0,enter:!0,space:!0}]]),x(o(c,{class:"Bt1Up",icon:"keyboard_arrow_up",size:"md",round:"",color:"primary",onContextmenu:e[6]||(e[6]=q(()=>{},["prevent"]))},null,512),[[U,()=>i.moveu("Bt1Up"),"0:50",{mouse:!0,enter:!0,space:!0}]]),x(o(c,{class:"Bt1Down",icon:"keyboard_arrow_down",size:"md",round:"",color:"primary",onContextmenu:e[7]||(e[7]=q(()=>{},["prevent"]))},null,512),[[U,()=>i.moveu("Bt1Down"),"0:50",{mouse:!0,enter:!0,space:!0}]]),x(o(c,{class:"Bt1Left",icon:"keyboard_arrow_left",size:"md",round:"",color:"primary",onContextmenu:e[8]||(e[8]=q(()=>{},["prevent"]))},null,512),[[U,()=>i.moveu("Bt1Left"),"0:50",{mouse:!0,enter:!0,space:!0}]]),x(o(c,{class:"Bt1Right",icon:"keyboard_arrow_right",size:"md",round:"",color:"primary",onContextmenu:e[9]||(e[9]=q(()=>{},["prevent"]))},null,512),[[U,()=>i.moveu("Bt1Right"),"0:50",{mouse:!0,enter:!0,space:!0}]]),x(o(c,{class:"Bt2Up",icon:"keyboard_arrow_up",size:"md",round:"",color:"primary",onContextmenu:e[10]||(e[10]=q(()=>{},["prevent"]))},null,512),[[U,()=>i.moveu("Bt2Up"),"0:50",{mouse:!0,enter:!0,space:!0}]]),x(o(c,{class:"Bt2Down",icon:"keyboard_arrow_down",size:"md",round:"",color:"primary",onContextmenu:e[11]||(e[11]=q(()=>{},["prevent"]))},null,512),[[U,()=>i.moveu("Bt2Down"),"0:50",{mouse:!0,enter:!0,space:!0}]]),x(o(c,{class:"Bt2Left",icon:"keyboard_arrow_left",size:"md",round:"",color:"primary",onContextmenu:e[12]||(e[12]=q(()=>{},["prevent"]))},null,512),[[U,()=>i.moveu("Bt2Left"),"0:50",{mouse:!0,enter:!0,space:!0}]]),x(o(c,{class:"Bt2Right",icon:"keyboard_arrow_right",size:"md",round:"",color:"primary",onContextmenu:e[13]||(e[13]=q(()=>{},["prevent"]))},null,512),[[U,()=>i.moveu("Bt2Right"),"0:50",{mouse:!0,enter:!0,space:!0}]])]),_:1})}var Et=N(At,[["render",jt],["__scopeId","data-v-0e584ae7"]]);const Rt={data(){return{doc:$db.jornada.doc,dbPupilometro:$db.pupilometro,sensor:{horizontal:0,vertical:0},foto:"",passo:1,isDown:!1,x:0,y:0,zoom:3,pinca:{scaling:!1}}},emits:["mudarTela","fecharModal"],methods:{async atualizar(){$q.loading.show(),await $db.jornada.carrega(this.doc.id),this.dbPupilometro.fotoOriginal=$db.jornada.b64Images.pupilometro,this.dbPupilometro.foto=$db.jornada.b64Images.pupilometro,this.dbPupilometro.medidas=$utils.clonar(this.doc.pupilometro.medidas),$q.loading.hide()},sleep(a=0){return new Promise(e=>setTimeout(e,a))},desenha(){const a=this.dbPupilometro.medidas;this.$refs.odbifocal.style.height=a.olhoDireito.bifocalAltura+"px",this.$refs.odbifocal.style.left=a.olhoDireito.centroOlho.left+"px",this.$refs.odbifocal.style.top=a.olhoDireito.inferior.top-a.olhoDireito.bifocalAltura+"px",this.$refs.oebifocal.style.height=a.olhoEsquerdo.bifocalAltura+"px",this.$refs.oebifocal.style.left=a.olhoEsquerdo.centroOlho.left+"px",this.$refs.oebifocal.style.top=a.olhoEsquerdo.inferior.top-a.olhoEsquerdo.bifocalAltura+"px";const e=this.$refs.quadro;let u=`scale(${this.zoom.toFixed(2)})`;e.style.transform=u},zoomMais(){this.zoom+=.01,this.desenha()},zoomMenos(){this.zoom-=.01,this.desenha()},touch(a){let e=0;try{e=a.evt.touches.length}catch{}if(this.qtde=e,!this.pinca.scaling&&e===2&&(this.pinca.zoom=Math.hypot(a.evt.touches[0].pageX-a.evt.touches[1].pageX,a.evt.touches[0].pageY-a.evt.touches[1].pageY),this.zoomIni=parseFloat(this.zoom+""),this.pinca.scaling=!0),this.pinca.scaling&&e===0&&setTimeout(()=>{this.pinca.scaling=!1},250),this.pinca.scaling&&e===2)try{const u=Math.hypot(a.evt.touches[0].pageX-a.evt.touches[1].pageX,a.evt.touches[0].pageY-a.evt.touches[1].pageY)-this.pinca.zoom;this.zoom=this.zoomIni+u/1e3,this.$refs.quadro.style.transform=`scale(${this.zoom.toFixed(2)})`}catch{}},moveu(a){a==="od-up"&&(this.dbPupilometro.medidas.olhoDireito.bifocalAltura=this.dbPupilometro.medidas.olhoDireito.bifocalAltura+1,this.desenha()),a==="od-down"&&(this.dbPupilometro.medidas.olhoDireito.bifocalAltura=this.dbPupilometro.medidas.olhoDireito.bifocalAltura-1,this.desenha()),a==="oe-up"&&(this.dbPupilometro.medidas.olhoEsquerdo.bifocalAltura=this.dbPupilometro.medidas.olhoEsquerdo.bifocalAltura+1,this.desenha()),a==="oe-down"&&(this.dbPupilometro.medidas.olhoEsquerdo.bifocalAltura=this.dbPupilometro.medidas.olhoEsquerdo.bifocalAltura-1,this.desenha())},fecharModal(){this.$emit("fecharModal")},async btProximo(){this.dbPupilometro.calcularDistancias(),await this.salvar(),this.$emit("mudarTela","Medidas")},btAnterior(){this.$emit("mudarTela","Diagonal")},redimensiona(){const a=this.$refs.quadro;a.style.position="absolute";const e=document.body.clientWidth-20,u=window.innerHeight-60-20;e>u?this.zoom=u/1e3:this.zoom=e/600,a.style.top=(window.innerHeight-1200)/2+"px",a.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()},async salvar(){$q.loading.show(),this.doc.pupilometro.medidas={...this.dbPupilometro.medidas},await $db.jornada.grava(),$q.loading.hide()}},async created(){this.dbPupilometro.fotoOriginal=$db.jornada.b64Images.pupilometro,this.dbPupilometro.foto=$db.jornada.b64Images.pupilometro},mounted(){this.$refs.quadro.style.top="0px",this.$refs.quadro.style.left="0px",this.$refs.quadro.style.width="1200px",this.$refs.quadro.style.height="1200px",this.redimensiona()}},It={ref:"quadro"},Bt=["src"],Lt={ref:"p1",id:"p1"},Nt={ref:"p2",id:"p2"},St={ref:"odbifocal",id:"odbifocal"},Ht={ref:"oebifocal",id:"oebifocal"};function Qt(a,e,u,m,t,i){return p(),y(L,{class:"bg-light",style:{overflow:"hidden"}},{default:l(()=>[o($,{onResize:i.redimensiona},null,8,["onResize"]),r("div",It,[x(r("img",{ref:"foto",class:"Foto",src:t.dbPupilometro.foto,onContextmenu:e[0]||(e[0]=q(()=>{},["prevent"]))},null,40,Bt),[[re,i.touch,void 0,{prevent:!0,mouse:!0}]]),x(r("div",Lt,null,512),[[S,t.passo===1]]),x(r("div",Nt,null,512),[[S,t.passo===2]]),r("div",St,e[10]||(e[10]=[r("div",null,null,-1),r("div",null,null,-1),r("div",null,null,-1)]),512),r("div",Ht,e[11]||(e[11]=[r("div",null,null,-1),r("div",null,null,-1),r("div",null,null,-1)]),512)],512),o(D,{class:"bg-primary text-white"},{default:l(()=>[o(c,{onClick:e[1]||(e[1]=n=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(c,{icon:"menu",round:"",flat:"",dense:""},{default:l(()=>[o(J,null,{default:l(()=>[o(W,{style:{"min-width":"100px"}},{default:l(()=>[(p(!0),z(P,null,I(a.$db.jornada.menu,(n,d)=>x((p(),y(R,{key:d,onClick:g=>a.$emit("mudarTela",n.tela),clickable:""},{default:l(()=>[o(F,null,{default:l(()=>[h(O(n.descricao),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[j]])),128))]),_:1})]),_:1})]),_:1}),o(E,null,{default:l(()=>e[12]||(e[12]=[h("Bifocal")])),_:1}),o(c,{onClick:i.atualizar,icon:"refresh",round:"",flat:"",dense:""},null,8,["onClick"]),o(c,{onClick:e[2]||(e[2]=n=>i.fecharModal()),icon:"close",round:"",flat:"",dense:""}),o(c,{onClick:e[3]||(e[3]=n=>i.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:""})]),_:1}),x(o(c,{class:"ZoomMais",icon:"zoom_in",size:"md",round:"",color:"primary",onContextmenu:e[4]||(e[4]=q(()=>{},["prevent"]))},null,512),[[U,i.zoomMais,"0:50",{mouse:!0,enter:!0,space:!0}]]),x(o(c,{class:"ZoomMenos",icon:"zoom_out",size:"md",round:"",color:"primary",onContextmenu:e[5]||(e[5]=q(()=>{},["prevent"]))},null,512),[[U,i.zoomMenos,"0:50",{mouse:!0,enter:!0,space:!0}]]),x(o(c,{class:"BtOdUp",icon:"keyboard_arrow_up",size:"md",round:"",color:"primary",onContextmenu:e[6]||(e[6]=q(()=>{},["prevent"]))},null,512),[[U,()=>i.moveu("od-up"),"0:50",{mouse:!0,enter:!0,space:!0}]]),x(o(c,{class:"BtOdDown",icon:"keyboard_arrow_down",size:"md",round:"",color:"primary",onContextmenu:e[7]||(e[7]=q(()=>{},["prevent"]))},null,512),[[U,()=>i.moveu("od-down"),"0:50",{mouse:!0,enter:!0,space:!0}]]),x(o(c,{class:"BtOeUp",icon:"keyboard_arrow_up",size:"md",round:"",color:"primary",onContextmenu:e[8]||(e[8]=q(()=>{},["prevent"]))},null,512),[[U,()=>i.moveu("oe-up"),"0:50",{mouse:!0,enter:!0,space:!0}]]),x(o(c,{class:"BtOeDown",icon:"keyboard_arrow_down",size:"md",round:"",color:"primary",onContextmenu:e[9]||(e[9]=q(()=>{},["prevent"]))},null,512),[[U,()=>i.moveu("oe-down"),"0:50",{mouse:!0,enter:!0,space:!0}]])]),_:1})}var Xt=N(Rt,[["render",Qt],["__scopeId","data-v-9219a58c"]]);const Gt={data(){return{doc:$db.jornada.doc,dbPupilometro:$db.pupilometro,foto:"",isDown:!1,x:0,y:0,zoom:1.6,zoomAnt:0,pinca:{scaling:!1},tela:{},qtde:0}},watch:{"dbPupilometro.medidas.bifocal":function(){this.dbPupilometro.medidas.bifocal&&this.$emit("mudarTela","Bifocal")}},emits:["mudarTela","fecharModal"],methods:{async atualizar(){$q.loading.show(),await $db.jornada.carrega(this.doc.id),this.dbPupilometro.fotoOriginal=$db.jornada.b64Images.pupilometro,this.dbPupilometro.foto=$db.jornada.b64Images.pupilometro,this.dbPupilometro.medidas=$utils.clonar(this.doc.pupilometro.medidas),$q.loading.hide()},fecharModal(){this.$emit("fecharModal")},btAnterior(){this.dbPupilometro.medidas.bifocal?this.$emit("mudarTela","Bifocal"):this.$emit("mudarTela","Diagonal")},btProximo(){this.$emit("mudarTela","Anamnese")},btBifocal(){this.dbPupilometro.medidas.bifocal=!this.dbPupilometro.medidas.bifocal,this.dbPupilometro.medidas.bifocal&&this.$emit("mudarTela","Bifocal")},desenha(){try{const a=this.dbPupilometro.medidas;this.$refs.ods.style.top=this.dbPupilometro.medidas.olhoDireito.superior.top+"px",this.$refs.ods.style.left=this.dbPupilometro.medidas.olhoDireito.superior.left+"px",this.$refs.odi.style.top=this.dbPupilometro.medidas.olhoDireito.inferior.top+"px",this.$refs.odi.style.left=this.dbPupilometro.medidas.olhoDireito.inferior.left+"px",this.$refs.odc.style.top=this.dbPupilometro.medidas.olhoDireito.centroOlho.top+"px",this.$refs.odc.style.left=this.dbPupilometro.medidas.olhoDireito.centroOlho.left+"px",this.$refs.oes.style.top=this.dbPupilometro.medidas.olhoEsquerdo.superior.top+"px",this.$refs.oes.style.left=this.dbPupilometro.medidas.olhoEsquerdo.superior.left+"px",this.$refs.oei.style.top=this.dbPupilometro.medidas.olhoEsquerdo.inferior.top+"px",this.$refs.oei.style.left=this.dbPupilometro.medidas.olhoEsquerdo.inferior.left+"px",this.$refs.oec.style.top=this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.top+"px",this.$refs.oec.style.left=this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.left+"px",this.$refs.tamanhoarmacao.style.top=this.dbPupilometro.medidas.olhoDireito.superior.top-120+"px",this.$refs.tamanhoarmacao.style.left=this.dbPupilometro.medidas.olhoDireito.superior.left+"px",this.$refs.tamanhoarmacao.style.width=this.dbPupilometro.medidas.olhoEsquerdo.superior.left-this.dbPupilometro.medidas.olhoDireito.superior.left+"px",this.$refs.diptotal.style.top=this.dbPupilometro.medidas.olhoDireito.superior.top-80+"px",this.$refs.diptotal.style.left=this.dbPupilometro.medidas.olhoDireito.centroOlho.left+"px",this.$refs.diptotal.style.width=this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.left-this.dbPupilometro.medidas.olhoDireito.centroOlho.left+"px",this.$refs.dnpOd.style.top=this.dbPupilometro.medidas.olhoDireito.superior.top-40+"px",this.$refs.dnpOd.style.left=this.dbPupilometro.medidas.olhoDireito.centroOlho.left+"px",this.$refs.dnpOd.style.width=a.tamanhoArmacaoPx/2-(a.olhoDireito.centroOlho.left-a.olhoDireito.superior.left)+"px",this.$refs.dnpOe.style.top=this.dbPupilometro.medidas.olhoEsquerdo.superior.top-40+"px",this.$refs.dnpOe.style.width=this.dbPupilometro.medidas.tamanhoArmacaoPx/2-(a.olhoEsquerdo.superior.left-a.olhoEsquerdo.centroOlho.left)+"px",this.$refs.dnpOe.style.left=this.dbPupilometro.medidas.olhoEsquerdo.superior.left-this.dbPupilometro.medidas.tamanhoArmacaoPx/2+"px",this.$refs.ponte.style.top=this.dbPupilometro.medidas.olhoDireito.superior.top+30+"px",this.$refs.ponte.style.left=this.dbPupilometro.medidas.olhoDireito.inferior.left+"px",this.$refs.ponte.style.width=this.dbPupilometro.medidas.olhoEsquerdo.inferior.left-this.dbPupilometro.medidas.olhoDireito.inferior.left+"px",this.$refs.odaltura.style.top=this.dbPupilometro.medidas.olhoDireito.centroOlho.top+"px",this.$refs.odaltura.style.left=this.dbPupilometro.medidas.olhoDireito.centroOlho.left-60+"px",this.$refs.odaltura.style.height=this.dbPupilometro.medidas.olhoDireito.inferior.top-this.dbPupilometro.medidas.olhoDireito.centroOlho.top+"px",this.$refs.oealtura.style.top=this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.top+"px",this.$refs.oealtura.style.left=this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.left+60+"px",this.$refs.oealtura.style.height=this.dbPupilometro.medidas.olhoEsquerdo.inferior.top-this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.top+"px",this.$refs.odbifocal.style.height=a.olhoDireito.bifocalAltura+"px",this.$refs.odbifocal.style.left=a.olhoDireito.centroOlho.left+"px",this.$refs.odbifocal.style.top=a.olhoDireito.inferior.top-a.olhoDireito.bifocalAltura+"px",this.$refs.oebifocal.style.height=a.olhoEsquerdo.bifocalAltura+"px",this.$refs.oebifocal.style.left=a.olhoEsquerdo.centroOlho.left+"px",this.$refs.oebifocal.style.top=a.olhoEsquerdo.inferior.top-a.olhoEsquerdo.bifocalAltura+"px",this.$refs.oddiagonal.style.height=a.diagonal.distanciapx+"px",this.$refs.oddiagonal.style.left=a.diagonal.p2.left+"px",this.$refs.oddiagonal.style.top=a.diagonal.p2.top+"px";let e=a.diagonal.p2.left-a.diagonal.p1.left;e=Math.asin(e/a.diagonal.distanciapx)*(180/Math.PI),this.$refs.oddiagonal.style.transform=`rotate(${e}deg)`,this.$refs.oddiagonal.style["transform-origin"]="0% 0%",document.querySelector("#oddiagonal div:nth-child(1)").style.transform=`rotate(-${e}deg)`;const u=this.$refs.quadro;let m=`scale(${this.zoom.toFixed(2)})`;u.style.transform=m}catch(a){console.log(a)}},redimensiona(){const a=this.$refs.quadro;a.style.position="absolute";const e={clientWidth:document.body.clientWidth,clientHeight:window.innerHeight};if(JSON.stringify(this.tela)!==JSON.stringify(e)){this.tela=e;const u=document.body.clientWidth-20,m=window.innerHeight-60-20;u>m?this.zoom=m/1e3:this.zoom=u/800}a.style.top=(window.innerHeight-1200)/2+"px",a.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()},zoomMais(){this.zoom+=.01,this.$refs.quadro.style.transform=`scale(${this.zoom.toFixed(2)})`},zoomMenos(){this.zoom-=.01,this.$refs.quadro.style.transform=`scale(${this.zoom.toFixed(2)})`},touch(a){let e=0;try{e=a.evt.touches.length}catch{}if(this.qtde=e,this.pinca.scaling||e!==2&&Math.abs(a.delta.x+a.delta.y)<=20&&(this.$refs.quadro.style.left=parseFloat(this.$refs.quadro.style.left)+a.delta.x+"px",this.$refs.quadro.style.top=parseFloat(this.$refs.quadro.style.top)+a.delta.y+"px"),!this.pinca.scaling&&e===2&&(this.pinca.zoom=Math.hypot(a.evt.touches[0].pageX-a.evt.touches[1].pageX,a.evt.touches[0].pageY-a.evt.touches[1].pageY),this.zoomIni=parseFloat(this.zoom+""),this.pinca.scaling=!0),this.pinca.scaling&&e===0&&setTimeout(()=>{this.pinca.scaling=!1},250),this.pinca.scaling&&e===2)try{const u=Math.hypot(a.evt.touches[0].pageX-a.evt.touches[1].pageX,a.evt.touches[0].pageY-a.evt.touches[1].pageY)-this.pinca.zoom;this.zoom=this.zoomIni+u/1e3,this.$refs.quadro.style.transform=`scale(${this.zoom.toFixed(2)})`}catch{}}},async created(){this.dbPupilometro.fotoOriginal=$db.jornada.b64Images.pupilometro,this.dbPupilometro.foto=$db.jornada.b64Images.pupilometro},mounted(){this.$refs.quadro.style.top="0px",this.$refs.quadro.style.left="0px",this.redimensiona()}},Yt={ref:"quadro",class:"Quadro"},Wt=["src"],Jt={ref:"ods",id:"ods"},Zt={ref:"odi",id:"odi"},Kt={ref:"odc",id:"odc"},$t={ref:"oei",id:"oei"},el={ref:"oes",id:"oes"},ol={ref:"oec",id:"oec"},tl={ref:"tamanhoarmacao",id:"tamanhoarmacao"},ll={ref:"ponte",id:"ponte"},al={ref:"diptotal",id:"diptotal"},sl={ref:"dnpOd",id:"dnpOd",class:"medidaHorizontal"},il={ref:"dnpOe",id:"dnpOe",class:"medidaHorizontal"},rl={ref:"odaltura",id:"odaltura"},nl={ref:"oealtura",id:"oealtura"},dl={ref:"odbifocal",id:"odbifocal"},ul={ref:"oebifocal",id:"oebifocal"},ml={ref:"oddiagonal",id:"oddiagonal",class:"medidaVerticalAzul"};function cl(a,e,u,m,t,i){return p(),y(L,{class:"bg-light",style:{overflow:"hidden"}},{default:l(()=>[o($,{onResize:i.redimensiona},null,8,["onResize"]),r("div",Yt,[x(r("img",{ref:"foto",class:"Foto",src:t.dbPupilometro.foto,onContextmenu:e[0]||(e[0]=q(()=>{},["prevent"]))},null,40,Wt),[[re,i.touch,void 0,{prevent:!0,stop:!0,mouse:!0}]]),r("div",Jt,null,512),r("div",Zt,null,512),r("div",Kt,null,512),r("div",$t,null,512),r("div",el,null,512),r("div",ol,null,512),r("div",tl,[r("div",null,O(a.$filters.numero(t.dbPupilometro.medidas.tamanhoArmacao,2)),1),e[7]||(e[7]=r("div",null,null,-1)),e[8]||(e[8]=r("div",null,null,-1))],512),r("div",ll,[r("div",null,O(a.$filters.numero(t.dbPupilometro.medidas.ponte,2)),1),e[9]||(e[9]=r("div",null,null,-1)),e[10]||(e[10]=r("div",null,null,-1))],512),r("div",al,[r("div",null,O(a.$filters.numero(t.dbPupilometro.medidas.dip.total,2)),1),e[11]||(e[11]=r("div",null,null,-1)),e[12]||(e[12]=r("div",null,null,-1))],512),r("div",sl,[r("div",null,O(a.$filters.numero(t.dbPupilometro.medidas.dnp.od,2)),1),e[13]||(e[13]=r("div",null,null,-1)),e[14]||(e[14]=r("div",null,null,-1))],512),r("div",il,[r("div",null,O(a.$filters.numero(t.dbPupilometro.medidas.dnp.oe,2)),1),e[15]||(e[15]=r("div",null,null,-1)),e[16]||(e[16]=r("div",null,null,-1))],512),r("div",rl,[r("div",null,O(a.$filters.numero(t.dbPupilometro.medidas.dip.od.altura,2)),1),e[17]||(e[17]=r("div",null,null,-1)),e[18]||(e[18]=r("div",null,null,-1))],512),r("div",nl,[r("div",null,O(a.$filters.numero(t.dbPupilometro.medidas.dip.oe.altura,2)),1),e[19]||(e[19]=r("div",null,null,-1)),e[20]||(e[20]=r("div",null,null,-1))],512),x(r("div",dl,[r("div",null,O(a.$filters.numero(t.dbPupilometro.medidas.bifocalOlhoDireito,2)),1),e[21]||(e[21]=r("div",null,null,-1)),e[22]||(e[22]=r("div",null,null,-1))],512),[[S,t.dbPupilometro.medidas.bifocal]]),x(r("div",ul,[r("div",null,O(a.$filters.numero(t.dbPupilometro.medidas.bifocalOlhoEsquerdo,2)),1),e[23]||(e[23]=r("div",null,null,-1)),e[24]||(e[24]=r("div",null,null,-1))],512),[[S,t.dbPupilometro.medidas.bifocal]]),r("div",ml,[r("div",null,O(a.$filters.numero(t.dbPupilometro.medidas.diagonal.distancia,2)),1),e[25]||(e[25]=r("div",null,null,-1)),e[26]||(e[26]=r("div",null,null,-1))],512)],512),o(D,{class:"bg-primary text-white"},{default:l(()=>[o(c,{onClick:e[1]||(e[1]=n=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(c,{icon:"menu",round:"",flat:"",dense:""},{default:l(()=>[o(J,null,{default:l(()=>[o(W,{style:{"min-width":"100px"}},{default:l(()=>[(p(!0),z(P,null,I(a.$db.jornada.menu,(n,d)=>x((p(),y(R,{key:d,onClick:g=>a.$emit("mudarTela",n.tela),clickable:""},{default:l(()=>[o(F,null,{default:l(()=>[h(O(n.descricao),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[j]])),128))]),_:1})]),_:1})]),_:1}),o(E,null,{default:l(()=>e[27]||(e[27]=[h("Medidas")])),_:1}),o(c,{onClick:i.atualizar,icon:"refresh",round:"",flat:"",dense:""},null,8,["onClick"]),o(c,{onClick:e[2]||(e[2]=n=>i.fecharModal()),icon:"close",round:"",flat:"",dense:""}),o(c,{onClick:e[3]||(e[3]=n=>i.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:""})]),_:1}),x(o(c,{class:"ZoomMais",icon:"zoom_in",size:"md",round:"",color:"primary",onContextmenu:e[4]||(e[4]=q(()=>{},["prevent"]))},null,512),[[U,i.zoomMais,"0:50",{mouse:!0,enter:!0,space:!0}]]),x(o(c,{class:"ZoomMenos",icon:"zoom_out",size:"md",round:"",color:"primary",onContextmenu:e[5]||(e[5]=q(()=>{},["prevent"]))},null,512),[[U,i.zoomMenos,"0:50",{mouse:!0,enter:!0,space:!0}]]),o(c,{class:"Bifocal",label:"Bifocal",color:"primary",onClick:i.btBifocal,onContextmenu:e[6]||(e[6]=q(()=>{},["prevent"]))},null,8,["onClick"])]),_:1})}var pl=N(Gt,[["render",cl],["__scopeId","data-v-73650bb2"]]);const fl={data(){return{doc:$db.jornada.doc}},emits:["mudarTela","fecharModal"],methods:{async atualizar(){$q.loading.show(),await $db.jornada.carrega(this.doc.id),$q.loading.hide()},fecharModal(){this.$emit("fecharModal")},btAnterior(){this.doc.pupilometro.medidasAdiadas?this.$emit("mudarTela","TamanhoFoto"):this.$emit("mudarTela","Medidas")},btProximo(){this.$emit("mudarTela","Materiais")},async salvar(a){await $db.jornada.grava()}}};function bl(a,e,u,m,t,i){const n=C("g-label"),d=C("g-col"),g=C("campo"),b=C("g-row");return p(),y(L,{view:"hHh LpR fFf",class:"bg-light"},{default:l(()=>[o(X,null,{default:l(()=>[o(D,null,{default:l(()=>[o(c,{onClick:e[0]||(e[0]=s=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(c,{icon:"menu",round:"",flat:"",dense:""},{default:l(()=>[o(J,null,{default:l(()=>[o(W,{style:{"min-width":"100px"}},{default:l(()=>[(p(!0),z(P,null,I(a.$db.jornada.menu,(s,_)=>x((p(),y(R,{key:_,onClick:f=>a.$emit("mudarTela",s.tela),clickable:""},{default:l(()=>[o(F,null,{default:l(()=>[h(O(s.descricao),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[j]])),128))]),_:1})]),_:1})]),_:1}),o(E,null,{default:l(()=>e[212]||(e[212]=[h("Anamnese")])),_:1}),o(c,{onClick:i.atualizar,icon:"refresh",round:"",flat:"",dense:""},null,8,["onClick"]),o(c,{onClick:i.fecharModal,icon:"close",round:"",flat:"",dense:""},null,8,["onClick"]),o(c,{onClick:e[1]||(e[1]=s=>i.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:""})]),_:1})]),_:1}),o(G,null,{default:l(()=>[o(Y,{class:"u-container q-pa-md q-mx-auto"},{default:l(()=>[o(b,null,{default:l(()=>[o(d,null,{default:l(()=>[o(b,{gutter:"md",mg:"xl-b","rounded-borders":"",bg:"bg-white"},{default:l(()=>[o(d,{col:"12"},{default:l(()=>[o(n,{icon:"label sm tertiary left",text:"h6 medium regular",bordered:"bottom"},{default:l(()=>e[213]||(e[213]=[h("Trabalho")])),_:1})]),_:1}),o(d,{col:"12 sm4 md3"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.trabalho.profissao,"onUpdate:modelValue":[e[2]||(e[2]=s=>t.doc.anamnese.trabalho.profissao=s),e[3]||(e[3]=s=>i.salvar("anamnese.trabalho.profissao"))],val:"estudante",label:"Estudante",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"12 sm4 md3"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.trabalho.profissao,"onUpdate:modelValue":[e[4]||(e[4]=s=>t.doc.anamnese.trabalho.profissao=s),e[5]||(e[5]=s=>i.salvar("anamnese.trabalho.profissao"))],val:"empresario",label:"Empres\xE1rio(a)",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"12 sm4 md3"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.trabalho.profissao,"onUpdate:modelValue":[e[6]||(e[6]=s=>t.doc.anamnese.trabalho.profissao=s),e[7]||(e[7]=s=>i.salvar("anamnese.trabalho.profissao"))],val:"do_lar",label:"Do lar",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"12 sm4 md3"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.trabalho.profissao,"onUpdate:modelValue":[e[8]||(e[8]=s=>t.doc.anamnese.trabalho.profissao=s),e[9]||(e[9]=s=>i.salvar("anamnese.trabalho.profissao"))],val:"escritorio",label:"Escrit\xF3rio",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"12 sm4 md3"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.trabalho.profissao,"onUpdate:modelValue":[e[10]||(e[10]=s=>t.doc.anamnese.trabalho.profissao=s),e[11]||(e[11]=s=>i.salvar("anamnese.trabalho.profissao"))],val:"motorista",label:"Motorista",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"12 sm4 md3"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.trabalho.profissao,"onUpdate:modelValue":[e[12]||(e[12]=s=>t.doc.anamnese.trabalho.profissao=s),e[13]||(e[13]=s=>i.salvar("anamnese.trabalho.profissao"))],val:"saude",label:"Sa\xFAde (M\xE9dicos, enfermaria, etc...)",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"12 sm4 md3"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.trabalho.profissao,"onUpdate:modelValue":[e[14]||(e[14]=s=>t.doc.anamnese.trabalho.profissao=s),e[15]||(e[15]=s=>i.salvar("anamnese.trabalho.profissao"))],val:"alto_risco_visual",label:"Alto risco visual",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"12",mg:"lg-t"},{default:l(()=>[o(n,{text:"sub1 medium",class:"q-pl-sm"},{default:l(()=>e[214]||(e[214]=[h("Outros")])),_:1}),o(b,null,{default:l(()=>[o(d,{col:"6 sm4 md3"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.trabalho.profissao,"onUpdate:modelValue":[e[16]||(e[16]=s=>t.doc.anamnese.trabalho.profissao=s),e[17]||(e[17]=s=>i.salvar("anamnese.trabalho.profissao"))],val:"interno",label:"Interno",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md3"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.trabalho.profissao,"onUpdate:modelValue":[e[18]||(e[18]=s=>t.doc.anamnese.trabalho.profissao=s),e[19]||(e[19]=s=>i.salvar("anamnese.trabalho.profissao"))],val:"externo",label:"Externo",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"12 sm-grow"},{default:l(()=>[o(g,{modelValue:t.doc.anamnese.trabalho.outros,"onUpdate:modelValue":e[20]||(e[20]=s=>t.doc.anamnese.trabalho.outros=s),tipo:"textoArea",rows:"1",rotulo:"Descreva a profiss\xE3o",disable:!(t.doc.anamnese.trabalho.profissao==="interno"||t.doc.anamnese.trabalho.profissao=="externo"),onBlur:e[21]||(e[21]=s=>i.salvar("anamnese.trabalho.outros"))},null,8,["modelValue","disable"])]),_:1})]),_:1})]),_:1}),o(d,{col:"12",mg:"lg-t"},{default:l(()=>[o(n,{text:"sub1 medium",class:"q-pl-sm"},{default:l(()=>e[215]||(e[215]=[h("No trabalho, qual a dist\xE2ncia uso da vis\xE3o predominante?")])),_:1}),o(b,null,{default:l(()=>[o(d,{col:"6 sm3"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.trabalho.predominancia,"onUpdate:modelValue":[e[22]||(e[22]=s=>t.doc.anamnese.trabalho.predominancia=s),e[23]||(e[23]=s=>i.salvar("anamnese.trabalho.predominancia"))],val:"nao_uso",label:"N\xE3o uso",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm3"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.trabalho.predominancia,"onUpdate:modelValue":[e[24]||(e[24]=s=>t.doc.anamnese.trabalho.predominancia=s),e[25]||(e[25]=s=>i.salvar("anamnese.trabalho.predominancia"))],val:"perto",label:"Perto",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm3"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.trabalho.predominancia,"onUpdate:modelValue":[e[26]||(e[26]=s=>t.doc.anamnese.trabalho.predominancia=s),e[27]||(e[27]=s=>i.salvar("anamnese.trabalho.predominancia"))],val:"intermediario",label:"Intermedi\xE1rio",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm3"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.trabalho.predominancia,"onUpdate:modelValue":[e[28]||(e[28]=s=>t.doc.anamnese.trabalho.predominancia=s),e[29]||(e[29]=s=>i.salvar("anamnese.trabalho.predominancia"))],val:"longe",label:"Longe",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),o(b,{gutter:"md",mg:"xl-b","rounded-borders":"",bg:"bg-white"},{default:l(()=>[o(d,{col:"12"},{default:l(()=>[o(n,{icon:"label sm tertiary left",text:"h6 medium",bordered:"bottom"},{default:l(()=>e[216]||(e[216]=[h("Dire\xE7\xE3o")])),_:1})]),_:1}),o(d,{col:"12",mg:"lg-t"},{default:l(()=>[o(n,{text:"sub1 medium",class:"q-pl-sm"},{default:l(()=>e[217]||(e[217]=[h("Diurno")])),_:1}),o(b,{items:"center"},{default:l(()=>[o(d,{col:"6 sm4 md"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.direcao.diurno,"onUpdate:modelValue":[e[30]||(e[30]=s=>t.doc.anamnese.direcao.diurno=s),e[31]||(e[31]=s=>i.salvar("anamnese.direcao.diurno"))],val:"nao_dirijo",label:"N\xE3o dirijo",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.direcao.diurno,"onUpdate:modelValue":[e[32]||(e[32]=s=>t.doc.anamnese.direcao.diurno=s),e[33]||(e[33]=s=>i.salvar("anamnese.direcao.diurno"))],val:"1",label:"1 hora",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.direcao.diurno,"onUpdate:modelValue":[e[34]||(e[34]=s=>t.doc.anamnese.direcao.diurno=s),e[35]||(e[35]=s=>i.salvar("anamnese.direcao.diurno"))],val:"1a2",label:" 1 \xE1 2 horas",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.direcao.diurno,"onUpdate:modelValue":[e[36]||(e[36]=s=>t.doc.anamnese.direcao.diurno=s),e[37]||(e[37]=s=>i.salvar("anamnese.direcao.diurno"))],val:"4",label:"4 horas",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.direcao.diurno,"onUpdate:modelValue":[e[38]||(e[38]=s=>t.doc.anamnese.direcao.diurno=s),e[39]||(e[39]=s=>i.salvar("anamnese.direcao.diurno"))],val:"8",label:"8 horas",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(d,{col:"12",mg:"lg-t"},{default:l(()=>[o(n,{text:"sub1 medium",class:"q-pl-sm"},{default:l(()=>e[218]||(e[218]=[h("Noturno")])),_:1}),o(b,{items:"center"},{default:l(()=>[o(d,{col:"6 sm4 md"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.direcao.noturno,"onUpdate:modelValue":[e[40]||(e[40]=s=>t.doc.anamnese.direcao.noturno=s),e[41]||(e[41]=s=>i.salvar("anamnese.direcao.noturno"))],val:"nao_dirijo",label:"N\xE3o dirijo",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.direcao.noturno,"onUpdate:modelValue":[e[42]||(e[42]=s=>t.doc.anamnese.direcao.noturno=s),e[43]||(e[43]=s=>i.salvar("anamnese.direcao.noturno"))],val:"1",label:"1 hora",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.direcao.noturno,"onUpdate:modelValue":[e[44]||(e[44]=s=>t.doc.anamnese.direcao.noturno=s),e[45]||(e[45]=s=>i.salvar("anamnese.direcao.noturno"))],val:"1a2",label:" 1 \xE1 2 horas",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.direcao.noturno,"onUpdate:modelValue":[e[46]||(e[46]=s=>t.doc.anamnese.direcao.noturno=s),e[47]||(e[47]=s=>i.salvar("anamnese.direcao.noturno"))],val:"4",label:"4 horas",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.direcao.noturno,"onUpdate:modelValue":[e[48]||(e[48]=s=>t.doc.anamnese.direcao.noturno=s),e[49]||(e[49]=s=>i.salvar("anamnese.direcao.noturno"))],val:"8",label:"8 horas",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),o(b,{gutter:"md",mg:"xl-b","rounded-borders":"",bg:"bg-white"},{default:l(()=>[o(d,{col:"12"},{default:l(()=>[o(n,{icon:"label sm tertiary left",text:"h6 medium",bordered:"bottom"},{default:l(()=>e[219]||(e[219]=[h("Celular / Redes sociais")])),_:1})]),_:1}),o(d,{col:"12",mg:"lg-t"},{default:l(()=>[o(n,{text:"sub1 medium",class:"q-pl-sm"},{default:l(()=>e[220]||(e[220]=[h("Diurno")])),_:1}),o(b,{items:"center"},{default:l(()=>[o(d,{col:"6 sm4 md"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.celular.diurno,"onUpdate:modelValue":[e[50]||(e[50]=s=>t.doc.anamnese.celular.diurno=s),e[51]||(e[51]=s=>i.salvar("anamnese.celular.diurno"))],val:"nao_uso",label:"N\xE3o uso",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.celular.diurno,"onUpdate:modelValue":[e[52]||(e[52]=s=>t.doc.anamnese.celular.diurno=s),e[53]||(e[53]=s=>i.salvar("anamnese.celular.diurno"))],val:"1",label:"1 hora",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.celular.diurno,"onUpdate:modelValue":[e[54]||(e[54]=s=>t.doc.anamnese.celular.diurno=s),e[55]||(e[55]=s=>i.salvar("anamnese.celular.diurno"))],val:"1a2",label:" 1 \xE1 2 horas",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.celular.diurno,"onUpdate:modelValue":[e[56]||(e[56]=s=>t.doc.anamnese.celular.diurno=s),e[57]||(e[57]=s=>i.salvar("anamnese.celular.diurno"))],val:"4",label:"4 horas",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.celular.diurno,"onUpdate:modelValue":[e[58]||(e[58]=s=>t.doc.anamnese.celular.diurno=s),e[59]||(e[59]=s=>i.salvar("anamnese.celular.diurno"))],val:"8",label:"8 horas",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(d,{col:"12",mg:"lg-t"},{default:l(()=>[o(n,{text:"sub1 medium",class:"q-pl-sm"},{default:l(()=>e[221]||(e[221]=[h("Noturno")])),_:1}),o(b,{items:"center"},{default:l(()=>[o(d,{col:"6 sm4 md"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.celular.noturno,"onUpdate:modelValue":[e[60]||(e[60]=s=>t.doc.anamnese.celular.noturno=s),e[61]||(e[61]=s=>i.salvar("anamnese.celular.noturno"))],val:"nao_uso",label:"N\xE3o uso",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.celular.noturno,"onUpdate:modelValue":[e[62]||(e[62]=s=>t.doc.anamnese.celular.noturno=s),e[63]||(e[63]=s=>i.salvar("anamnese.celular.noturno"))],val:"1",label:"1 hora",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.celular.noturno,"onUpdate:modelValue":[e[64]||(e[64]=s=>t.doc.anamnese.celular.noturno=s),e[65]||(e[65]=s=>i.salvar("anamnese.celular.noturno"))],val:"1a2",label:" 1 \xE1 2 horas",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.celular.noturno,"onUpdate:modelValue":[e[66]||(e[66]=s=>t.doc.anamnese.celular.noturno=s),e[67]||(e[67]=s=>i.salvar("anamnese.celular.noturno"))],val:"4",label:"4 horas",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.celular.noturno,"onUpdate:modelValue":[e[68]||(e[68]=s=>t.doc.anamnese.celular.noturno=s),e[69]||(e[69]=s=>i.salvar("anamnese.celular.noturno"))],val:"8",label:"8 horas",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),o(b,{gutter:"md",mg:"xl-b","rounded-borders":"",bg:"bg-white"},{default:l(()=>[o(d,{col:"12"},{default:l(()=>[o(n,{icon:"label sm tertiary left",text:"h6 medium",bordered:"bottom"},{default:l(()=>e[222]||(e[222]=[h("Lazer")])),_:1})]),_:1}),o(d,{col:"12"},{default:l(()=>[o(b,{gutter:"none-y",mg:"lg-b",items:"center",justify:"between"},{default:l(()=>[o(d,{col:"12 sm-grow"}),o(d,{col:"shrink"},{default:l(()=>[o(n,{text:"sub1 medium"},{default:l(()=>e[223]||(e[223]=[h("Nenhum")])),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(n,{text:"sub1 medium"},{default:l(()=>e[224]||(e[224]=[h("Pouco")])),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(n,{text:"sub1 medium"},{default:l(()=>e[225]||(e[225]=[h("Regular")])),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(n,{text:"sub1 medium"},{default:l(()=>e[226]||(e[226]=[h("Muito")])),_:1})]),_:1})]),_:1}),o(b,{gutter:"none-y",mg:"xl-b",items:"center",justify:"between",bordered:"bottom"},{default:l(()=>[o(d,{col:"12 sm-grow"},{default:l(()=>[o(n,{text:"sub1 medium"},{default:l(()=>e[227]||(e[227]=[h("TV (Filmes, S\xE9ries, Esportes)")])),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.tv,"onUpdate:modelValue":[e[70]||(e[70]=s=>t.doc.anamnese.lazer.tv=s),e[71]||(e[71]=s=>i.salvar("anamnese.lazer.tv"))],val:"nenhum",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.tv,"onUpdate:modelValue":[e[72]||(e[72]=s=>t.doc.anamnese.lazer.tv=s),e[73]||(e[73]=s=>i.salvar("anamnese.lazer.tv"))],val:"pouco",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.tv,"onUpdate:modelValue":[e[74]||(e[74]=s=>t.doc.anamnese.lazer.tv=s),e[75]||(e[75]=s=>i.salvar("anamnese.lazer.tv"))],val:"regular",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.tv,"onUpdate:modelValue":[e[76]||(e[76]=s=>t.doc.anamnese.lazer.tv=s),e[77]||(e[77]=s=>i.salvar("anamnese.lazer.tv"))],val:"muito",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1}),o(b,{gutter:"none-y",mg:"xl-b",items:"center",justify:"between",bordered:"bottom"},{default:l(()=>[o(d,{col:"12 sm-grow"},{default:l(()=>[o(n,{text:"sub1 medium"},{default:l(()=>e[228]||(e[228]=[h("Cozinhar")])),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.cozinhar,"onUpdate:modelValue":[e[78]||(e[78]=s=>t.doc.anamnese.lazer.cozinhar=s),e[79]||(e[79]=s=>i.salvar("anamnese.lazer.cozinhar"))],val:"nenhum",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.cozinhar,"onUpdate:modelValue":[e[80]||(e[80]=s=>t.doc.anamnese.lazer.cozinhar=s),e[81]||(e[81]=s=>i.salvar("anamnese.lazer.cozinhar"))],val:"pouco",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.cozinhar,"onUpdate:modelValue":[e[82]||(e[82]=s=>t.doc.anamnese.lazer.cozinhar=s),e[83]||(e[83]=s=>i.salvar("anamnese.lazer.cozinhar"))],val:"regular",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.cozinhar,"onUpdate:modelValue":[e[84]||(e[84]=s=>t.doc.anamnese.lazer.cozinhar=s),e[85]||(e[85]=s=>i.salvar("anamnese.lazer.cozinhar"))],val:"muito",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1}),o(b,{gutter:"none-y",mg:"xl-b",items:"center",justify:"between",bordered:"bottom"},{default:l(()=>[o(d,{col:"12 sm-grow"},{default:l(()=>[o(n,{text:"sub1 medium"},{default:l(()=>e[229]||(e[229]=[h("Leituras")])),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.leituras,"onUpdate:modelValue":[e[86]||(e[86]=s=>t.doc.anamnese.lazer.leituras=s),e[87]||(e[87]=s=>i.salvar("anamnese.lazer.leituras"))],val:"nenhum",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.leituras,"onUpdate:modelValue":[e[88]||(e[88]=s=>t.doc.anamnese.lazer.leituras=s),e[89]||(e[89]=s=>i.salvar("anamnese.lazer.leituras"))],val:"pouco",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.leituras,"onUpdate:modelValue":[e[90]||(e[90]=s=>t.doc.anamnese.lazer.leituras=s),e[91]||(e[91]=s=>i.salvar("anamnese.lazer.leituras"))],val:"regular",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.leituras,"onUpdate:modelValue":[e[92]||(e[92]=s=>t.doc.anamnese.lazer.leituras=s),e[93]||(e[93]=s=>i.salvar("anamnese.lazer.leituras"))],val:"muito",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1}),o(b,{gutter:"none-y",mg:"xl-b",items:"center",justify:"between",bordered:"bottom"},{default:l(()=>[o(d,{col:"12 sm-grow"},{default:l(()=>[o(n,{text:"sub1 medium"},{default:l(()=>e[230]||(e[230]=[h("Academia")])),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.academia,"onUpdate:modelValue":[e[94]||(e[94]=s=>t.doc.anamnese.lazer.academia=s),e[95]||(e[95]=s=>i.salvar("anamnese.lazer.academia"))],val:"nenhum",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.academia,"onUpdate:modelValue":[e[96]||(e[96]=s=>t.doc.anamnese.lazer.academia=s),e[97]||(e[97]=s=>i.salvar("anamnese.lazer.academia"))],val:"pouco",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.academia,"onUpdate:modelValue":[e[98]||(e[98]=s=>t.doc.anamnese.lazer.academia=s),e[99]||(e[99]=s=>i.salvar("anamnese.lazer.academia"))],val:"regular",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.academia,"onUpdate:modelValue":[e[100]||(e[100]=s=>t.doc.anamnese.lazer.academia=s),e[101]||(e[101]=s=>i.salvar("anamnese.lazer.academia"))],val:"muito",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1}),o(b,{gutter:"none-y",mg:"xl-b",items:"center",justify:"between",bordered:"bottom"},{default:l(()=>[o(d,{col:"12 sm-grow"},{default:l(()=>[o(n,{text:"sub1 medium"},{default:l(()=>e[231]||(e[231]=[h("Esportes de perto (Xadrez, tabuleiro, etc...)")])),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.esportesPerto,"onUpdate:modelValue":[e[102]||(e[102]=s=>t.doc.anamnese.lazer.esportesPerto=s),e[103]||(e[103]=s=>i.salvar("anamnese.lazer.esportesPerto"))],val:"nenhum",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.esportesPerto,"onUpdate:modelValue":[e[104]||(e[104]=s=>t.doc.anamnese.lazer.esportesPerto=s),e[105]||(e[105]=s=>i.salvar("anamnese.lazer.esportesPerto"))],val:"pouco",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.esportesPerto,"onUpdate:modelValue":[e[106]||(e[106]=s=>t.doc.anamnese.lazer.esportesPerto=s),e[107]||(e[107]=s=>i.salvar("anamnese.lazer.esportesPerto"))],val:"regular",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.esportesPerto,"onUpdate:modelValue":[e[108]||(e[108]=s=>t.doc.anamnese.lazer.esportesPerto=s),e[109]||(e[109]=s=>i.salvar("anamnese.lazer.esportesPerto"))],val:"muito",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1}),o(b,{gutter:"none-y",mg:"xl-b",items:"center",justify:"between",bordered:"bottom"},{default:l(()=>[o(d,{col:"12 sm-grow"},{default:l(()=>[o(n,{text:"sub1 medium"},{default:l(()=>e[232]||(e[232]=[h("Esportes ao ar livre diurnos")])),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.esportesArLivreDiurnos,"onUpdate:modelValue":[e[110]||(e[110]=s=>t.doc.anamnese.lazer.esportesArLivreDiurnos=s),e[111]||(e[111]=s=>i.salvar("anamnese.lazer.esportesArLivreDiurnos"))],val:"nenhum",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.esportesArLivreDiurnos,"onUpdate:modelValue":[e[112]||(e[112]=s=>t.doc.anamnese.lazer.esportesArLivreDiurnos=s),e[113]||(e[113]=s=>i.salvar("anamnese.lazer.esportesArLivreDiurnos"))],val:"pouco",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.esportesArLivreDiurnos,"onUpdate:modelValue":[e[114]||(e[114]=s=>t.doc.anamnese.lazer.esportesArLivreDiurnos=s),e[115]||(e[115]=s=>i.salvar("anamnese.lazer.esportesArLivreDiurnos"))],val:"regular",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.esportesArLivreDiurnos,"onUpdate:modelValue":[e[116]||(e[116]=s=>t.doc.anamnese.lazer.esportesArLivreDiurnos=s),e[117]||(e[117]=s=>i.salvar("anamnese.lazer.esportesArLivreDiurnos"))],val:"muito",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1}),o(b,{gutter:"none-y",mg:"xl-b",items:"center",justify:"between",bordered:"bottom"},{default:l(()=>[o(d,{col:"12 sm-grow"},{default:l(()=>[o(n,{text:"sub1 medium"},{default:l(()=>e[233]||(e[233]=[h("Esportes ao ar livre noturno")])),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.esportesArLivreNoturno,"onUpdate:modelValue":[e[118]||(e[118]=s=>t.doc.anamnese.lazer.esportesArLivreNoturno=s),e[119]||(e[119]=s=>i.salvar("anamnese.lazer.esportesArLivreNoturno"))],val:"nenhum",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.esportesArLivreNoturno,"onUpdate:modelValue":[e[120]||(e[120]=s=>t.doc.anamnese.lazer.esportesArLivreNoturno=s),e[121]||(e[121]=s=>i.salvar("anamnese.lazer.esportesArLivreNoturno"))],val:"pouco",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.esportesArLivreNoturno,"onUpdate:modelValue":[e[122]||(e[122]=s=>t.doc.anamnese.lazer.esportesArLivreNoturno=s),e[123]||(e[123]=s=>i.salvar("anamnese.lazer.esportesArLivreNoturno"))],val:"regular",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.esportesArLivreNoturno,"onUpdate:modelValue":[e[124]||(e[124]=s=>t.doc.anamnese.lazer.esportesArLivreNoturno=s),e[125]||(e[125]=s=>i.salvar("anamnese.lazer.esportesArLivreNoturno"))],val:"muito",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1}),o(b,{gutter:"none-y",mg:"xl-b",items:"center",justify:"between",bordered:"bottom"},{default:l(()=>[o(d,{col:"12 sm-grow"},{default:l(()=>[o(n,{text:"sub1 medium"},{default:l(()=>e[234]||(e[234]=[h("Esportes ambiente fechado")])),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.esportesAmbienteFechado,"onUpdate:modelValue":[e[126]||(e[126]=s=>t.doc.anamnese.lazer.esportesAmbienteFechado=s),e[127]||(e[127]=s=>i.salvar("anamnese.lazer.esportesAmbienteFechado"))],val:"nenhum",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.esportesAmbienteFechado,"onUpdate:modelValue":[e[128]||(e[128]=s=>t.doc.anamnese.lazer.esportesAmbienteFechado=s),e[129]||(e[129]=s=>i.salvar("anamnese.lazer.esportesAmbienteFechado"))],val:"pouco",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.esportesAmbienteFechado,"onUpdate:modelValue":[e[130]||(e[130]=s=>t.doc.anamnese.lazer.esportesAmbienteFechado=s),e[131]||(e[131]=s=>i.salvar("anamnese.lazer.esportesAmbienteFechado"))],val:"regular",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.esportesAmbienteFechado,"onUpdate:modelValue":[e[132]||(e[132]=s=>t.doc.anamnese.lazer.esportesAmbienteFechado=s),e[133]||(e[133]=s=>i.salvar("anamnese.lazer.esportesAmbienteFechado"))],val:"muito",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1}),o(b,{gutter:"none-y",mg:"xl-b",items:"center",justify:"between",bordered:"bottom"},{default:l(()=>[o(d,{col:"12 sm-grow"},{default:l(()=>[o(n,{text:"sub1 medium"},{default:l(()=>e[235]||(e[235]=[h("Esportes radicais (automobilismo, escalada, etc...)")])),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.esportesRadicais,"onUpdate:modelValue":[e[134]||(e[134]=s=>t.doc.anamnese.lazer.esportesRadicais=s),e[135]||(e[135]=s=>i.salvar("anamnese.lazer.esportesRadicais"))],val:"nenhum",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.esportesRadicais,"onUpdate:modelValue":[e[136]||(e[136]=s=>t.doc.anamnese.lazer.esportesRadicais=s),e[137]||(e[137]=s=>i.salvar("anamnese.lazer.esportesRadicais"))],val:"pouco",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.esportesRadicais,"onUpdate:modelValue":[e[138]||(e[138]=s=>t.doc.anamnese.lazer.esportesRadicais=s),e[139]||(e[139]=s=>i.salvar("anamnese.lazer.esportesRadicais"))],val:"regular",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.esportesRadicais,"onUpdate:modelValue":[e[140]||(e[140]=s=>t.doc.anamnese.lazer.esportesRadicais=s),e[141]||(e[141]=s=>i.salvar("anamnese.lazer.esportesRadicais"))],val:"muito",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1}),o(b,{gutter:"none-y",mg:"xl-b",items:"center",justify:"between",bordered:"bottom"},{default:l(()=>[o(d,{col:"12 sm-grow"},{default:l(()=>[o(n,{text:"sub1 medium"},{default:l(()=>e[236]||(e[236]=[h("Pesca")])),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.pesca,"onUpdate:modelValue":[e[142]||(e[142]=s=>t.doc.anamnese.lazer.pesca=s),e[143]||(e[143]=s=>i.salvar("anamnese.lazer.pesca"))],val:"nenhum",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.pesca,"onUpdate:modelValue":[e[144]||(e[144]=s=>t.doc.anamnese.lazer.pesca=s),e[145]||(e[145]=s=>i.salvar("anamnese.lazer.pesca"))],val:"pouco",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.pesca,"onUpdate:modelValue":[e[146]||(e[146]=s=>t.doc.anamnese.lazer.pesca=s),e[147]||(e[147]=s=>i.salvar("anamnese.lazer.pesca"))],val:"regular",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.pesca,"onUpdate:modelValue":[e[148]||(e[148]=s=>t.doc.anamnese.lazer.pesca=s),e[149]||(e[149]=s=>i.salvar("anamnese.lazer.pesca"))],val:"muito",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1}),o(b,{gutter:"none-y",mg:"xl-b",items:"center",justify:"between",bordered:"bottom"},{default:l(()=>[o(d,{col:"12 sm-grow"},{default:l(()=>[o(n,{text:"sub1 medium"},{default:l(()=>e[237]||(e[237]=[h("Ciclismo")])),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.ciclismo,"onUpdate:modelValue":[e[150]||(e[150]=s=>t.doc.anamnese.lazer.ciclismo=s),e[151]||(e[151]=s=>i.salvar("anamnese.lazer.ciclismo"))],val:"nenhum",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.ciclismo,"onUpdate:modelValue":[e[152]||(e[152]=s=>t.doc.anamnese.lazer.ciclismo=s),e[153]||(e[153]=s=>i.salvar("anamnese.lazer.ciclismo"))],val:"pouco",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.ciclismo,"onUpdate:modelValue":[e[154]||(e[154]=s=>t.doc.anamnese.lazer.ciclismo=s),e[155]||(e[155]=s=>i.salvar("anamnese.lazer.ciclismo"))],val:"regular",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.ciclismo,"onUpdate:modelValue":[e[156]||(e[156]=s=>t.doc.anamnese.lazer.ciclismo=s),e[157]||(e[157]=s=>i.salvar("anamnese.lazer.ciclismo"))],val:"muito",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(d,{col:"12"},{default:l(()=>[o(g,{modelValue:t.doc.anamnese.lazer.observacao,"onUpdate:modelValue":e[158]||(e[158]=s=>t.doc.anamnese.lazer.observacao=s),tipo:"textoArea",rotuloFixo:"Observa\xE7\xE3o",onBlur:e[159]||(e[159]=s=>i.salvar("anamnese.lazer.observacao"))},null,8,["modelValue"])]),_:1}),o(d,{col:"12",mg:"lg-t"},{default:l(()=>[o(n,{text:"sub1 medium",class:"q-pl-sm"},{default:l(()=>e[238]||(e[238]=[h("Observa algum inc\xF4modo nos olhos durante ou ap\xF3s a pr\xE1tica de atividades f\xEDsicas?")])),_:1}),o(b,null,{default:l(()=>[o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.incomodo,"onUpdate:modelValue":[e[160]||(e[160]=s=>t.doc.anamnese.lazer.incomodo=s),e[161]||(e[161]=s=>i.salvar("anamnese.lazer.incomodo"))],val:"sim",label:"Sim",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.lazer.incomodo,"onUpdate:modelValue":[e[162]||(e[162]=s=>t.doc.anamnese.lazer.incomodo=s),e[163]||(e[163]=s=>i.salvar("anamnese.lazer.incomodo"))],val:"nao",label:"N\xE3o",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),o(b,{gutter:"md",mg:"xl-b","rounded-borders":"",bg:"bg-white"},{default:l(()=>[o(d,{col:"12"},{default:l(()=>[o(n,{icon:"label sm tertiary left",text:"h6 medium",bordered:"bottom"},{default:l(()=>e[239]||(e[239]=[h("Outras atividades")])),_:1})]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.atividades,"onUpdate:modelValue":[e[164]||(e[164]=s=>t.doc.anamnese.atividades=s),e[165]||(e[165]=s=>i.salvar("anamnese.atividades"))],val:"professor",label:"Professor pardal (Eletr\xF4nicos, Madeira...)",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.atividades,"onUpdate:modelValue":[e[166]||(e[166]=s=>t.doc.anamnese.atividades=s),e[167]||(e[167]=s=>i.salvar("anamnese.atividades"))],val:"costura",label:"Corte, Costura, Trico",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1}),o(b,{gutter:"md",mg:"xl-b","rounded-borders":"",bg:"bg-white"},{default:l(()=>[o(d,{col:"12"},{default:l(()=>[o(n,{icon:"label sm tertiary left",text:"h6 medium",bordered:"bottom"},{default:l(()=>e[240]||(e[240]=[h("Lente de contato")])),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.ldc.usa,"onUpdate:modelValue":[e[168]||(e[168]=s=>t.doc.anamnese.ldc.usa=s),e[169]||(e[169]=s=>i.salvar("anamnese.ldc.usa"))],val:"sim",label:"Uso",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.ldc.usa,"onUpdate:modelValue":[e[170]||(e[170]=s=>t.doc.anamnese.ldc.usa=s),e[171]||(e[171]=s=>i.salvar("anamnese.ldc.usa"))],val:"nao",label:"N\xE3o uso",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"12"},{default:l(()=>[t.doc.anamnese.ldc.usa?(p(),y(n,{key:0,text:"sub1 medium",class:"q-pl-sm"},{default:l(()=>e[241]||(e[241]=[h("Motivo do uso")])),_:1})):w("",!0),x(o(b,{items:"center"},{default:l(()=>[o(d,{col:"6 sm4 md"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.ldc.status,"onUpdate:modelValue":[e[172]||(e[172]=s=>t.doc.anamnese.ldc.status=s),e[173]||(e[173]=s=>i.salvar("anamnese.ldc.status"))],val:"regularmente",label:"Uso regularmente",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.ldc.status,"onUpdate:modelValue":[e[174]||(e[174]=s=>t.doc.anamnese.ldc.status=s),e[175]||(e[175]=s=>i.salvar("anamnese.ldc.status"))],val:"esportes",label:"S\xF3 para esportes",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.ldc.status,"onUpdate:modelValue":[e[176]||(e[176]=s=>t.doc.anamnese.ldc.status=s),e[177]||(e[177]=s=>i.salvar("anamnese.ldc.status"))],val:"estetica",label:"Est\xE9tica (Eventos)",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1},512),[[S,t.doc.anamnese.ldc.usa==="sim"]]),x(o(b,{items:"center"},{default:l(()=>[o(d,{col:"6 sm4 md"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.ldc.status,"onUpdate:modelValue":[e[178]||(e[178]=s=>t.doc.anamnese.ldc.status=s),e[179]||(e[179]=s=>i.salvar("anamnese.ldc.status"))],val:"nao_gostei",label:"Usei e n\xE3o gostei",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.ldc.status,"onUpdate:modelValue":[e[180]||(e[180]=s=>t.doc.anamnese.ldc.status=s),e[181]||(e[181]=s=>i.salvar("anamnese.ldc.status"))],val:"nunca",label:"Nunca usei",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1},512),[[S,t.doc.anamnese.ldc.usa==="nao"]])]),_:1})]),_:1}),o(b,{gutter:"md",mg:"xl-b","rounded-borders":"",bg:"bg-white"},{default:l(()=>[o(d,{col:"12"},{default:l(()=>[o(n,{icon:"label sm tertiary left",text:"h6 medium",bordered:"bottom"},{default:l(()=>e[242]||(e[242]=[h("\xD3culos de sol")])),_:1})]),_:1}),o(d,{col:"6 sm3"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.solar.usa,"onUpdate:modelValue":[e[182]||(e[182]=s=>t.doc.anamnese.solar.usa=s),e[183]||(e[183]=s=>i.salvar("anamnese.solar.usa"))],val:"nao",label:"N\xE3o uso",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm3"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.solar.usa,"onUpdate:modelValue":[e[184]||(e[184]=s=>t.doc.anamnese.solar.usa=s),e[185]||(e[185]=s=>i.salvar("anamnese.solar.usa"))],val:"pouco",label:"Pouco",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm3"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.solar.usa,"onUpdate:modelValue":[e[186]||(e[186]=s=>t.doc.anamnese.solar.usa=s),e[187]||(e[187]=s=>i.salvar("anamnese.solar.usa"))],val:"regular",label:"Regular",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm3"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.solar.usa,"onUpdate:modelValue":[e[188]||(e[188]=s=>t.doc.anamnese.solar.usa=s),e[189]||(e[189]=s=>i.salvar("anamnese.solar.usa"))],val:"muito",label:"Muito",size:"lg"},null,8,["modelValue"])]),_:1}),x(o(d,{col:"12"},{default:l(()=>[o(n,{text:"sub1 medium",class:"q-pl-sm"},{default:l(()=>e[243]||(e[243]=[h("Possui gradua\xE7\xE3o")])),_:1}),o(b,{items:"center"},{default:l(()=>[o(d,{col:"6 sm4 md3"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.solar.graduacao,"onUpdate:modelValue":[e[190]||(e[190]=s=>t.doc.anamnese.solar.graduacao=s),e[191]||(e[191]=s=>i.salvar("anamnese.solar.graduacao"))],val:"sim",label:"Sim",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md3"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.solar.graduacao,"onUpdate:modelValue":[e[192]||(e[192]=s=>t.doc.anamnese.solar.graduacao=s),e[193]||(e[193]=s=>i.salvar("anamnese.solar.graduacao"))],val:"nao",label:"N\xE3o",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},512),[[S,t.doc.anamnese.solar.usa!=="nao"]])]),_:1}),o(b,{gutter:"md",mg:"xl-b","rounded-borders":"",bg:"bg-white"},{default:l(()=>[o(d,{col:"12"},{default:l(()=>[o(n,{icon:"label sm tertiary left",text:"h6 medium",bordered:"bottom"},{default:l(()=>e[244]||(e[244]=[h("Moda")])),_:1})]),_:1}),o(d,{col:"12 sm4"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.moda,"onUpdate:modelValue":[e[194]||(e[194]=s=>t.doc.anamnese.moda=s),e[195]||(e[195]=s=>i.salvar("anamnese.moda"))],val:"aprecio",label:"Aprecio muito",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"12 sm4"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.moda,"onUpdate:modelValue":[e[196]||(e[196]=s=>t.doc.anamnese.moda=s),e[197]||(e[197]=s=>i.salvar("anamnese.moda"))],val:"nao",label:"N\xE3o ligo",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"12 sm4"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.moda,"onUpdate:modelValue":[e[198]||(e[198]=s=>t.doc.anamnese.moda=s),e[199]||(e[199]=s=>i.salvar("anamnese.moda"))],val:"dinheiro",label:"Gosto, mas n\xE3o tenho dinheiro",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1}),o(b,{gutter:"md",mg:"xl-b","rounded-borders":"",bg:"bg-white"},{default:l(()=>[o(d,{col:"12"},{default:l(()=>[o(n,{icon:"label sm tertiary left",text:"h6 medium",bordered:"bottom"},{default:l(()=>e[245]||(e[245]=[h("Observa algum inc\xF4modo nos olhos durante ou ap\xF3s o uso de telas?")])),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.telas,"onUpdate:modelValue":[e[200]||(e[200]=s=>t.doc.anamnese.telas=s),e[201]||(e[201]=s=>i.salvar("anamnese.telas"))],val:"sim",label:"Sim",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.telas,"onUpdate:modelValue":[e[202]||(e[202]=s=>t.doc.anamnese.telas=s),e[203]||(e[203]=s=>i.salvar("anamnese.telas"))],val:"nao",label:"N\xE3o",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1}),o(b,{gutter:"md",mg:"xl-b","rounded-borders":"",bg:"bg-white"},{default:l(()=>[o(d,{col:"12"},{default:l(()=>[o(n,{icon:"label sm tertiary left",text:"h6 medium",bordered:"bottom"},{default:l(()=>e[246]||(e[246]=[h("Voc\xEA sente algum tipo de incomodo quando exposto(a) a claridade?")])),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.claridade,"onUpdate:modelValue":[e[204]||(e[204]=s=>t.doc.anamnese.claridade=s),e[205]||(e[205]=s=>i.salvar("anamnese.claridade"))],val:"sim",label:"Sim",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.claridade,"onUpdate:modelValue":[e[206]||(e[206]=s=>t.doc.anamnese.claridade=s),e[207]||(e[207]=s=>i.salvar("anamnese.claridade"))],val:"nao",label:"N\xE3o",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1}),o(b,{gutter:"md","rounded-borders":"",bg:"bg-white"},{default:l(()=>[o(d,{col:"12"},{default:l(()=>[o(n,{icon:"label sm tertiary left",text:"h6 medium",bordered:"bottom"},{default:l(()=>e[247]||(e[247]=[h("Faz pausas regulares para descansar a vis\xE3o enquanto utiliza telas?")])),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.pausas,"onUpdate:modelValue":[e[208]||(e[208]=s=>t.doc.anamnese.pausas=s),e[209]||(e[209]=s=>i.salvar("anamnese.pausas"))],val:"sim",label:"Sim",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(k,{modelValue:t.doc.anamnese.pausas,"onUpdate:modelValue":[e[210]||(e[210]=s=>t.doc.anamnese.pausas=s),e[211]||(e[211]=s=>i.salvar("anamnese.pausas"))],val:"nao",label:"N\xE3o",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var gl=N(fl,[["render",bl]]);const vl={computed:{sliderTransitionBg:function(){return this.sliderTransition*100+"%"},sliderTransitionWhite:function(){return 1-this.sliderTransition}},data(){return{tela:{},lente:"statics/jornada/fotossensivel/fotossensivel-black.png",sliderTransition:0,labelsConsultorOtico:{}}},methods:{mudarLente(a){this.lente=`statics/jornada/fotossensivel/fotossensivel-${a}.png`},resize(){this.tela={width:$utils.tela("FotossensivelHeader").width,height:$utils.tela("FotossensivelFooter").height}}},async mounted(){this.labelsConsultorOtico.consultorOticoFotossensivel=await $db.configuracoes.leValorComFiltroEmpresa("ConsultorOtico.Fotossensivel"),this.labelsConsultorOtico.consultorOticoFotossensivel||(this.labelsConsultorOtico.consultorOticoFotossensivel="Fotossens\xEDvel")}},hl={id:"Fotossensivel"},yl=["src"];function xl(a,e,u,m,t,i){const n=C("g-col"),d=C("g-row");return p(),z("div",hl,[o(L,{view:"hHh LpR fFf",class:"bg-light"},{default:l(()=>[o($,{onResize:e[0]||(e[0]=g=>i.resize())}),o(X,{id:"FotossensivelHeader"},{default:l(()=>[o(D,null,{default:l(()=>[o(E,null,{default:l(()=>[h(O(t.labelsConsultorOtico.consultorOticoFotossensivel),1)]),_:1}),x(o(c,{icon:"close",round:"",flat:"",dense:""},null,512),[[j]])]),_:1})]),_:1}),o(G,null,{default:l(()=>[o(Y,{class:"overflow-hidden no-scroll",style:le(`
          min-height:calc(100vh - ${t.tela.header+t.tela.footer}px);
          max-height:calc(100vh - ${t.tela.header+t.tela.footer}px);
        `)},{default:l(()=>[o(d,{items:"center",justify:"center",style:le({backgroundPositionX:i.sliderTransitionBg})},{default:l(()=>[e[10]||(e[10]=r("video",{src:"statics/jornada/fotossensivel/fotossensivel.mp4",autoplay:"",muted:"",loop:"",playsinline:"",class:"videoFotossensivel"}," Seu navegador n\xE3o suporta a tag de v\xEDdeo. ",-1)),o(n,{col:"12",text:"center"},{default:l(()=>[r("img",{src:t.lente,class:"imagemFotossensivel",style:le({opacity:t.sliderTransition})},null,12,yl),r("img",{src:"statics/jornada/fotossensivel/fotossensivel-transparente.png",class:"imagemFotossensivel",style:le({opacity:i.sliderTransitionWhite})},null,4)]),_:1})]),_:1},8,["style"])]),_:1},8,["style"])]),_:1}),o(de,{id:"FotossensivelFooter",class:"q-pa-none bg-dark",reveal:""},{default:l(()=>[o(d,{gutter:"sm",justify:"center",bordered:"top",bg:"bg-dark"},{default:l(()=>[o(n,{col:"11 md10 lg9"},{default:l(()=>[o(_e,{modelValue:t.sliderTransition,"onUpdate:modelValue":e[1]||(e[1]=g=>t.sliderTransition=g),min:0,max:1,step:.01,class:"fotossensivelSlider",color:"cyan","track-color":"light"},null,8,["modelValue"])]),_:1})]),_:1}),o(d,{justify:"center",bg:"bg-grey-4"},{default:l(()=>[o(n,{onClick:e[2]||(e[2]=g=>i.mudarLente("black")),class:"cursor-pointer coresFotossensivel",bg:"bg-grey-9"},{default:l(()=>e[11]||(e[11]=[r("img",{src:"statics/jornada/fotossensivel/fotossensivel-black.png"},null,-1)])),_:1}),o(n,{onClick:e[3]||(e[3]=g=>i.mudarLente("brown")),class:"cursor-pointer coresFotossensivel",bg:"bg-brown"},{default:l(()=>e[12]||(e[12]=[r("img",{src:"statics/jornada/fotossensivel/fotossensivel-brown.png"},null,-1)])),_:1}),o(n,{onClick:e[4]||(e[4]=g=>i.mudarLente("graphite-green")),class:"cursor-pointer coresFotossensivel",bg:"bg-light-green-9"},{default:l(()=>e[13]||(e[13]=[r("img",{src:"statics/jornada/fotossensivel/fotossensivel-graphite-green.png"},null,-1)])),_:1}),o(n,{onClick:e[5]||(e[5]=g=>i.mudarLente("emerald")),class:"cursor-pointer coresFotossensivel",bg:"bg-teal-9"},{default:l(()=>e[14]||(e[14]=[r("img",{src:"statics/jornada/fotossensivel/fotossensivel-emerald.png"},null,-1)])),_:1}),o(n,{onClick:e[6]||(e[6]=g=>i.mudarLente("sapphire")),class:"cursor-pointer coresFotossensivel",bg:"bg-blue-10"},{default:l(()=>e[15]||(e[15]=[r("img",{src:"statics/jornada/fotossensivel/fotossensivel-sapphire.png"},null,-1)])),_:1}),o(n,{onClick:e[7]||(e[7]=g=>i.mudarLente("amber")),class:"cursor-pointer coresFotossensivel",bg:"bg-amber"},{default:l(()=>e[16]||(e[16]=[r("img",{src:"statics/jornada/fotossensivel/fotossensivel-amber.png"},null,-1)])),_:1}),o(n,{onClick:e[8]||(e[8]=g=>i.mudarLente("ruby")),class:"cursor-pointer coresFotossensivel",bg:"bg-pink-4"},{default:l(()=>e[17]||(e[17]=[r("img",{src:"statics/jornada/fotossensivel/fotossensivel-ruby.png"},null,-1)])),_:1}),o(n,{onClick:e[9]||(e[9]=g=>i.mudarLente("amethyst")),class:"cursor-pointer coresFotossensivel",bg:"bg-purple-7"},{default:l(()=>e[18]||(e[18]=[r("img",{src:"statics/jornada/fotossensivel/fotossensivel-amethyst.png"},null,-1)])),_:1})]),_:1})]),_:1})]),_:1})])}var Vl=N(vl,[["render",xl],["__scopeId","data-v-70ba6cd2"]]);const wl={components:{Fotossensivel:Vl,PromptItemV2:Xe},data(){return{indice:$db.jornada.doc.value.materiais.esferico,espessura:{},visibilidade:{configuracoes:!1,fotossensivel:!1,textoIndice:!1,textoLente:!1},imagemCorredor:{img1:"statics/jornada/multifocais/convencional/lentes/basico.png",img2:"statics/jornada/multifocais/convencional/lentes/medio.png",img3:"statics/jornada/multifocais/convencional/lentes/amplo.png",img4:"statics/jornada/multifocais/digital/lentes/basico.png",img5:"statics/jornada/multifocais/digital/lentes/medio.png",img6:"statics/jornada/multifocais/digital/lentes/amplo.png",img7:"statics/jornada/monofocais/convencional/lentes/convencional.png",img8:"statics/jornada/monofocais/digital/lentes/digital.png",img9:"statics/jornada/monofocais/progressiva/lentes/progressiva.png"},item:{},configuracoes:{},cardapio:{mostrar:!1,idIndice:"",idOpcao:"",selecionarLente:{mostrar:!1,lente:null,filtros:{tipo:"Lente",ativo:!0,bloquearVenda:!1,idTabelaPreco:$db.jornada.doc.value.idItemTabelaPreco,idEmpresa:$db.jornada.doc.value.idContatoEmpresa,idContato:$db.jornada.doc.value.idContato}}}}},emits:["mudarTela","fecharModal"],methods:{async atualizar(){try{$q.loading.show(),await $db.jornada.carrega($db.jornada.doc.value.id),await this.mudarEspessura($db.jornada.doc.value.materiais.esferico);let a=await $db.jornada.lerConfiguracoes();if(a!=null&&a.id){this.configuracoesOriginal=a,this.configuracoesAtual=$utils.clonar(this.configuracoesOriginal),this.configuracoes=$utils.clonar(this.configuracoesOriginal);return}const e={};e.id=$utils.uuid(),e.indices={};let u={};u[$utils.uuid()]={nome:"Op\xE7\xE3o 1"},u[$utils.uuid()]={nome:"Op\xE7\xE3o 2"},e.indices[$utils.uuid()]={material:"Alto \xCDndice",peso:23,resistencia:4,espessuraCentral:26,espessuraBorda:16,texto:"Texto explicativo Alto \xCDndice",opcoes:u},u={},u[$utils.uuid()]={nome:"Op\xE7\xE3o 1"},u[$utils.uuid()]={nome:"Op\xE7\xE3o 2"},e.indices[$utils.uuid()]={material:"Policarbonato",peso:15,resistencia:5,espessuraCentral:12,espessuraBorda:10,texto:"Texto explicativo Policarbonato",opcoes:u},u={},u[$utils.uuid()]={nome:"Op\xE7\xE3o 1"},u[$utils.uuid()]={nome:"Op\xE7\xE3o 2"},e.indices[$utils.uuid()]={material:"Baixo \xCDndice",peso:0,resistencia:3,espessuraCentral:0,espessuraBorda:0,texto:"Texto explicativo Baixo \xCDndice",opcoes:u},await $db.jornada.salvarConfiguracoes(e),this.configuracoesOriginal=$utils.clonar(e),this.configuracoesAtual=$utils.clonar(this.configuracoesOriginal),this.configuracoes=$utils.clonar(this.configuracoesOriginal)}catch(a){console.error(a),$q.notify({message:"N\xE3o foi poss\xEDvel carregar as configura\xE7\xF5es.",type:"negative"})}finally{$q.loading.hide()}},btAnterior(){this.$emit("mudarTela","Anamnese")},btProximo(a,e){this.$emit("mudarTela","CardapioLentes",{idIndice:a,idOpcao:e})},async mudarEspessura(a){const e={};a>=-4&&a<=-1&&(e["Alto \xCDndice"]=`statics/jornada/espessuras/negativo/altoindice-0${Math.abs(a)}.svg`,e.Policarbonato=`statics/jornada/espessuras/negativo/policarbonato-0${Math.abs(a)}.svg`,e["Baixo \xCDndice"]=`statics/jornada/espessuras/negativo/baixoindice-0${Math.abs(a)}.svg`),a>=1&&a<=4&&(e["Alto \xCDndice"]=`statics/jornada/espessuras/positivo/altoindice-0${a}.svg`,e.Policarbonato=`statics/jornada/espessuras/positivo/policarbonato-0${a}.svg`,e["Baixo \xCDndice"]=`statics/jornada/espessuras/positivo/baixoindice-0${a}.svg`),this.indice=a,this.espessura=e,a!==$db.jornada.doc.value.materiais.esferico&&($db.jornada.doc.value.materiais.esferico=a,await $db.jornada.grava())},async carregarItens(a,e){const u=this.configuracoes.indices[a].opcoes[e].lentes,m=[];for(const i in u){const n=u[i].idItem;!n||this.item[n]||m.push(n)}const t=await $db.hibrido.lista({table:"item",whereIn:{id:m}});if($db.jornada.doc.value.idItemTabelaPreco){const i=$db.jornada.doc.value.idItemTabelaPreco;let n=await $db.hibrido.lista({table:"itemTabelaPreco"});const d=n.find(g=>g.id===i);if(d!=null&&d.id)for(const g of t.filter(b=>b.valorVenda)){const b=await $db.itemTabelaPreco.obterValores(d,g,4,n);g.valorVenda=b.valorVenda||0}}for(const i of t)i.valorVenda=i.valorVenda||0,this.item[i.id]=i;this.item[""]={descricao:""}},async configurarCardapio(a,e){await this.carregarItens(a,e),this.cardapio.idIndice=a,this.cardapio.idOpcao=e,this.cardapio.mostrar=!0},cardapioSelecionarLente(a){this.cardapio.selecionarLente.lente=a,this.cardapio.selecionarLente.mostrar=!0},async selecionarItens(a){var u;let e;for(const m in a)if(e=(u=a[m])==null?void 0:u.item,!!(e!=null&&e.id)){this.item[e.id]=e;break}this.cardapio.selecionarLente.lente.idItem=e.id,this.cardapio.selecionarLente.lente.valorSegundoPar=$utils.arredondar(e.valorVenda*2),await this.salvarCampoX()},async adicionarLente(a,e){try{this.configuracoesAtual.indices[a].opcoes[e].lentes||(this.configuracoesAtual.indices[a].opcoes[e].lentes={});const u=this.configuracoesAtual.indices[a].opcoes[e].lentes,m={titulo:"",idItem:"",imagemCorredor:"img1",texto:"",beneficios:{},tipoPromocao:"umPar",valorSegundoPar:0};m.beneficios[$utils.uuid()]={nome:""},u[$utils.uuid()]=m,await this.salvar()}catch(u){console.error(u),$q.notify({message:"N\xE3o foi poss\xEDvel criar a lente.",type:"negative"})}},async adicionarOpcao(a){try{this.configuracoesAtual.indices[a].opcoes[$utils.uuid()]={nome:""},await this.salvar()}catch(e){console.error(e),$q.notify({message:"N\xE3o foi poss\xEDvel criar a op\xE7\xE3o.",type:"negative"})}},async adicionarBeneficio(a,e,u){try{this.configuracoesAtual.indices[a].opcoes[e].lentes[u].beneficios[$utils.uuid()]={nome:""},await this.salvar()}catch(m){console.error(m),$q.notify({message:"N\xE3o foi poss\xEDvel criar o benef\xEDcio.",type:"negative"})}},async removerBeneficio(a,e,u,m){try{this.configuracoesAtual.indices[a].opcoes[e].lentes[u].beneficios[m]=null,await this.salvar(),delete this.configuracoes.indices[a].opcoes[e].lentes[u].beneficios[m],this.configuracoesOriginal=$utils.clonar(this.configuracoes),this.configuracoesAtual=$utils.clonar(this.configuracoes)}catch(t){console.error(t),$q.notify({message:"N\xE3o foi poss\xEDvel criar o benef\xEDcio.",type:"negative"})}},async salvarValorSegundoPar(a){const e=$utils.arredondar(this.item[a.idItem].valorVenda*2);if(a.valorSegundoPar<e){this.configuracoes=$utils.clonar(this.configuracoesOriginal),$q.notify({message:"Valor n\xE3o permitido.",type:"negative"});return}await this.salvarCampoX({errorMessage:"N\xE3o foi poss\xEDvel salvar o valor do segundo par."})},async salvarCampoX(a){const{errorMessage:e}=a!=null?a:{};try{this.configuracoesAtual=$utils.clonar(this.configuracoes),await this.salvar()}catch(u){console.error(u);const m=e!=null?e:"N\xE3o foi poss\xEDvel salvar o campo.";$q.notify({message:m,type:"negative"})}},async salvar(){const a={startAt:300,stopAt:1e3};this.showLazyLoading(a);try{await $db.jornada.salvarConfiguracoes(this.configuracoesAtual),await this.hideLazyLoading(a),this.configuracoesOriginal=$utils.clonar(this.configuracoesAtual),this.configuracoes=$utils.clonar(this.configuracoesAtual)}catch(e){throw this.configuracoesAtual=$utils.clonar(this.configuracoesOriginal),this.configuracoes=$utils.clonar(this.configuracoesAtual),new Error(e)}finally{await this.hideLazyLoading(a)}},removerLente(a,e,u){$q.dialog({title:"Deseja continuar?",message:"Ao continuar voc\xEA ir\xE1 remover a lente e suas depend\xEAncias.",cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(async()=>{try{this.configuracoesAtual.indices[a].opcoes[e].lentes[u]=null,await this.salvar(),delete this.configuracoes.indices[a].opcoes[e].lentes[u],this.configuracoesOriginal=$utils.clonar(this.configuracoes),this.configuracoesAtual=$utils.clonar(this.configuracoes)}catch(m){console.error(m),$q.notify({message:"N\xE3o foi poss\xEDvel remover a lente.",type:"negative"})}})},showLazyLoading(a){a.t0=new Date,a.timeouID=setTimeout(()=>{a.started=!0,$q.loading.show({message:a.message})},a.startAt)},async hideLazyLoading(a){return new Promise(e=>{clearTimeout(a.timeouID),a.started?setTimeout(()=>{$q.loading.hide(),e()},a.t0-new Date+a.stopAt):e()})},removerOpcao(a,e){$q.dialog({title:"Deseja continuar?",message:"Ao continuar voc\xEA ir\xE1 remover a op\xE7\xE3o e suas depend\xEAncias.",cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(async()=>{try{this.configuracoesAtual.indices[a].opcoes[e]=null,await this.salvar(),delete this.configuracoes.indices[a].opcoes[e],this.configuracoesOriginal=$utils.clonar(this.configuracoes),this.configuracoesAtual=$utils.clonar(this.configuracoes)}catch(u){console.error(u),$q.notify({message:"N\xE3o foi poss\xEDvel remover a op\xE7\xE3o.",type:"negative"})}})},onMouseDown(a){this.isDown=!0,this.startX=a.pageX-this.$refs.lentesContainer.offsetLeft,this.scrollLeft=this.$refs.lentesContainer.scrollLeft},onMouseLeave(){this.isDown=!1},onMouseUp(){this.isDown=!1},onMouseMove(a){if(!this.isDown)return;a.preventDefault();const u=(a.pageX-this.$refs.lentesContainer.offsetLeft-this.startX)*1.5;this.$refs.lentesContainer.scrollLeft=this.scrollLeft-u},calcularIcones(a){const e=Math.abs(a)/100*5,u=Math.round(e);return Math.min(Math.max(u,0),5)}},async created(){await this.atualizar()}},Cl={class:"indicesRowCard bg-white full-height bordered rounded-borders"},kl=["src"],zl={class:"q-mt-md text-center"},Ol={key:0,class:"cardapioRowCard bg-white full-height bordered rounded-borders"},ql=["src"],_l={class:"q-mt-md text-center"},Al={class:"q-mt-md text-center"};function Fl(a,e,u,m,t,i){const n=C("g-label"),d=C("g-col"),g=C("campo"),b=C("g-row"),s=C("Fotossensivel"),_=C("PromptItemV2");return p(),y(L,{view:"hHh LpR fFf",class:"bg-light"},{default:l(()=>[o(X,null,{default:l(()=>[o(D,null,{default:l(()=>[o(c,{onClick:e[0]||(e[0]=f=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(c,{icon:"menu",round:"",flat:"",dense:""},{default:l(()=>[o(J,null,{default:l(()=>[o(W,{style:{"min-width":"100px"}},{default:l(()=>[(p(!0),z(P,null,I(a.$db.jornada.menu,(f,T)=>x((p(),y(R,{key:T,onClick:v=>a.$emit("mudarTela",f.tela),clickable:""},{default:l(()=>[o(F,null,{default:l(()=>[h(O(f.descricao),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[j]])),128))]),_:1})]),_:1})]),_:1}),o(E,{class:"hideonmobile"},{default:l(()=>e[34]||(e[34]=[h("Materiais")])),_:1}),o(ke),o(c,{onClick:e[1]||(e[1]=f=>t.visibilidade.configuracoes=!t.visibilidade.configuracoes),icon:"settings",color:"white",round:"",flat:""}),o(Me,{label:t.indice,color:"white",outline:"",class:"q-px-sm"},{default:l(()=>[o(W,null,{default:l(()=>[x((p(),y(R,{clickable:"",class:A(["q-px-sm q-py-xs",t.indice===-4?"bg-blue-1 text-primary":"bg-transparent text-tertiary"]),onClick:e[2]||(e[2]=f=>i.mudarEspessura(-4))},{default:l(()=>[o(F,null,{default:l(()=>[o(H,{class:"text-center"},{default:l(()=>e[35]||(e[35]=[h("-4")])),_:1})]),_:1})]),_:1},8,["class"])),[[j]]),x((p(),y(R,{clickable:"",class:A(["q-px-sm q-py-xs",t.indice===-3?"bg-blue-1 text-primary":"bg-transparent text-tertiary"]),onClick:e[3]||(e[3]=f=>i.mudarEspessura(-3))},{default:l(()=>[o(F,null,{default:l(()=>[o(H,{class:"text-center"},{default:l(()=>e[36]||(e[36]=[h("-3")])),_:1})]),_:1})]),_:1},8,["class"])),[[j]]),x((p(),y(R,{clickable:"",class:A(["q-px-sm q-py-xs",t.indice===-2?"bg-blue-1 text-primary":"bg-transparent text-tertiary"]),onClick:e[4]||(e[4]=f=>i.mudarEspessura(-2))},{default:l(()=>[o(F,null,{default:l(()=>[o(H,{class:"text-center"},{default:l(()=>e[37]||(e[37]=[h("-2")])),_:1})]),_:1})]),_:1},8,["class"])),[[j]]),x((p(),y(R,{clickable:"",class:A(["q-px-sm q-py-xs",t.indice===-1?"bg-blue-1 text-primary":"bg-transparent text-tertiary"]),onClick:e[5]||(e[5]=f=>i.mudarEspessura(-1))},{default:l(()=>[o(F,null,{default:l(()=>[o(H,{class:"text-center"},{default:l(()=>e[38]||(e[38]=[h("-1")])),_:1})]),_:1})]),_:1},8,["class"])),[[j]]),x((p(),y(R,{clickable:"",class:A(["q-px-sm q-py-xs",t.indice===1?"bg-blue-1 text-primary":"bg-transparent text-tertiary"]),onClick:e[6]||(e[6]=f=>i.mudarEspessura(1))},{default:l(()=>[o(F,null,{default:l(()=>[o(H,{class:"text-center"},{default:l(()=>e[39]||(e[39]=[h("1")])),_:1})]),_:1})]),_:1},8,["class"])),[[j]]),x((p(),y(R,{clickable:"",class:A(["q-px-sm q-py-xs",t.indice===2?"bg-blue-1 text-primary":"bg-transparent text-tertiary"]),onClick:e[7]||(e[7]=f=>i.mudarEspessura(2))},{default:l(()=>[o(F,null,{default:l(()=>[o(H,{class:"text-center"},{default:l(()=>e[40]||(e[40]=[h("2")])),_:1})]),_:1})]),_:1},8,["class"])),[[j]]),x((p(),y(R,{clickable:"",class:A(["q-px-sm q-py-xs",t.indice===3?"bg-blue-1 text-primary":"bg-transparent text-tertiary"]),onClick:e[8]||(e[8]=f=>i.mudarEspessura(3))},{default:l(()=>[o(F,null,{default:l(()=>[o(H,{class:"text-center"},{default:l(()=>e[41]||(e[41]=[h("3")])),_:1})]),_:1})]),_:1},8,["class"])),[[j]]),x((p(),y(R,{clickable:"",class:A(["q-px-sm q-py-xs",t.indice===4?"bg-blue-1 text-primary":"bg-transparent text-tertiary"]),onClick:e[9]||(e[9]=f=>i.mudarEspessura(4))},{default:l(()=>[o(F,null,{default:l(()=>[o(H,{class:"text-center"},{default:l(()=>e[42]||(e[42]=[h("4")])),_:1})]),_:1})]),_:1},8,["class"])),[[j]])]),_:1})]),_:1},8,["label"]),o(c,{onClick:e[10]||(e[10]=f=>t.visibilidade.fotossensivel=!0),outline:"",class:"q-ml-sm q-px-sm"},{default:l(()=>[o(B,{name:"vrpano"}),e[43]||(e[43]=r("span",{class:"q-ml-xs labelBtnHideMobile"},"Fotossensivel",-1))]),_:1}),o(c,{onClick:i.atualizar,icon:"refresh",round:"",flat:"",dense:""},null,8,["onClick"]),o(c,{onClick:e[11]||(e[11]=f=>a.$emit("fecharModal")),icon:"close",round:"",flat:"",dense:""})]),_:1})]),_:1}),o(G,null,{default:l(()=>[o(Y,null,{default:l(()=>[o(b,{gutter:"md","min-height":"calc(100vh - 50px)",height:"100%"},{default:l(()=>[(p(!0),z(P,null,I(t.configuracoes.indices,(f,T)=>(p(),y(d,{key:T,col:"12 md4",relative:""},{default:l(()=>[r("div",Cl,[o(b,{gutter:"md"},{default:l(()=>[o(d,{col:"12 sm7 md12",bg:"bg-white",style:{overflow:"hidden"}},{default:l(()=>[o(n,{text:"body1 bold center",bg:"bg-white",bordered:"bottom",class:"q-py-xs q-px-sm",relative:"",zindex:"1"},{default:l(()=>[h(O(f.material),1)]),_:2},1024),r("img",{src:t.espessura[f.material],style:{width:"92%",display:"block",margin:"-25px auto"}},null,8,kl)]),_:2},1024),o(d,{col:"12 sm10 md12",bg:"bg-white"},{default:l(()=>[o(b,{bg:"bg-white",class:"q-pb-md"},{default:l(()=>[o(d,null,{default:l(()=>[o(ye,null,{default:l(()=>[t.visibilidade.textoIndice?(p(),y(g,{key:0,modelValue:f.texto,"onUpdate:modelValue":v=>f.texto=v,modelModifiers:{trim:!0},tipo:"textoArea",placeholder:"Descreva o \xEDndice",autogrow:"",autofocus:"",somenteLeitura:!t.visibilidade.configuracoes,class:"q-col-12",onBlur:e[12]||(e[12]=v=>i.salvarCampoX({errorMessage:"N\xE3o poss\xEDvel salvar o texto explicativo do ind\xEDce."}))},null,8,["modelValue","onUpdate:modelValue","somenteLeitura"])):w("",!0)]),_:2},1024)]),_:2},1024),o(d,{col:"shrink"},{default:l(()=>[o(c,{onClick:e[13]||(e[13]=v=>t.visibilidade.textoIndice=!t.visibilidade.textoIndice),unelevated:"",round:"",icon:t.visibilidade.textoIndice?"keyboard_arrow_up":"keyboard_arrow_down",color:"light","text-color":"tertiary",class:"float-right"},null,8,["icon"])]),_:1})]),_:2},1024),o(b,{gutter:"none",items:"center",bordered:"bottom"},{default:l(()=>[o(d,{col:"grow"},{default:l(()=>[o(n,{text:"sub1 bold"},{default:l(()=>[h(" Peso"+O(f.peso?` (-${f.peso}%)`:"")+": ",1)]),_:2},1024)]),_:2},1024),o(d,{col:"grow"},{default:l(()=>[(p(),z(P,null,I(5,(v,M)=>o(B,{key:M,color:M>=i.calcularIcones(100-f.peso)?"tertiary":"primary",name:"fitness_center",size:"sm",class:"float-right"},null,8,["color"])),64))]),_:2},1024)]),_:2},1024),o(b,{gutter:"none",items:"center",bordered:"bottom"},{default:l(()=>[o(d,{col:"grow"},{default:l(()=>[o(n,{text:"sub1 bold"},{default:l(()=>e[44]||(e[44]=[h(" Resist\xEAncia: ")])),_:1})]),_:1}),o(d,{col:"grow"},{default:l(()=>[(p(),z(P,null,I(5,(v,M)=>o(B,{key:M,color:M>=f.resistencia?"tertiary":"primary",name:"diamond",size:"sm",class:"float-right"},null,8,["color"])),64))]),_:2},1024)]),_:2},1024),o(b,{gutter:"none",items:"center",bordered:"bottom"},{default:l(()=>[o(d,{col:"grow"},{default:l(()=>[o(n,{text:"sub1 bold"},{default:l(()=>[h(" Espessura Central"+O(f.espessuraCentral?` (-${f.espessuraCentral}%)`:"")+": ",1)]),_:2},1024)]),_:2},1024),o(d,{col:"grow"},{default:l(()=>[(p(),z(P,null,I(5,(v,M)=>o(B,{key:M,color:M>=i.calcularIcones(100-f.espessuraCentral)?"tertiary":"primary",name:"straighten",size:"sm",class:"float-right"},null,8,["color"])),64))]),_:2},1024)]),_:2},1024),o(b,{gutter:"none",items:"center",bordered:"bottom"},{default:l(()=>[o(d,{col:"grow"},{default:l(()=>[o(n,{text:"sub1 bold"},{default:l(()=>[h(" Espessura Borda"+O(f.espessuraBorda?` (-${f.espessuraBorda}%)`:"")+": ",1)]),_:2},1024)]),_:2},1024),o(d,{col:"grow"},{default:l(()=>[(p(),z(P,null,I(5,(v,M)=>o(B,{key:M,color:M>=i.calcularIcones(100-f.espessuraBorda)?"tertiary":"primary",name:"straighten",size:"sm",class:"float-right"},null,8,["color"])),64))]),_:2},1024)]),_:2},1024)]),_:2},1024),t.visibilidade.configuracoes?w("",!0):(p(),y(d,{key:0,col:"xs8 sm7 md12",bg:"bg-white",class:"indicesBtns"},{default:l(()=>[(p(!0),z(P,null,I(f.opcoes,(v,M)=>(p(),z(P,{key:M},[v?(p(),y(c,{key:0,onClick:V=>i.btProximo(T,M),label:v.nome?v.nome:"Sem descri\xE7\xE3o",color:"primary",class:"full-width q-py-sm q-my-sm",unelevated:""},null,8,["onClick","label"])):w("",!0)],64))),128))]),_:2},1024)),t.visibilidade.configuracoes?(p(),y(d,{key:1,col:"xs12 sm9 md12",bg:"bg-white",text:"center"},{default:l(()=>[(p(!0),z(P,null,I(f.opcoes,(v,M)=>(p(),z(P,{key:M},[v?(p(),y(b,{key:0,items:"center"},{default:l(()=>[o(d,null,{default:l(()=>[o(ge,{modelValue:v.nome,"onUpdate:modelValue":V=>v.nome=V,modelModifiers:{trim:!0},placeholder:"Descreva a op\xE7\xE3o",onBlur:e[14]||(e[14]=V=>i.salvarCampoX({errorMessage:"N\xE3o poss\xEDvel salvar o nome da op\xE7\xE3o."})),rotulo:"Benef\xEDcios",dense:"","input-class":"text-subtitle1 text-weight-medium text-tertiary text-center"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(d,{col:"shrink"},{default:l(()=>[o(c,{onClick:V=>i.configurarCardapio(T,M),icon:"tune",dark:"",flat:"",round:""},null,8,["onClick"])]),_:2},1024),o(d,{col:"shrink"},{default:l(()=>[o(c,{onClick:V=>i.removerOpcao(T,M),icon:"delete",flat:"",round:"",dense:"",color:"tertiary"},null,8,["onClick"])]),_:2},1024)]),_:2},1024)):w("",!0)],64))),128)),r("div",zl,[o(c,{onClick:v=>i.adicionarOpcao(T),outline:"",icon:"add",label:"Op\xE7\xE3o",color:"positive",size:"sm"},null,8,["onClick"])])]),_:2},1024)):w("",!0)]),_:2},1024)])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),o(ne,{modelValue:t.visibilidade.fotossensivel,"onUpdate:modelValue":e[15]||(e[15]=f=>t.visibilidade.fotossensivel=f),persistent:"",maximized:""},{default:l(()=>[o(s)]),_:1},8,["modelValue"]),o(ne,{modelValue:t.cardapio.mostrar,"onUpdate:modelValue":e[32]||(e[32]=f=>t.cardapio.mostrar=f),persistent:"",maximized:""},{default:l(()=>[o(L,{view:"hHh LpR fFf",class:"bg-light"},{default:l(()=>[o(X,null,{default:l(()=>[o(D,null,{default:l(()=>[o(E,null,{default:l(()=>e[45]||(e[45]=[h("Configurar lentes")])),_:1}),o(c,{onClick:e[16]||(e[16]=f=>i.adicionarLente(t.cardapio.idIndice,t.cardapio.idOpcao)),outline:"",class:"q-px-sm"},{default:l(()=>[o(B,{name:"add"}),e[46]||(e[46]=r("span",{class:"q-ml-xs labelBtnHideMobile"},"Lente",-1))]),_:1}),x(o(c,{icon:"close",round:"",flat:"",dense:""},null,512),[[j]])]),_:1})]),_:1}),o(G,null,{default:l(()=>[o(Y,null,{default:l(()=>[r("div",{class:"lentesContainer",ref:"lentesContainer",onMousedown:e[28]||(e[28]=(...f)=>i.onMouseDown&&i.onMouseDown(...f)),onMouseleave:e[29]||(e[29]=(...f)=>i.onMouseLeave&&i.onMouseLeave(...f)),onMouseup:e[30]||(e[30]=(...f)=>i.onMouseUp&&i.onMouseUp(...f)),onMousemove:e[31]||(e[31]=(...f)=>i.onMouseMove&&i.onMouseMove(...f))},[o(b,{gutter:"md","min-height":"calc(100vh - 58px)",height:"100%",class:"cardapioContainerCard"},{default:l(()=>[(p(!0),z(P,null,I(t.configuracoes.indices[t.cardapio.idIndice].opcoes[t.cardapio.idOpcao].lentes,(f,T)=>(p(),y(d,{key:T,col:"12 md4",relative:""},{default:l(()=>[f?(p(),z("div",Ol,[o(b,{height:"100%",mg:"none",bg:"bg-white"},{default:l(()=>[o(d,{col:"12 sm7 md12",self:"start",bg:"bg-white",style:{padding:"12px!important"}},{default:l(()=>[o(b,null,{default:l(()=>[o(d,{col:"12",self:"start",bg:"bg-white"},{default:l(()=>[o(D,{class:"q-px-none"},{default:l(()=>[o(ge,{modelValue:t.item[f.idItem].descricao,"onUpdate:modelValue":v=>t.item[f.idItem].descricao=v,dense:"",filled:"",readonly:"",label:"Selecionar item",color:"primary","input-class":"text-weight-medium"},{prepend:l(()=>[o(c,{onClick:v=>i.cardapioSelecionarLente(f),icon:"edit",color:"tertiary",flat:"",round:""},null,8,["onClick"])]),append:l(()=>[o(c,{onClick:v=>i.removerLente(t.cardapio.idIndice,t.cardapio.idOpcao,T),icon:"delete",color:"tertiary",flat:"",round:""},null,8,["onClick"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(D,{class:"q-px-none"},{default:l(()=>[o(ge,{modelValue:f.titulo,"onUpdate:modelValue":v=>f.titulo=v,modelModifiers:{trim:!0},placeholder:"Descreva o t\xEDtulo",dense:"","input-class":"text-h6 text-weight-medium text-primary",color:"primary",onBlur:e[17]||(e[17]=v=>i.salvarCampoX({errorMessage:"N\xE3o poss\xEDvel salvar o nome da op\xE7\xE3o."}))},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(Ge,{modelValue:f.imagemCorredor,"onUpdate:modelValue":[v=>f.imagemCorredor=v,e[18]||(e[18]=v=>i.salvarCampoX({errorMessage:"N\xE3o poss\xEDvel salvar a imagem."}))],animated:"",arrows:"",infinite:"","control-color":"primary",class:"q-pa-none",style:{height:"calc(100% - 100px)"}},{default:l(()=>[(p(!0),z(P,null,I(t.imagemCorredor,(v,M)=>(p(),y(Ye,{key:M,name:M},{default:l(()=>[r("img",{src:v,class:"q-mx-auto",style:{width:"85%",display:"block"}},null,8,ql)]),_:2},1032,["name"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(d,{col:"12",self:"start",bg:"bg-white",class:"cardapioBeneficiosDesktop",style:{padding:"12px!important"}},{default:l(()=>[o(b,null,{default:l(()=>[o(d,null,{default:l(()=>[o(ye,null,{default:l(()=>[t.visibilidade.textoLente?(p(),y(g,{key:0,modelValue:f.texto,"onUpdate:modelValue":v=>f.texto=v,modelModifiers:{trim:!0},onBlur:e[19]||(e[19]=v=>i.salvarCampoX({errorMessage:"N\xE3o poss\xEDvel salvar o texto explicativo da lente."})),somenteLeitura:!t.visibilidade.configuracoes,autogrow:"",autofocus:"",tipo:"textoArea",placeholder:"Descreva a lente"},null,8,["modelValue","onUpdate:modelValue","somenteLeitura"])):w("",!0)]),_:2},1024)]),_:2},1024),o(d,{col:"shrink"},{default:l(()=>[o(c,{onClick:e[20]||(e[20]=v=>t.visibilidade.textoLente=!t.visibilidade.textoLente),icon:t.visibilidade.textoLente?"keyboard_arrow_up":"keyboard_arrow_down",color:"light","text-color":"tertiary",class:"float-right",unelevated:"",round:""},null,8,["icon"])]),_:1})]),_:2},1024),(p(!0),z(P,null,I(f.beneficios,(v,M)=>(p(),z(P,{key:M},[v?(p(),y(b,{key:0,items:"center"},{default:l(()=>[o(d,null,{default:l(()=>[o(ge,{modelValue:v.nome,"onUpdate:modelValue":V=>v.nome=V,modelModifiers:{trim:!0},onBlur:e[21]||(e[21]=V=>i.salvarCampoX({errorMessage:"N\xE3o poss\xEDvel salvar o nome do benef\xEDcio."})),"input-class":"text-subtitle1 text-weight-medium text-tertiary text-center",rotulo:"Benef\xEDcios",placeholder:"Descreva o benef\xEDcio",dense:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(d,{col:"shrink"},{default:l(()=>[o(c,{onClick:V=>i.removerBeneficio(t.cardapio.idIndice,t.cardapio.idOpcao,T,M),icon:"delete",flat:"",round:"",dense:"",color:"tertiary"},null,8,["onClick"])]),_:2},1024)]),_:2},1024)):w("",!0)],64))),128)),r("div",_l,[o(c,{onClick:v=>i.adicionarBeneficio(t.cardapio.idIndice,t.cardapio.idOpcao,T),icon:"add",label:"Benef\xEDcios",color:"positive",outline:"",size:"sm"},null,8,["onClick"])])]),_:2},1024)]),_:2},1024)]),_:2},1024),o(d,{col:"12 sm8 md12",self:"start",bg:"bg-white",class:"cardapioBeneficiosMobile",style:{padding:"12px!important"}},{default:l(()=>[o(b,null,{default:l(()=>[o(d,null,{default:l(()=>[o(ye,null,{default:l(()=>[t.visibilidade.textoLente?(p(),y(g,{key:0,modelValue:f.texto,"onUpdate:modelValue":v=>f.texto=v,modelModifiers:{trim:!0},onBlur:e[22]||(e[22]=v=>i.salvarCampoX({errorMessage:"N\xE3o poss\xEDvel salvar o texto explicativo da lente."})),somenteLeitura:!t.visibilidade.configuracoes,autogrow:"",autofocus:"",tipo:"textoArea",placeholder:"Descreva a lente"},null,8,["modelValue","onUpdate:modelValue","somenteLeitura"])):w("",!0)]),_:2},1024)]),_:2},1024),o(d,{col:"shrink"},{default:l(()=>[o(c,{onClick:e[23]||(e[23]=v=>t.visibilidade.textoLente=!t.visibilidade.textoLente),icon:t.visibilidade.textoLente?"keyboard_arrow_up":"keyboard_arrow_down",color:"light","text-color":"tertiary",class:"float-right",unelevated:"",round:""},null,8,["icon"])]),_:1})]),_:2},1024),(p(!0),z(P,null,I(f.beneficios,(v,M)=>(p(),z(P,{key:M},[v?(p(),y(b,{key:0,items:"center"},{default:l(()=>[o(d,null,{default:l(()=>[o(ge,{modelValue:v.nome,"onUpdate:modelValue":V=>v.nome=V,modelModifiers:{trim:!0},onBlur:e[24]||(e[24]=V=>i.salvarCampoX({errorMessage:"N\xE3o poss\xEDvel salvar o nome do benef\xEDcio."})),"input-class":"text-subtitle1 text-weight-medium text-tertiary text-center",rotulo:"Benef\xEDcios",placeholder:"Descreva o benef\xEDcio",dense:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(d,{col:"shrink"},{default:l(()=>[o(c,{onClick:V=>i.removerBeneficio(t.cardapio.idIndice,t.cardapio.idOpcao,T,M),icon:"delete",flat:"",round:"",dense:"",color:"tertiary"},null,8,["onClick"])]),_:2},1024)]),_:2},1024)):w("",!0)],64))),128)),r("div",Al,[o(c,{onClick:v=>i.adicionarBeneficio(t.cardapio.idIndice,t.cardapio.idOpcao,T),icon:"add",label:"Benef\xEDcios",color:"positive",outline:"",size:"sm"},null,8,["onClick"])])]),_:2},1024),o(d,{col:"12 sm7 md12",self:"end",bg:"bg-white",style:{padding:"12px!important"}},{default:l(()=>[o(b,{height:"100%",items:"center"},{default:l(()=>[o(d,{class:"q-my-sm"},{default:l(()=>[o(b,{justify:"center"},{default:l(()=>[o(d,{col:"shrink sm4"},{default:l(()=>[o(k,{modelValue:f.tipoPromocao,"onUpdate:modelValue":[v=>f.tipoPromocao=v,e[25]||(e[25]=v=>i.salvarCampoX({errorMessage:"N\xE3o foi poss\xEDvel salvar o tipo de promo\xE7\xE3o."}))],val:"umPar",label:"1 par",size:"lg"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(d,{col:"shrink sm4"},{default:l(()=>[o(k,{modelValue:f.tipoPromocao,"onUpdate:modelValue":[v=>f.tipoPromocao=v,e[26]||(e[26]=v=>i.salvarCampoX({errorMessage:"N\xE3o foi poss\xEDvel salvar o tipo de promo\xE7\xE3o."}))],val:"doisPares",label:"2 pares",size:"lg"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(d,{col:"shrink sm4"},{default:l(()=>[o(k,{modelValue:f.tipoPromocao,"onUpdate:modelValue":[v=>f.tipoPromocao=v,e[27]||(e[27]=v=>i.salvarCampoX({errorMessage:"N\xE3o foi poss\xEDvel salvar o tipo de promo\xE7\xE3o."}))],val:"parGratis",label:"1 par, +1 gr\xE1tis",size:"lg"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),o(b,{text:"center",items:"center"},{default:l(()=>[o(d,{bordered:f.tipoPromocao==="parGratis"?"right":"none"},{default:l(()=>[o(n,{text:"body1 medium"},{default:l(()=>e[47]||(e[47]=[h(" Valor do par ")])),_:1}),o(n,{text:"h5 bold"},{default:l(()=>[h(O(a.$filters.numero(t.item[f.idItem].valorVenda*2,2)),1)]),_:2},1024)]),_:2},1032,["bordered"]),f.tipoPromocao!=="umPar"?(p(),y(d,{key:0},{default:l(()=>[f.tipoPromocao==="doisPares"?(p(),y(n,{key:0,text:"body1 medium"},{default:l(()=>e[48]||(e[48]=[h(" 2 Pares por ")])),_:1})):(p(),y(n,{key:1,text:"body1 medium"},{default:l(()=>e[49]||(e[49]=[h(" 2\xBA Par ")])),_:1})),f.tipoPromocao==="doisPares"?(p(),y(n,{key:2,text:"h5 bold"},{default:l(()=>[o(g,{modelValue:f.valorSegundoPar,"onUpdate:modelValue":v=>f.valorSegundoPar=v,tipo:"decimal",decimals:"4",zerosDireita:"2",dense:"",onBlur:v=>i.salvarValorSegundoPar(f),"input-style":"font-size:1.5rem;font-weight:700;line-height:2rem;letter-spacing:normal;text-align:center;color:#555;"},null,8,["modelValue","onUpdate:modelValue","onBlur"])]),_:2},1024)):(p(),y(n,{key:3,text:"h5 bold"},{default:l(()=>e[50]||(e[50]=[h(" Gr\xE1tis ")])),_:1}))]),_:2},1024)):w("",!0)]),_:2},1024),o(b,{text:"center",items:"center",class:"q-pt-lg"},{default:l(()=>[o(d,null,{default:l(()=>[o(c,{label:"Comprar",color:"primary",class:"q-px-lg",unelevated:"",disabled:""})]),_:1}),f.tipoPromocao==="doisPares"?(p(),y(d,{key:0},{default:l(()=>[o(c,{label:"Comprar",color:"primary",class:"q-px-lg",unelevated:"",disabled:""})]),_:1})):w("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)])):w("",!0)]),_:2},1024))),128))]),_:1})],544)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(_,{modelValue:t.cardapio.selecionarLente.mostrar,"onUpdate:modelValue":e[33]||(e[33]=f=>t.cardapio.selecionarLente.mostrar=f),onSelecionarItens:i.selecionarItens,filtro:t.cardapio.selecionarLente.filtros},null,8,["modelValue","onSelecionarItens","filtro"])]),_:1})}var Pl=N(wl,[["render",Fl],["__scopeId","data-v-3f69b3db"]]);const Ml={data(){return{tela:{},imagem:"statics/jornada/cosmeticas/black/black4.jpg",cor:"black",lente:"4"}},methods:{mudarLente(a){this.lente=a,this.imagem=`statics/jornada/cosmeticas/${this.cor}/${this.cor}${this.lente}.jpg`},mudarCor(a){this.cor=a,this.imagem=`statics/jornada/cosmeticas/${this.cor}/${this.cor}${this.lente}.jpg`},resize(){this.tela={header:$utils.tela("CosmeticasHeader").height,footer:$utils.tela("CosmeticasFooter").height}}}},Ul={id:"Cosmeticas"};function Tl(a,e,u,m,t,i){const n=C("g-col"),d=C("g-row");return p(),z("div",Ul,[o(L,{view:"hHh LpR fFf",class:"bg-white"},{default:l(()=>[o($,{onResize:e[0]||(e[0]=g=>i.resize())}),o(X,{id:"CosmeticasHeader"},{default:l(()=>[o(D,null,{default:l(()=>[o(E,null,{default:l(()=>e[12]||(e[12]=[h("Cosm\xE9ticas")])),_:1}),x(o(c,{icon:"close",round:"",flat:"",dense:""},null,512),[[j]])]),_:1})]),_:1}),o(G,null,{default:l(()=>[o(Y,{class:"overflow-hidden no-scroll",style:le(`
          min-height:calc(100vh - ${t.tela.header+t.tela.footer}px);
          max-height:calc(100vh - ${t.tela.header+t.tela.footer}px);
        `)},{default:l(()=>[o(ve,{src:t.imagem,key:"cover",fit:"cover","no-transition":"",style:le(`
              min-height:calc(100vh - ${t.tela.header+t.tela.footer}px);
              max-height:calc(100vh - ${t.tela.header+t.tela.footer}px);
            `)},null,8,["src","style"])]),_:1},8,["style"])]),_:1}),o(de,{id:"CosmeticasFooter",class:"bg-dark"},{default:l(()=>[o(d,{items:"center",justify:"center"},{default:l(()=>[o(n,null,{default:l(()=>[o(c,{onClick:e[1]||(e[1]=g=>i.mudarLente("1")),label:"1",size:"lg",unelevated:"",class:A(`fit text-light ${t.lente==="1"?"bg-grey-9":"bg-transparent"}`)},null,8,["class"])]),_:1}),o(n,null,{default:l(()=>[o(c,{onClick:e[2]||(e[2]=g=>i.mudarLente("2")),label:"2",size:"lg",unelevated:"",class:A(`fit text-light ${t.lente==="2"?"bg-grey-9":"bg-transparent"}`)},null,8,["class"])]),_:1}),o(n,null,{default:l(()=>[o(c,{onClick:e[3]||(e[3]=g=>i.mudarLente("3")),label:"3",size:"lg",unelevated:"",class:A(`fit text-light ${t.lente==="3"?"bg-grey-9":"bg-transparent"}`)},null,8,["class"])]),_:1}),o(n,null,{default:l(()=>[o(c,{onClick:e[4]||(e[4]=g=>i.mudarLente("4")),label:"4",size:"lg",unelevated:"",class:A(`fit text-light ${t.lente==="4"?"bg-grey-9":"bg-transparent"}`)},null,8,["class"])]),_:1})]),_:1}),o(d,{items:"center",justify:"center",bg:"bg-grey-4"},{default:l(()=>[o(n,{onClick:e[5]||(e[5]=g=>i.mudarCor("black")),class:"cursor-pointer coresCosmeticas",bg:"bg-grey-9"},{default:l(()=>e[13]||(e[13]=[r("img",{src:"statics/jornada/fotossensivel/fotossensivel-black.png"},null,-1)])),_:1}),o(n,{onClick:e[6]||(e[6]=g=>i.mudarCor("brown")),class:"cursor-pointer coresCosmeticas",bg:"bg-brown"},{default:l(()=>e[14]||(e[14]=[r("img",{src:"statics/jornada/fotossensivel/fotossensivel-brown.png"},null,-1)])),_:1}),o(n,{onClick:e[7]||(e[7]=g=>i.mudarCor("emerald")),class:"cursor-pointer coresCosmeticas",bg:"bg-teal-9"},{default:l(()=>e[15]||(e[15]=[r("img",{src:"statics/jornada/fotossensivel/fotossensivel-emerald.png"},null,-1)])),_:1}),o(n,{onClick:e[8]||(e[8]=g=>i.mudarCor("sapphire")),class:"cursor-pointer coresCosmeticas",bg:"bg-blue-10"},{default:l(()=>e[16]||(e[16]=[r("img",{src:"statics/jornada/fotossensivel/fotossensivel-sapphire.png"},null,-1)])),_:1}),o(n,{onClick:e[9]||(e[9]=g=>i.mudarCor("amber")),class:"cursor-pointer coresCosmeticas",bg:"bg-amber"},{default:l(()=>e[17]||(e[17]=[r("img",{src:"statics/jornada/fotossensivel/fotossensivel-amber.png"},null,-1)])),_:1}),o(n,{onClick:e[10]||(e[10]=g=>i.mudarCor("amethyst")),class:"cursor-pointer coresCosmeticas",bg:"bg-pink-4"},{default:l(()=>e[18]||(e[18]=[r("img",{src:"statics/jornada/fotossensivel/fotossensivel-amethyst.png"},null,-1)])),_:1}),o(n,{onClick:e[11]||(e[11]=g=>i.mudarCor("ruby")),class:"cursor-pointer coresCosmeticas",bg:"bg-red-7"},{default:l(()=>e[19]||(e[19]=[r("img",{src:"statics/jornada/fotossensivel/fotossensivel-ruby.png"},null,-1)])),_:1})]),_:1})]),_:1})]),_:1})])}var De=N(Ml,[["render",Tl],["__scopeId","data-v-05a822cb"]]);const Dl={data(){return{tela:{},splitterModel:50}},methods:{resize(){this.tela={header:$utils.tela("PolarizadoHeader").height}}}},jl={id:"Polarizado"};function El(a,e,u,m,t,i){return p(),z("div",jl,[o(L,{view:"hHh LpR fFf",class:"bg-white"},{default:l(()=>[o($,{onResize:e[0]||(e[0]=n=>i.resize())}),o(X,{id:"PolarizadoHeader"},{default:l(()=>[o(D,null,{default:l(()=>[o(E,null,{default:l(()=>e[2]||(e[2]=[h("Polarizado")])),_:1}),x(o(c,{icon:"close",round:"",flat:"",dense:"",class:"q-ml-sm"},null,512),[[j]])]),_:1})]),_:1}),o(G,null,{default:l(()=>[o(Y,{class:"overflow-hidden no-scroll",style:le(`
          min-height:calc(100vh - ${t.tela.header}px);
          max-height:calc(100vh - ${t.tela.header}px);
        `)},{default:l(()=>[o(Ue,{modelValue:t.splitterModel,"onUpdate:modelValue":e[1]||(e[1]=n=>t.splitterModel=n),limits:[0,100],class:"hide-scrollbar","before-class":"overflow-hidden","after-class":"overflow-hidden",id:"photos",style:le(`width:100vw; height:calc(100vh - ${t.tela.header}px);`)},{before:l(()=>[o(ve,{src:"statics/jornada/polarizado/antes.jpg",key:"cover",fit:"cover",style:le(`position:absolute; top:0; left:0; width:100vw; height:calc(100vh - ${t.tela.header}px);`)},null,8,["style"])]),after:l(()=>[o(ve,{src:"statics/jornada/polarizado/depois.jpg",key:"cover",fit:"cover",style:le(`position:absolute; top:0; right:0; width:100vw; height:calc(100vh - ${t.tela.header}px);`)},null,8,["style"])]),_:1},8,["modelValue","style"])]),_:1},8,["style"])]),_:1})]),_:1})])}var je=N(Dl,[["render",El]]);const Rl={components:{Cosmeticas:De,Polarizado:je},data(){return{tipo:"arfrontal-verde",tipoT:"arfrontal-verde",intensidadeT:"basico",splitterModel:50,imageFirstFiltro:"statics/jornada/tratamentos/arfrontal/arfrontal-verde.jpg",imageLastFiltro:"statics/jornada/tratamentos/arfrontal/arfrontal-verde-basico.jpg",labelsConsultorOtico:{},mostrarCosmeticas:!1,mostrarPolarizado:!1}},emits:["mudarTela","fecharModal"],methods:{mudarIntensidade(a){this.intensidadeT=a,this.imageFirstFiltro=`statics/jornada/tratamentos/${["arfrontal-verde","arfrontal-azul"].includes(this.tipoT)?"arfrontal":this.tipoT}/${this.tipoT}.jpg`,this.imageLastFiltro=`statics/jornada/tratamentos/${["arfrontal-verde","arfrontal-azul"].includes(this.tipoT)?"arfrontal":this.tipoT}/${this.tipoT}-${this.intensidadeT}.jpg`},mudarFiltro(a){this.intensidadeT="basico",this.tipoT=a,this.imageFirstFiltro=`statics/jornada/tratamentos/${["arfrontal-verde","arfrontal-azul"].includes(this.tipoT)?"arfrontal":this.tipoT}/${this.tipoT}.jpg`,this.imageLastFiltro=`statics/jornada/tratamentos/${["arfrontal-verde","arfrontal-azul"].includes(this.tipoT)?"arfrontal":this.tipoT}/${this.tipoT}-${this.intensidadeT}.jpg`}},async mounted(){this.labelsConsultorOtico.consultorOticoTratamentoBasico=await $db.configuracoes.leValorComFiltroEmpresa("ConsultorOtico.Tratamento.Basico"),this.labelsConsultorOtico.consultorOticoTratamentoMedio=await $db.configuracoes.leValorComFiltroEmpresa("ConsultorOtico.Tratamento.Medio"),this.labelsConsultorOtico.consultorOticoTratamentoAmplo=await $db.configuracoes.leValorComFiltroEmpresa("ConsultorOtico.Tratamento.Amplo"),this.labelsConsultorOtico.consultorOticoTratamentoArFrontal=await $db.configuracoes.leValorComFiltroEmpresa("ConsultorOtico.Tratamento.ArFrontal"),this.labelsConsultorOtico.consultorOticoTratamentoAR1Pessoa=await $db.configuracoes.leValorComFiltroEmpresa("ConsultorOtico.Tratamento.AR1Pessoa")||await $db.configuracoes.leValorComFiltroEmpresa("ConsultorOtico.Tratamento.Reflexo"),this.labelsConsultorOtico.consultorOticoTratamentoOleoRepelente=await $db.configuracoes.leValorComFiltroEmpresa("ConsultorOtico.Tratamento.OleoRepelente")||await $db.configuracoes.leValorComFiltroEmpresa("ConsultorOtico.Tratamento.Digital"),this.labelsConsultorOtico.consultorOticoTratamentoHidrofobicas=await $db.configuracoes.leValorComFiltroEmpresa("ConsultorOtico.Tratamento.Hidrofobicas")||await $db.configuracoes.leValorComFiltroEmpresa("ConsultorOtico.Tratamento.Gotas"),this.labelsConsultorOtico.consultorOticoTratamentoRisco=await $db.configuracoes.leValorComFiltroEmpresa("ConsultorOtico.Tratamento.Risco"),this.labelsConsultorOtico.consultorOticoTratamentoSujeira=await $db.configuracoes.leValorComFiltroEmpresa("ConsultorOtico.Tratamento.Sujeira"),this.labelsConsultorOtico.consultorOticoTratamentoEmbacante=await $db.configuracoes.leValorComFiltroEmpresa("ConsultorOtico.Tratamento.Embacante"),this.labelsConsultorOtico.consultorOticoTratamentoBasico||(this.labelsConsultorOtico.consultorOticoTratamentoBasico="B\xE1sico"),this.labelsConsultorOtico.consultorOticoTratamentoMedio||(this.labelsConsultorOtico.consultorOticoTratamentoMedio="M\xE9dio"),this.labelsConsultorOtico.consultorOticoTratamentoAmplo||(this.labelsConsultorOtico.consultorOticoTratamentoAmplo="Amplo"),this.labelsConsultorOtico.consultorOticoTratamentoArFrontal||(this.labelsConsultorOtico.consultorOticoTratamentoArFrontal="AR Frontal"),this.labelsConsultorOtico.consultorOticoTratamentoAR1Pessoa||(this.labelsConsultorOtico.consultorOticoTratamentoAR1Pessoa="AR 1 Pessoa"),this.labelsConsultorOtico.consultorOticoTratamentoOleoRepelente||(this.labelsConsultorOtico.consultorOticoTratamentoOleoRepelente="\xD3leo Repelente"),this.labelsConsultorOtico.consultorOticoTratamentoHidrofobicas||(this.labelsConsultorOtico.consultorOticoTratamentoHidrofobicas="Hidrof\xF3bicas"),this.labelsConsultorOtico.consultorOticoTratamentoRisco||(this.labelsConsultorOtico.consultorOticoTratamentoRisco="Risco"),this.labelsConsultorOtico.consultorOticoTratamentoSujeira||(this.labelsConsultorOtico.consultorOticoTratamentoSujeira="Sujeira"),this.labelsConsultorOtico.consultorOticoTratamentoEmbacante||(this.labelsConsultorOtico.consultorOticoTratamentoEmbacante="Emba\xE7ante")}},Il=["src"],Bl=["src"],Ll={class:"row",style:{"border-bottom":"1px solid #cccccc"}},Nl={class:"col text-center",style:{"border-right":"1px solid #cccccc"}},Sl={class:"col text-center",style:{"border-right":"1px solid #cccccc"}},Hl={class:"col text-center",style:{"border-right":"1px solid #cccccc"}},Ql={class:"row"},Xl={class:"col text-center",style:{"border-right":"1px solid #cccccc"}},Gl={class:"hideonmobile"},Yl={class:"col text-center",style:{"border-right":"1px solid #cccccc"}},Wl={class:"hideonmobile"},Jl={class:"col text-center",style:{"border-right":"1px solid #cccccc"}},Zl={class:"hideonmobile"},Kl={class:"col text-center",style:{"border-right":"1px solid #cccccc"}},$l={class:"hideonmobile"},ea={class:"col text-center",style:{"border-right":"1px solid #cccccc"}},oa={class:"hideonmobile"},ta={class:"col text-center",style:{"border-right":"1px solid #cccccc"}},la={class:"hideonmobile"},aa={class:"col text-center",style:{"border-right":"1px solid #cccccc"}},sa={class:"hideonmobile"};function ia(a,e,u,m,t,i){const n=C("g-col"),d=C("g-row"),g=C("Cosmeticas"),b=C("Polarizado");return p(),y(L,{view:"hHh LpR fFf",class:"bg-light"},{default:l(()=>[o(X,null,{default:l(()=>[o(D,null,{default:l(()=>[o(E,null,{default:l(()=>e[16]||(e[16]=[h("Tratamentos")])),_:1}),o(c,{onClick:e[0]||(e[0]=s=>t.mostrarCosmeticas=!0),outline:"",class:"q-px-sm"},{default:l(()=>[o(B,{name:"color_lens"}),e[17]||(e[17]=r("span",{class:"q-ml-xs labelBtnHideMobile"},"Cosm\xE9ticas",-1))]),_:1}),o(c,{onClick:e[1]||(e[1]=s=>t.mostrarPolarizado=!0),outline:"",class:"q-ml-sm q-px-sm"},{default:l(()=>[o(B,{name:"tonality"}),e[18]||(e[18]=r("span",{class:"q-ml-xs labelBtnHideMobile"},"Polarizado",-1))]),_:1}),x(o(c,{icon:"close",round:"",flat:"",dense:""},null,512),[[j]])]),_:1})]),_:1}),o(G,null,{default:l(()=>[o(Y,null,{default:l(()=>[o(d,{items:"stretch",width:"100vw",height:"calc(100vh - 164px)"},{default:l(()=>[o(n,null,{default:l(()=>[t.tipo==="arfrontal-verde"?(p(),y(Ue,{key:0,modelValue:t.splitterModel,"onUpdate:modelValue":e[2]||(e[2]=s=>t.splitterModel=s),limits:[0,100],"before-class":"overflow-hidden","after-class":"overflow-hidden",style:{width:"100vw",height:"calc(100vh - 115px)"}},{before:l(()=>[r("img",{src:t.imageFirstFiltro,class:"absolute-top-left",style:{width:"100vw",height:"calc(100vh - 164px)"}},null,8,Il)]),after:l(()=>[r("img",{src:t.imageLastFiltro,class:"absolute-top-right",style:{width:"100vw",height:"calc(100vh - 164px)"}},null,8,Bl)]),_:1},8,["modelValue"])):w("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),o(de,{class:"bg-light no-shadow q-pa-none col-12 col-lg-9",reveal:"",style:{"border-top":"1px solid #cccccc"}},{default:l(()=>[r("div",Ll,[r("div",Nl,[o(c,{onClick:e[3]||(e[3]=s=>i.mudarIntensidade("basico")),label:t.labelsConsultorOtico.consultorOticoTratamentoBasico,class:A([t.intensidadeT==="basico"?"bg-blue-1 text-primary":"bg-transparent text-tertiary","q-pa-md q-mx-sm full-width"]),size:"md",unelevated:"",dense:""},null,8,["label","class"])]),r("div",Sl,[o(c,{onClick:e[4]||(e[4]=s=>i.mudarIntensidade("medio")),label:t.labelsConsultorOtico.consultorOticoTratamentoMedio,class:A([t.intensidadeT==="medio"?"bg-blue-1 text-primary":"bg-transparent text-tertiary","q-pa-md q-mx-sm full-width"]),size:"md",unelevated:"",dense:""},null,8,["label","class"])]),r("div",Hl,[o(c,{onClick:e[5]||(e[5]=s=>i.mudarIntensidade("amplo")),label:t.labelsConsultorOtico.consultorOticoTratamentoAmplo,class:A([t.intensidadeT==="amplo"?"bg-blue-1 text-primary":"bg-transparent text-tertiary","q-pa-md q-mx-sm full-width"]),size:"md",unelevated:"",dense:""},null,8,["label","class"])])]),r("div",Ql,[r("div",Xl,[o(Me,{class:A([["arfrontal-verde","arfrontal-azul"].includes(t.tipoT)?"bg-blue-1 text-primary":"bg-transparent text-tertiary","q-pa-md q-mx-sm full-width"]),size:"md",unelevated:"",dense:""},{label:l(()=>[o(B,{name:"mdi-emoticon-cool",class:"q-mr-xs"}),r("span",Gl,O(t.labelsConsultorOtico.consultorOticoTratamentoArFrontal),1)]),default:l(()=>[o(W,null,{default:l(()=>[x((p(),y(R,{onClick:e[6]||(e[6]=s=>i.mudarFiltro("arfrontal-verde")),clickable:"",class:A(t.tipoT==="arfrontal-verde"?"bg-blue-1":"bg-transparent")},{default:l(()=>[o(F,null,{default:l(()=>[o(H,{class:A(["text-center",t.tipoT==="arfrontal-verde"?"text-primary":"text-tertiary"])},{default:l(()=>e[19]||(e[19]=[h(" AR VERDE ")])),_:1},8,["class"])]),_:1})]),_:1},8,["class"])),[[j]]),x((p(),y(R,{onClick:e[7]||(e[7]=s=>i.mudarFiltro("arfrontal-azul")),clickable:"",class:A(t.tipoT==="arfrontal-azul"?"bg-blue-1 text-primary":"bg-transparent text-tertiary")},{default:l(()=>[o(F,null,{default:l(()=>[o(H,{class:A(["text-center",t.tipoT==="arfrontal-azul"?"text-primary":"text-tertiary"])},{default:l(()=>e[20]||(e[20]=[h(" AR AZUL ")])),_:1},8,["class"])]),_:1})]),_:1},8,["class"])),[[j]])]),_:1})]),_:1},8,["class"])]),r("div",Yl,[o(c,{onClick:e[8]||(e[8]=s=>i.mudarFiltro("ar1pessoa")),size:"md",unelevated:"",dense:"",class:A(["q-pa-md q-mx-sm full-width",t.tipoT==="ar1pessoa"?"bg-blue-1 text-primary":"bg-transparent text-tertiary"])},{default:l(()=>[o(B,{name:"tips_and_updates",size:"q-mr-xs"}),r("span",Wl,O(t.labelsConsultorOtico.consultorOticoTratamentoAR1Pessoa),1)]),_:1},8,["class"])]),r("div",Jl,[o(c,{onClick:e[9]||(e[9]=s=>i.mudarFiltro("oleorepelente")),size:"md",unelevated:"",dense:"",class:A(["q-pa-md q-mx-sm full-width",t.tipoT==="oleorepelente"?"bg-blue-1 text-primary":"bg-transparent text-tertiary"])},{default:l(()=>[o(B,{name:"fingerprint",size:"q-mr-xs"}),r("span",Zl,O(t.labelsConsultorOtico.consultorOticoTratamentoOleoRepelente),1)]),_:1},8,["class"])]),r("div",Kl,[o(c,{onClick:e[10]||(e[10]=s=>i.mudarFiltro("hidrofobicas")),size:"md",unelevated:"",dense:"",class:A(["q-pa-md q-mx-sm full-width",t.tipoT==="hidrofobicas"?"bg-blue-1 text-primary":"bg-transparent text-tertiary"])},{default:l(()=>[o(B,{name:"opacity",size:"q-mr-xs"}),r("span",$l,O(t.labelsConsultorOtico.consultorOticoTratamentoHidrofobicas),1)]),_:1},8,["class"])]),r("div",ea,[o(c,{onClick:e[11]||(e[11]=s=>i.mudarFiltro("risco")),size:"md",unelevated:"",dense:"",class:A(["q-pa-md q-mx-sm full-width",t.tipoT==="risco"?"bg-blue-1 text-primary":"bg-transparent text-tertiary"])},{default:l(()=>[o(B,{name:"tonality",size:"q-mr-xs"}),r("span",oa,O(t.labelsConsultorOtico.consultorOticoTratamentoRisco),1)]),_:1},8,["class"])]),r("div",ta,[o(c,{onClick:e[12]||(e[12]=s=>i.mudarFiltro("sujeira")),size:"md",unelevated:"",dense:"",class:A(["q-pa-md q-mx-sm full-width",t.tipoT==="sujeira"?"bg-blue-1 text-primary":"bg-transparent text-tertiary"])},{default:l(()=>[o(B,{name:"dirty_lens",size:"q-mr-xs"}),r("span",la,O(t.labelsConsultorOtico.consultorOticoTratamentoSujeira),1)]),_:1},8,["class"])]),r("div",aa,[o(c,{onClick:e[13]||(e[13]=s=>i.mudarFiltro("embacante")),size:"md",unelevated:"",dense:"",class:A(["q-pa-md q-mx-sm full-width",t.tipoT==="embacante"?"bg-blue-1 text-primary":"bg-transparent text-tertiary"])},{default:l(()=>[o(B,{name:"blur_circular",size:"q-mr-xs"}),r("span",sa,O(t.labelsConsultorOtico.consultorOticoTratamentoEmbacante),1)]),_:1},8,["class"])])])]),_:1}),o(ne,{modelValue:t.mostrarCosmeticas,"onUpdate:modelValue":e[14]||(e[14]=s=>t.mostrarCosmeticas=s),persistent:"",maximized:""},{default:l(()=>[o(g)]),_:1},8,["modelValue"]),o(ne,{modelValue:t.mostrarPolarizado,"onUpdate:modelValue":e[15]||(e[15]=s=>t.mostrarPolarizado=s),persistent:"",maximized:""},{default:l(()=>[o(b)]),_:1},8,["modelValue"])]),_:1})}var ra=N(Rl,[["render",ia],["__scopeId","data-v-9d22928c"]]);const na={data(){return{tela:{},imagem:"",lente:"",cenario:"bicicleta",tabLentes:""}},props:{lentes:{required:!0,type:Object}},methods:{mudarCenario(a){this.cenario=a,this.mudarLente(this.lenteId)},mudarLente(a){this.lenteId=a,this.lente=this.lentes[this.lenteId].imagemCorredor,this.lente==="img1"&&this.multifocalConvencionalBasico(this.cenario),this.lente==="img2"&&this.multifocalConvencionalMedio(this.cenario),this.lente==="img3"&&this.multifocalConvencionalAmplo(this.cenario),this.lente==="img4"&&this.multifocalDigitalBasico(this.cenario),this.lente==="img5"&&this.multifocalDigitalMedio(this.cenario),this.lente==="img6"&&this.multifocalDigitalAmplo(this.cenario),this.lente==="img7"&&this.monofocalConvencional(this.cenario),this.lente==="img8"&&this.monofocalDigital(this.cenario),this.lente==="img9"&&this.monofocalProgressivo(this.cenario)},multifocalConvencionalBasico(a){this.imagem=`statics/jornada/multifocais/convencional/${a}-multifocal-1.jpg`},multifocalConvencionalMedio(a){this.imagem=`statics/jornada/multifocais/convencional/${a}-multifocal-2.jpg`},multifocalConvencionalAmplo(a){this.imagem=`statics/jornada/multifocais/convencional/${a}-multifocal-3.jpg`},multifocalDigitalBasico(a){this.imagem=`statics/jornada/multifocais/digital/${a}-multifocal-4.jpg`},multifocalDigitalMedio(a){this.imagem=`statics/jornada/multifocais/digital/${a}-multifocal-5.jpg`},multifocalDigitalAmplo(a){this.imagem=`statics/jornada/multifocais/digital/${a}-multifocal-6.jpg`},monofocalConvencional(a){this.imagem=`statics/jornada/monofocais/convencional/${a}-monofocal-1.jpg`},monofocalDigital(a){this.imagem=`statics/jornada/monofocais/digital/${a}-monofocal-2.jpg`},monofocalProgressivo(a){this.imagem=`statics/jornada/monofocais/progressiva/${a}-monofocal-3.jpg`},resize(){this.tela={header:$utils.tela("AplicacoesHeader").height,footer:$utils.tela("AplicacoesFooter").height}}},mounted(){const a=Object.keys(this.lentes)[0];this.mudarLente(a),this.tabLentes=this.lentes[a].titulo}},da={id:"Aplicacoes"};function ua(a,e,u,m,t,i){const n=C("g-col"),d=C("g-row");return p(),z("div",da,[o(L,{view:"hHh LpR fFf",class:"bg-light"},{default:l(()=>[o($,{onResize:e[0]||(e[0]=g=>i.resize())}),o(X,{id:"AplicacoesHeader"},{default:l(()=>[o(D,null,{default:l(()=>[o(E,null,{default:l(()=>e[9]||(e[9]=[h("Aplica\xE7\xF5es")])),_:1}),x(o(c,{icon:"close",round:"",flat:"",dense:""},null,512),[[j]])]),_:1})]),_:1}),o(G,null,{default:l(()=>[o(Y,{class:"overflow-hidden no-scroll",style:le(`
            min-height:calc(100vh - ${t.tela.header+t.tela.footer}px);
            max-height:calc(100vh - ${t.tela.header+t.tela.footer}px);
          `)},{default:l(()=>[o(d,{style:{"min-height":"calc(100vh - 100px)"}},{default:l(()=>[o(n,{col:"12",class:"imagem",style:le(`background-image: url(${t.imagem});`)},null,8,["style"])]),_:1})]),_:1},8,["style"])]),_:1}),o(de,{id:"AplicacoesFooter",class:"bg-light"},{default:l(()=>[o(Te,{modelValue:t.tabLentes,"onUpdate:modelValue":e[1]||(e[1]=g=>t.tabLentes=g),"inline-label":"","active-color":"primary","indicator-color":"primary",class:"text-dark"},{default:l(()=>[(p(!0),z(P,null,I(Object.keys(u.lentes),g=>(p(),y(Ae,{onClick:b=>i.mudarLente(g),key:g,name:u.lentes[g].titulo,label:u.lentes[g].titulo},null,8,["onClick","name","label"]))),128))]),_:1},8,["modelValue"]),o(d,{items:"center",justify:"center",class:"containerCenarios"},{default:l(()=>[o(n,{onClick:e[2]||(e[2]=g=>i.mudarCenario("bicicleta")),class:"cenario",style:`background-image:
              url('statics/jornada/multifocais/digital/bicicleta-multifocal-6.jpg');
            `}),o(n,{onClick:e[3]||(e[3]=g=>i.mudarCenario("carro")),class:"cenario",style:`background-image:
              url('statics/jornada/multifocais/digital/carro-multifocal-6.jpg');
            `}),o(n,{onClick:e[4]||(e[4]=g=>i.mudarCenario("casal")),class:"cenario",style:`background-image:
              url('statics/jornada/multifocais/digital/casal-multifocal-6.jpg');
            `}),o(n,{onClick:e[5]||(e[5]=g=>i.mudarCenario("celular")),class:"cenario",style:`background-image:
              url('statics/jornada/multifocais/digital/celular-multifocal-6.jpg');
            `}),o(n,{onClick:e[6]||(e[6]=g=>i.mudarCenario("cinema")),class:"cenario",style:`background-image:
              url('statics/jornada/multifocais/digital/cinema-multifocal-6.jpg');
            `}),o(n,{onClick:e[7]||(e[7]=g=>i.mudarCenario("escada")),class:"cenario",style:`background-image:
              url('statics/jornada/multifocais/digital/escada-multifocal-6.jpg');
            `}),o(n,{onClick:e[8]||(e[8]=g=>i.mudarCenario("note")),class:"cenario",style:`background-image:
              url('statics/jornada/multifocais/digital/note-multifocal-6.jpg');
            `})]),_:1})]),_:1})]),_:1})])}var Ee=N(na,[["render",ua],["__scopeId","data-v-2e40a426"]]);const ma={components:{Tratamentos:ra,CampoVisao:Ee},data(){return{filtroLentesAdicionas:"",mostrarLentesAdicionais:!1,mostrarTratamentos:!1,mostrarAplicacoes:!1,visibilidade:{texto:!1},item:{},lentes:null,lentesAdicionais:{},imagemCorredor:{img1:"statics/jornada/multifocais/convencional/lentes/basico.png",img2:"statics/jornada/multifocais/convencional/lentes/medio.png",img3:"statics/jornada/multifocais/convencional/lentes/amplo.png",img4:"statics/jornada/multifocais/digital/lentes/basico.png",img5:"statics/jornada/multifocais/digital/lentes/medio.png",img6:"statics/jornada/multifocais/digital/lentes/amplo.png",img7:"statics/jornada/monofocais/convencional/lentes/convencional.png",img8:"statics/jornada/monofocais/digital/lentes/digital.png",img9:"statics/jornada/monofocais/progressiva/lentes/progressiva.png"}}},emits:["mudarTela","fecharModal"],props:{opts:{required:!0,type:Object,default:()=>({})}},methods:{carregarLentesAdicionais(){var e;const a={};for(const u in this.configuracoesOriginal.indices){const m=this.configuracoesOriginal.indices[u].opcoes;for(const t in m){const i=(e=this.configuracoesOriginal.indices[u].opcoes[t].lentes)!=null?e:{};for(const n in i)this.lentes[n]||!i[n].idItem||(a[n]=i[n])}}this.lentesAdicionaisOriginal=a,this.lentesAdicionais=$utils.clonar(a)},async carregarItens(){const a=[];for(const u in this.configuracoesOriginal.indices)for(const m in this.configuracoesOriginal.indices[u].opcoes){const t=this.configuracoesOriginal.indices[u].opcoes[m].lentes;for(const i in t){const n=t[i].idItem;!n||a.some(d=>d===n)||a.push(n)}}const e=await $db.hibrido.lista({table:"item",whereIn:{id:a}});if($db.jornada.doc.value.idItemTabelaPreco&&e.length>0){const u=$db.jornada.doc.value.idItemTabelaPreco;let m=await $db.hibrido.lista({table:"itemTabelaPreco"});const t=m.find(i=>i.id===u);if(t!=null&&t.id)for(const i of e){const n=await $db.itemTabelaPreco.obterValores(t,i,4,m);i.valorVenda=n.valorVenda||0}}for(const u of e)u.valorVenda=(u.valorVenda||0)*2,this.item[u.id]=u},btAnterior(){this.$emit("mudarTela","Materiais")},async comprar({lente:a,opcao:e}){$q.loading.show();let u=a.tipoPromocao;a.tipoPromocao==="doisPares"&&e===1&&(u="umPar");const m={idItem:a.idItem,idEnvelope:"",idEnvelopeSegundoPar:"",valorVenda:this.item[a.idItem].valorVenda,valorVendaSegundoPar:a.valorSegundoPar,tipoPromocao:u,daraHoraEmissao:new Date().toISOString()};await $db.jornada.comprar(m),$q.loading.hide()},filtrarLentesAdicionais(){clearTimeout(this.idTimeoutDebounceFiltro),this.idTimeoutDebounceFiltro=setTimeout(()=>{const a=$utils.clonar(this.lentesAdicionaisOriginal),e=$utils.tratamentoCompletoString(this.filtroLentesAdicionas);if(!e){this.lentesAdicionais=a;return}const u=e.split(" ");for(const m in this.lentesAdicionaisOriginal){const t=this.lentesAdicionaisOriginal[m],i=$utils.tratamentoCompletoString(t.titulo);i.trim()||delete a[m];let n=!0;for(const d of u)if(!i.includes(d)){n=!1;break}n||delete a[m]}this.lentesAdicionais=a},300)},async adicionarLente(a,e){this.mostrarLentesAdicionais=!1,this.lentes[e]=a,this.carregarLentesAdicionais(),this.filtroLentesAdicionas=""},async removerLente(a){$q.dialog({title:"Deseja continuar?",message:"Ao continuar voc\xEA ir\xE1 remover a lente.",cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(async()=>{delete this.lentes[a],this.carregarLentesAdicionais()})},onMouseDown(a){this.isDown=!0,this.startX=a.pageX-this.$refs.lentesContainer.offsetLeft,this.scrollLeft=this.$refs.lentesContainer.scrollLeft},onMouseLeave(){this.isDown=!1},onMouseUp(){this.isDown=!1},onMouseMove(a){if(!this.isDown)return;a.preventDefault();const u=(a.pageX-this.$refs.lentesContainer.offsetLeft-this.startX)*1.5;this.$refs.lentesContainer.scrollLeft=this.scrollLeft-u}},async created(){var a;try{$q.loading.show(),this.configuracoesOriginal=await $db.jornada.lerConfiguracoes(),await this.carregarItens();const e=(a=this.configuracoesOriginal.indices[this.opts.idIndice].opcoes[this.opts.idOpcao].lentes)!=null?a:{};for(const u in e)e[u].idItem||delete e[u];this.lentes=$utils.clonar(e),this.carregarLentesAdicionais()}catch{$q.notify({message:"N\xE3o foi poss\xEDvel carregar as configura\xE7\xF5es.",type:"negative"})}finally{$q.loading.hide()}}},ca={key:0,class:"cardapioRowCard bg-white full-height bordered rounded-borders"},pa=["src"],fa={class:"fit bg-white rounded-borders"};function ba(a,e,u,m,t,i){const n=C("g-col"),d=C("campo"),g=C("g-row"),b=C("g-label"),s=C("Tratamentos"),_=C("CampoVisao");return p(),y(L,{view:"hHh LpR fFf",class:"bg-light"},{default:l(()=>[o(X,null,{default:l(()=>[o(D,null,{default:l(()=>[o(c,{onClick:e[0]||(e[0]=f=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(E,null,{default:l(()=>e[14]||(e[14]=[h("Lentes")])),_:1}),o(c,{onClick:e[1]||(e[1]=f=>t.mostrarLentesAdicionais=!0),outline:"",class:"q-ml-sm q-px-sm"},{default:l(()=>[o(B,{name:"add"}),e[15]||(e[15]=r("span",{class:"q-ml-xs labelBtnHideMobile"},"Lente",-1))]),_:1}),o(c,{onClick:e[2]||(e[2]=f=>t.mostrarTratamentos=!0),outline:"",class:"q-ml-sm q-px-sm"},{default:l(()=>[o(B,{name:"compare"}),e[16]||(e[16]=r("span",{class:"q-ml-xs labelBtnHideMobile"},"Tratamentos",-1))]),_:1}),o(c,{onClick:e[3]||(e[3]=f=>t.mostrarAplicacoes=!0),outline:"",class:"q-ml-sm q-px-sm"},{default:l(()=>[o(B,{name:"join_right"}),e[17]||(e[17]=r("span",{class:"q-ml-xs labelBtnHideMobile"},"Aplica\xE7\xF5es",-1))]),_:1})]),_:1})]),_:1}),o(G,null,{default:l(()=>[o(Y,null,{default:l(()=>[r("div",{class:"lentesContainer",ref:"lentesContainer",onMousedown:e[6]||(e[6]=(...f)=>i.onMouseDown&&i.onMouseDown(...f)),onMouseleave:e[7]||(e[7]=(...f)=>i.onMouseLeave&&i.onMouseLeave(...f)),onMouseup:e[8]||(e[8]=(...f)=>i.onMouseUp&&i.onMouseUp(...f)),onMousemove:e[9]||(e[9]=(...f)=>i.onMouseMove&&i.onMouseMove(...f))},[o(g,{gutter:"md","min-height":"calc(100vh - 58px)",height:"100%",class:"cardapioContainerCard"},{default:l(()=>[(p(!0),z(P,null,I(t.lentes,(f,T)=>(p(),y(n,{key:T,col:"12 md4",relative:""},{default:l(()=>[f.idItem?(p(),z("div",ca,[o(g,{height:"100%",mg:"none",bg:"bg-white"},{default:l(()=>[o(n,{col:"12 sm7 md12",self:"start",bg:"bg-white",style:{padding:"12px!important"}},{default:l(()=>[o(g,null,{default:l(()=>[o(n,{col:"12",self:"start",bg:"bg-white"},{default:l(()=>[o(D,{class:"q-px-none"},{default:l(()=>[o(E,{class:"text-primary"},{default:l(()=>[h(O(f.titulo||"Sem t\xEDtulo"),1)]),_:2},1024),o(c,{onClick:v=>i.removerLente(T),icon:"delete",color:"tertiary",flat:"",round:"",dense:""},null,8,["onClick"])]),_:2},1024),r("img",{src:t.imagemCorredor[f.imagemCorredor],class:"q-pa-md q-mx-auto",style:{width:"85%",display:"block"}},null,8,pa)]),_:2},1024),o(n,{col:"12",self:"start",bg:"bg-white",class:"cardapioBeneficiosDesktop",style:{padding:"12px!important"}},{default:l(()=>[o(g,{bg:"bg-white",class:"q-pb-md"},{default:l(()=>[o(n,null,{default:l(()=>[o(ye,null,{default:l(()=>[t.visibilidade.texto?(p(),y(d,{key:0,modelValue:f.texto,"onUpdate:modelValue":v=>f.texto=v,modelModifiers:{trim:!0},tipo:"textoArea",autogrow:"",autofocus:"",somenteLeitura:"",class:"q-col-12"},null,8,["modelValue","onUpdate:modelValue"])):w("",!0)]),_:2},1024)]),_:2},1024),o(n,{col:"shrink"},{default:l(()=>[o(c,{onClick:e[4]||(e[4]=v=>t.visibilidade.texto=!t.visibilidade.texto),unelevated:"",round:"",icon:t.visibilidade.texto?"keyboard_arrow_up":"keyboard_arrow_down",color:"light","text-color":"tertiary",class:"float-right"},null,8,["icon"])]),_:1})]),_:2},1024),(p(!0),z(P,null,I(f.beneficios,(v,M)=>(p(),z(P,{key:M},[v.nome?(p(),y(b,{key:0,text:"sub1 bold center",class:"q-pa-sm",bordered:"bottom"},{default:l(()=>[h(O(v.nome),1)]),_:2},1024)):w("",!0)],64))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024),o(n,{col:"12 sm8 md12",self:"start",bg:"bg-white",class:"cardapioBeneficiosMobile",style:{padding:"12px!important"}},{default:l(()=>[o(g,{bg:"bg-white",class:"q-pb-md"},{default:l(()=>[o(n,null,{default:l(()=>[o(ye,null,{default:l(()=>[t.visibilidade.texto?(p(),y(d,{key:0,modelValue:f.texto,"onUpdate:modelValue":v=>f.texto=v,modelModifiers:{trim:!0},tipo:"textoArea",autogrow:"",autofocus:"",somenteLeitura:"",class:"q-col-12"},null,8,["modelValue","onUpdate:modelValue"])):w("",!0)]),_:2},1024)]),_:2},1024),o(n,{col:"shrink"},{default:l(()=>[o(c,{onClick:e[5]||(e[5]=v=>t.visibilidade.texto=!t.visibilidade.texto),unelevated:"",round:"",icon:t.visibilidade.texto?"keyboard_arrow_up":"keyboard_arrow_down",color:"light","text-color":"tertiary",class:"float-right"},null,8,["icon"])]),_:1})]),_:2},1024),(p(!0),z(P,null,I(f.beneficios,(v,M)=>(p(),z(P,{key:M},[v.nome?(p(),y(b,{key:0,text:"sub1 bold center",class:"q-pa-sm",bordered:"bottom"},{default:l(()=>[h(O(v.nome),1)]),_:2},1024)):w("",!0)],64))),128))]),_:2},1024),o(n,{col:"12 sm7 md12",self:"end",bg:"bg-white",style:{padding:"12px!important"}},{default:l(()=>[o(g,{height:"100%",items:"center"},{default:l(()=>[o(n,{class:"q-my-sm"},{default:l(()=>[o(g,{text:"center",items:"center"},{default:l(()=>[o(n,{bordered:f.tipoPromocao==="parGratis"?"right":"none"},{default:l(()=>[o(b,{text:"body1 medium"},{default:l(()=>e[18]||(e[18]=[h(" Valor do par ")])),_:1}),o(b,{text:"h5 bold"},{default:l(()=>{var v;return[h(O(a.$filters.numero((v=t.item[f.idItem])==null?void 0:v.valorVenda,2)),1)]}),_:2},1024)]),_:2},1032,["bordered"]),f.tipoPromocao!=="umPar"?(p(),y(n,{key:0},{default:l(()=>[f.tipoPromocao==="doisPares"?(p(),y(b,{key:0,text:"body1 medium"},{default:l(()=>e[19]||(e[19]=[h(" 2 Pares por ")])),_:1})):(p(),y(b,{key:1,text:"body1 medium"},{default:l(()=>e[20]||(e[20]=[h(" 2\xBA Par ")])),_:1})),f.tipoPromocao==="doisPares"?(p(),y(b,{key:2,text:"h5 bold"},{default:l(()=>[h(O(a.$filters.numero(f.valorSegundoPar,2)),1)]),_:2},1024)):(p(),y(b,{key:3,text:"h5 bold"},{default:l(()=>e[21]||(e[21]=[h(" Gr\xE1tis ")])),_:1}))]),_:2},1024)):w("",!0)]),_:2},1024),o(g,{text:"center",items:"center",class:"q-pt-lg"},{default:l(()=>[o(n,null,{default:l(()=>[o(c,{label:"Comprar",color:"primary",class:"q-px-lg",unelevated:"",onClick:v=>i.comprar({lente:f,opcao:1})},null,8,["onClick"])]),_:2},1024),f.tipoPromocao==="doisPares"?(p(),y(n,{key:0},{default:l(()=>[o(c,{label:"Comprar",color:"primary",class:"q-px-lg",unelevated:"",onClick:v=>i.comprar({lente:f,opcao:2})},null,8,["onClick"])]),_:2},1024)):w("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)])):w("",!0)]),_:2},1024))),128))]),_:1})],544)]),_:1})]),_:1}),o(ne,{modelValue:t.mostrarLentesAdicionais,"onUpdate:modelValue":e[11]||(e[11]=f=>t.mostrarLentesAdicionais=f),persistent:"",maximized:""},{default:l(()=>[o(L,{view:"hHh LpR fFf",class:"bg-light"},{default:l(()=>[o(X,null,{default:l(()=>[o(D,null,{default:l(()=>[o(g,{items:"center",justify:"between","no-wrap":"",class:"full-width"},{default:l(()=>[o(n,{class:"hideonmobile"},{default:l(()=>[o(E,null,{default:l(()=>e[22]||(e[22]=[h("Adicionar lente")])),_:1})]),_:1}),o(n,{col:"xs sm6 md5 lg4"},{default:l(()=>[o(ge,{modelValue:t.filtroLentesAdicionas,"onUpdate:modelValue":[e[10]||(e[10]=f=>t.filtroLentesAdicionas=f),i.filtrarLentesAdicionais],"clear-icon":"close",standout:"",filled:"",clearable:"",dense:"",dark:"",class:"q-mx-auto",placeholder:"Pesquise por um t\xEDtulo"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),o(n,{col:"shrink sm",text:"right"}),o(n,{col:"shrink"},{default:l(()=>[x(o(c,{icon:"close",round:"",flat:"",dense:""},null,512),[[j]])]),_:1})]),_:1})]),_:1})]),_:1}),o(G,null,{default:l(()=>[o(Y,null,{default:l(()=>[o(g,{gutter:"md",justify:"center"},{default:l(()=>[(p(!0),z(P,null,I(t.lentesAdicionais,(f,T)=>(p(),y(n,{key:T,col:"12 sm6 md4 lg3","rounded-borders":"",class:"itemHover"},{default:l(()=>[r("div",fa,[o(g,{gutter:"md","rounded-borders":"",class:"fit"},{default:l(()=>[o(n,{col:"12",self:"top",bordered:"bottom",class:"q-mb-md"},{default:l(()=>[o(b,{text:"left h6"},{default:l(()=>[h(O(f.titulo||"Sem t\xEDtulo"),1)]),_:2},1024),o(ve,{src:t.imagemCorredor[f.imagemCorredor],style:{"max-width":"180px",display:"flex","align-self":"center",margin:"0 auto","border-radius":"10px"}},null,8,["src"])]),_:2},1024),o(n,{col:"12",self:"top"},{default:l(()=>[o(g,{text:"center",items:"center"},{default:l(()=>[o(n,{bordered:f.tipoPromocao==="parGratis"?"right":"none"},{default:l(()=>[o(b,{text:"body1 medium"},{default:l(()=>e[23]||(e[23]=[h(" Valor do par ")])),_:1}),o(b,{text:"h5 bold"},{default:l(()=>{var v;return[h(O(a.$filters.numero((v=t.item[f.idItem])==null?void 0:v.valorVenda,2)),1)]}),_:2},1024)]),_:2},1032,["bordered"]),f.tipoPromocao!=="umPar"?(p(),y(n,{key:0},{default:l(()=>[f.tipoPromocao==="doisPares"?(p(),y(b,{key:0,text:"body1 medium"},{default:l(()=>e[24]||(e[24]=[h(" 2 Pares por ")])),_:1})):(p(),y(b,{key:1,text:"body1 medium"},{default:l(()=>e[25]||(e[25]=[h(" 2\xBA Par ")])),_:1})),f.tipoPromocao==="doisPares"?(p(),y(b,{key:2,text:"h5 bold"},{default:l(()=>[h(O(a.$filters.numero(f.valorSegundoPar,2)),1)]),_:2},1024)):(p(),y(b,{key:3,text:"h5 bold"},{default:l(()=>e[26]||(e[26]=[h(" Gr\xE1tis ")])),_:1}))]),_:2},1024)):w("",!0)]),_:2},1024)]),_:2},1024),o(n,{col:"12",self:"end",text:"right",bordered:"top",class:"q-mt-md"},{default:l(()=>[o(c,{onClick:v=>i.adicionarLente(f,T),label:"Adicionar",color:"primary",unelevated:"",class:"q-ml-sm"},null,8,["onClick"])]),_:2},1024)]),_:2},1024)])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(ne,{modelValue:t.mostrarTratamentos,"onUpdate:modelValue":e[12]||(e[12]=f=>t.mostrarTratamentos=f),persistent:"",maximized:""},{default:l(()=>[o(s)]),_:1},8,["modelValue"]),o(ne,{modelValue:t.mostrarAplicacoes,"onUpdate:modelValue":e[13]||(e[13]=f=>t.mostrarAplicacoes=f),persistent:"",maximized:""},{default:l(()=>[o(_,{lentes:t.lentes},null,8,["lentes"])]),_:1},8,["modelValue"])]),_:1})}var ga=N(ma,[["render",ba],["__scopeId","data-v-c4092bdc"]]);const va={components:{grafico:lo,avatar:Pe},data(){return{expandir:"",graficoLaminese:{labels:["Pink","Blue","Yellow","Green","Purple","Orange"],datasets:[{label:"# of Votes",hoverBackgroundColor:"#424242",backgroundColor:["#EC407A","#42A5F5","#FFCA28","#4CAF50","#673AB7","#F57C00"],data:[12,19,3,5,2,3]}]},graficoLamineseOpcoes:{responsive:!0,maintainAspectRatio:!0}}},emits:["mudarTela","fecharModal"],methods:{fecharModal(){this.$emit("fecharModal")},btAnterior(){this.$emit("mudarTela","Laminese")},btProximo(a){this.$emit("mudarTela",a)},btOpen(a){this.expandir=a}}};function ha(a,e,u,m,t,i){const n=C("grafico"),d=C("g-col"),g=C("avatar"),b=C("g-label"),s=C("g-row");return p(),y(L,{view:"hHh LpR fFf",class:"bg-light"},{default:l(()=>[o(X,null,{default:l(()=>[o(D,null,{default:l(()=>[o(c,{onClick:e[0]||(e[0]=_=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(ue,{vertical:"",inset:"",class:"q-mx-sm"}),o(c,{onClick:e[1]||(e[1]=_=>i.fecharModal()),icon:"close",round:"",flat:"",dense:""}),o(E,null,{default:l(()=>e[14]||(e[14]=[h("Gr\xE1fico Laminese")])),_:1})]),_:1})]),_:1}),o(G,{class:"q-my-md"},{default:l(()=>[o(Y,{class:"u-container rounded-borders bg-white"},{default:l(()=>[o(s,{gutter:"md"},{default:l(()=>[o(d,{col:"12",mg:"lg-b"},{default:l(()=>[o(n,{type:"doughnut",data:t.graficoLaminese,options:t.graficoLamineseOpcoes},null,8,["data","options"])]),_:1}),o(d,{col:"12 sm4",order:"xs0 sm0",bg:"bg-white"},{default:l(()=>[o(c,{onClick:e[2]||(e[2]=_=>i.btOpen("Mono")),label:"Monofocal",color:t.expandir==="Mono"?"tertiary":"primary",dark:"",unelevated:"",class:"fit"},null,8,["color"])]),_:1}),o(d,{col:"12 sm4",order:"xs2 sm1",bg:"bg-white"},{default:l(()=>[o(c,{onClick:e[3]||(e[3]=_=>i.btOpen("Multi")),label:"Multifocal",color:t.expandir==="Multi"?"tertiary":"primary",dark:"",unelevated:"",class:"fit"},null,8,["color"])]),_:1}),o(d,{col:"12 sm4",order:"xs4 sm2",bg:"bg-white"},{default:l(()=>[o(c,{onClick:e[4]||(e[4]=_=>i.btOpen("Ocupacional")),label:"Ocupacional",color:t.expandir==="Ocupacional"?"tertiary":"primary",dark:"",unelevated:"",class:"fit"},null,8,["color"])]),_:1}),o(d,{col:"12",order:"xs1 sm3"},{default:l(()=>[x(o(s,{gutter:"md"},{default:l(()=>[o(d,{onClick:e[5]||(e[5]=_=>i.btProximo("Tratamentos")),col:"6 sm",mg:"md-b","rounded-borders":"",text:"center",class:"itemHover"},{default:l(()=>[o(g,{imagem:"",rotulo:"Rodstock",class:"q-mb-sm",tamanho:"120"}),o(b,{text:"sub1 medium"},{default:l(()=>e[15]||(e[15]=[h("Rodstock")])),_:1}),o(b,{text:"caption"},{default:l(()=>e[16]||(e[16]=[h("65.139.317/0001-59")])),_:1})]),_:1}),o(d,{onClick:e[6]||(e[6]=_=>i.btProximo("Tratamentos")),col:"6 sm",mg:"md-b","rounded-borders":"",text:"center",class:"itemHover"},{default:l(()=>[o(g,{imagem:"",rotulo:"Pr\xF3prio",class:"q-mb-sm",tamanho:"120"}),o(b,{text:"sub1 medium"},{default:l(()=>e[17]||(e[17]=[h("Pr\xF3prio")])),_:1}),o(b,{text:"caption"},{default:l(()=>e[18]||(e[18]=[h("65.139.317/0001-59")])),_:1})]),_:1})]),_:1},512),[[S,t.expandir==="Mono"]])]),_:1}),o(d,{col:"12",order:"xs3 sm4"},{default:l(()=>[x(o(s,{gutter:"md"},{default:l(()=>[o(d,{onClick:e[7]||(e[7]=_=>i.btProximo("CampoVisao")),col:"6 sm",mg:"md-b","rounded-borders":"",text:"center",class:"itemHover"},{default:l(()=>[o(g,{imagem:"",rotulo:"Essilor",class:"q-mb-sm",tamanho:"120"}),o(b,{text:"sub1 medium"},{default:l(()=>e[19]||(e[19]=[h("Essilor")])),_:1}),o(b,{text:"caption"},{default:l(()=>e[20]||(e[20]=[h("65.139.317/0001-59")])),_:1})]),_:1}),o(d,{onClick:e[8]||(e[8]=_=>i.btProximo("CampoVisao")),col:"6 sm",mg:"md-b","rounded-borders":"",text:"center",class:"itemHover"},{default:l(()=>[o(g,{imagem:"",rotulo:"Zeiss",class:"q-mb-sm",tamanho:"120"}),o(b,{text:"sub1 medium"},{default:l(()=>e[21]||(e[21]=[h("Zeiss")])),_:1}),o(b,{text:"caption"},{default:l(()=>e[22]||(e[22]=[h("65.139.317/0001-59")])),_:1})]),_:1}),o(d,{onClick:e[9]||(e[9]=_=>i.btProximo("CampoVisao")),col:"6 sm",mg:"md-b","rounded-borders":"",text:"center",class:"itemHover"},{default:l(()=>[o(g,{imagem:"",rotulo:"Rodstock",class:"q-mb-sm",tamanho:"120"}),o(b,{text:"sub1 medium"},{default:l(()=>e[23]||(e[23]=[h("Rodstock")])),_:1}),o(b,{text:"caption"},{default:l(()=>e[24]||(e[24]=[h("65.139.317/0001-59")])),_:1})]),_:1}),o(d,{onClick:e[10]||(e[10]=_=>i.btProximo("CampoVisao")),col:"6 sm",mg:"md-b","rounded-borders":"",text:"center",class:"itemHover"},{default:l(()=>[o(g,{imagem:"",rotulo:"Pr\xF3prio",class:"q-mb-sm",tamanho:"120"}),o(b,{text:"sub1 medium"},{default:l(()=>e[25]||(e[25]=[h("Pr\xF3prio")])),_:1}),o(b,{text:"caption"},{default:l(()=>e[26]||(e[26]=[h("65.139.317/0001-59")])),_:1})]),_:1})]),_:1},512),[[S,t.expandir==="Multi"]])]),_:1}),o(d,{col:"12",order:"xs5 sm5"},{default:l(()=>[x(o(s,{gutter:"md"},{default:l(()=>[o(d,{onClick:e[11]||(e[11]=_=>i.btProximo("TamanhoArmacao")),col:"6 sm",mg:"md-b","rounded-borders":"",text:"center",class:"itemHover"},{default:l(()=>[o(g,{imagem:"",rotulo:"Essilor",class:"q-mb-sm",tamanho:"120"}),o(b,{text:"sub1 medium"},{default:l(()=>e[27]||(e[27]=[h("Essilor")])),_:1}),o(b,{text:"caption"},{default:l(()=>e[28]||(e[28]=[h("65.139.317/0001-59")])),_:1})]),_:1}),o(d,{onClick:e[12]||(e[12]=_=>i.btProximo("TamanhoArmacao")),col:"6 sm",mg:"md-b","rounded-borders":"",text:"center",class:"itemHover"},{default:l(()=>[o(g,{imagem:"",rotulo:"Zeiss",class:"q-mb-sm",tamanho:"120"}),o(b,{text:"sub1 medium"},{default:l(()=>e[29]||(e[29]=[h("Zeiss")])),_:1}),o(b,{text:"caption"},{default:l(()=>e[30]||(e[30]=[h("65.139.317/0001-59")])),_:1})]),_:1}),o(d,{onClick:e[13]||(e[13]=_=>i.btProximo("TamanhoArmacao")),col:"6 sm",mg:"md-b","rounded-borders":"",text:"center",class:"itemHover"},{default:l(()=>[o(g,{imagem:"",rotulo:"Rodstock",class:"q-mb-sm",tamanho:"120"}),o(b,{text:"sub1 medium"},{default:l(()=>e[31]||(e[31]=[h("Rodstock")])),_:1}),o(b,{text:"caption"},{default:l(()=>e[32]||(e[32]=[h("65.139.317/0001-59")])),_:1})]),_:1})]),_:1},512),[[S,t.expandir==="Ocupacional"]])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var ya=N(va,[["render",ha]]);const xa={data(){return{}},emits:["mudarTela","fecharModal"],methods:{fecharModal(){this.$emit("fecharModal")},btAnterior(){this.$emit("mudarTela","Polarizado")},btProximo(){this.$emit("mudarTela","Pagamento")}}};function Va(a,e,u,m,t,i){const n=C("g-label"),d=C("g-col"),g=C("g-row");return p(),y(L,{view:"hHh LpR fFf",class:"bg-light"},{default:l(()=>[o(X,null,{default:l(()=>[o(D,null,{default:l(()=>[o(c,{onClick:e[0]||(e[0]=b=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(ue,{vertical:"",inset:"",class:"q-mx-sm"}),o(c,{onClick:e[1]||(e[1]=b=>i.fecharModal()),icon:"close",round:"",flat:"",dense:""}),o(E,null,{default:l(()=>e[3]||(e[3]=[h("Carrinho")])),_:1}),o(c,{onClick:e[2]||(e[2]=b=>i.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:"",class:"q-ml-sm"})]),_:1})]),_:1}),o(G,{class:"q-mt-md"},{default:l(()=>[o(Y,{class:"u-container rounded-borders"},{default:l(()=>[o(g,{gutter:"md"},{default:l(()=>[o(d,null,{default:l(()=>[o(n,{text:"h1 bold center",class:"q-my-xl q-mx-auto"},{default:l(()=>e[4]||(e[4]=[h("CARRINHO...")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var wa=N(xa,[["render",Va]]);const Ca={data(){return{}},emits:["mudarTela","fecharModal"],methods:{fecharModal(){this.$emit("fecharModal")},btAnterior(){this.$emit("mudarTela","Carrinho")},btProximo(){this.$emit("mudarTela","NotaFiscal")}}};function ka(a,e,u,m,t,i){const n=C("g-label"),d=C("g-col"),g=C("g-row");return p(),y(L,{view:"hHh LpR fFf",class:"bg-light"},{default:l(()=>[o(X,null,{default:l(()=>[o(D,null,{default:l(()=>[o(c,{onClick:e[0]||(e[0]=b=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(ue,{vertical:"",inset:"",class:"q-mx-sm"}),o(c,{onClick:e[1]||(e[1]=b=>i.fecharModal()),icon:"close",round:"",flat:"",dense:""}),o(E,null,{default:l(()=>e[3]||(e[3]=[h("Pagamento")])),_:1}),o(c,{onClick:e[2]||(e[2]=b=>i.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:"",class:"q-ml-sm"})]),_:1})]),_:1}),o(G,{class:"q-mt-md"},{default:l(()=>[o(Y,{class:"u-container rounded-borders"},{default:l(()=>[o(g,{gutter:"md"},{default:l(()=>[o(d,null,{default:l(()=>[o(n,{text:"h1 bold center",class:"q-my-xl q-mx-auto"},{default:l(()=>e[4]||(e[4]=[h("PAGAMENTO...")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var za=N(Ca,[["render",ka]]);const Oa={data(){return{}},emits:["mudarTela","infoAdicionais"],methods:{fecharModal(){this.$emit("fecharModal")},btAnterior(){this.$emit("mudarTela","Pagamento")},btProximo(){this.$emit("mudarTela","TamanhoArmacao")}}};function qa(a,e,u,m,t,i){const n=C("g-label"),d=C("g-col"),g=C("g-row");return p(),y(L,{view:"hHh LpR fFf",class:"bg-light"},{default:l(()=>[o(X,null,{default:l(()=>[o(D,null,{default:l(()=>[o(c,{onClick:e[0]||(e[0]=b=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(ue,{vertical:"",inset:"",class:"q-mx-sm"}),o(c,{onClick:e[1]||(e[1]=b=>i.fecharModal()),icon:"close",round:"",flat:"",dense:""}),o(E,null,{default:l(()=>e[3]||(e[3]=[h("Nota Fiscal")])),_:1}),o(c,{onClick:e[2]||(e[2]=b=>i.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:"",class:"q-ml-sm"})]),_:1})]),_:1}),o(G,{class:"q-mt-md"},{default:l(()=>[o(Y,{class:"u-container rounded-borders"},{default:l(()=>[o(g,{gutter:"md"},{default:l(()=>[o(d,null,{default:l(()=>[o(n,{text:"h1 bold center",class:"q-my-xl q-mx-auto"},{default:l(()=>e[4]||(e[4]=[h("NOTA FISCAL...")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var _a=N(Oa,[["render",qa]]);const Aa={OftalmoscopiaDireta:!1,AcuiVisual:!1,ReflPup:!1,AvaliacaoMotora:!1,Ppc:!1,CoverTeste:!1,ReservasFusionais:!1,Subjetivo:!1,Ambulatorial:!1,Afinamento:!1,Biomicroscopia:!1,RXFinal:!1,Diagnostico:!1},Fa={visivel:!1,sinaisSintomas:"",antecedentePessoais:"",atencedenteFamiliares:"",oftalmoscopiaDireta:{od:{bruckner:null,lente:null,escavacao:null,relacaoAV:null,macula:null,fixacao:null,cor:null,papila:null,observacao:""},oe:{bruckner:null,lente:null,escavacao:null,relacaoAV:null,macula:null,fixacao:null,cor:null,papila:null,observacao:""}},acuiVisual:{od:{VLSC:null,PH:null,VPSC:null,VLCC:null,VPCC:null},oe:{VLSC:null,PH:null,VPSC:null,VLCC:null,VPCC:null},optotipo:""},reflPup:{od:{fotomotor:null,consensual:null,acomodativo:null},oe:{fotomotor:null,consensual:null,acomodativo:null}},avaliacaoMotora:{od:{kappa:null,hirschberg:null,duccoes:null,versoes:{ava_mot_ver_od_0:!1,ava_mot_ver_od_1:!1,ava_mot_ver_od_2:!1,ava_mot_ver_od_3:!1,ava_mot_ver_od_4:!1,ava_mot_ver_od_5:!1},observacao:""},oe:{kappa:null,hirschberg:null,duccoes:null,versoes:{ava_mot_ver_oe_0:!1,ava_mot_ver_oe_1:!1,ava_mot_ver_oe_2:!1,ava_mot_ver_oe_3:!1,ava_mot_ver_oe_4:!1,ava_mot_ver_oe_5:!1},observacao:""}},ppc:{objetoReal:null,luz:null,filtro:null},coverTeste:{sc:{dist6m:null,dist40cm:null,dist20cm:null},cc:{dist6m:null,dist40cm:null,dist20cm:null}},reservasFusionais:{vl:{rfn:null,rfp:null},vp:{rfn:null,rfp:null}},subjetivo:{od:{esf:null,cil:null,eixo:null,avl:null,avp:null},oe:{esf:null,cil:null,eixo:null,avl:null,avp:null},add:{esf:null,cil:null,eixo:null,avl:null,avp:null}},ambulatorial:{od:{esf:null,cil:null,eixo:null,avl:null,avp:null},oe:{esf:null,cil:null,eixo:null,avl:null,avp:null},add:{esf:null,cil:null,eixo:null,avl:null,avp:null}},afinamento:{od:{esf:null,cil:null,eixo:null,avl:null,avp:null},oe:{esf:null,cil:null,eixo:null,avl:null,avp:null},add:{esf:null,cil:null,eixo:null,avl:null,avp:null}},biomicroscopia:{od:{sobrancelhas:null,cilios:null,palpepras:null,conjuntivas:null,corneas:null,iris:null,cristalinos:null,observacao:""},oe:{sobrancelhas:null,cilios:null,palpepras:null,conjuntivas:null,corneas:null,iris:null,cristalinos:null,observacao:""}},rxFinal:{od:{esf:null,cil:null,eixo:null,avl:null,avp:null},oe:{esf:null,cil:null,eixo:null,avl:null,avp:null},add:{esf:null,cil:null,eixo:null,avl:null,avp:null}},diagnostico:{od:{patologico:null,motor:null,refrativo:null},oe:{patologico:null,motor:null,refrativo:null},obs:{patologico:"",motor:"",refrativo:""}}},Pa={components:{ContatoCriar:We,Arquivo:Je},data(){return{abasOptometria:{},camposOptometria:{},verOptometria:!1,abaSelecionada:"dioptria",campos:{id:"",idEmpresa:"",paciente:{id:"",nome:"",idade:""},medico:{id:"",nome:""},data:null,validade:null,observacoes:"",prescricao:{dioptria:{od:{longe:{cilindrico:null,dnp:null,eixo:null,esferico:null,id:"",operacao:"",status:""},medio:{adicao:null,cilindrico:null,dnp:null,eixo:null,esferico:null,id:"",operacao:"",status:""},perto:{adicao:null,cilindrico:null,dnp:null,eixo:null,esferico:null,id:"",operacao:"",status:""}},oe:{longe:{cilindrico:null,dnp:null,eixo:null,esferico:null,id:"",operacao:"",status:""},medio:{adicao:null,cilindrico:null,dnp:null,eixo:null,esferico:null,id:"",operacao:"",status:""},perto:{adicao:null,cilindrico:null,dnp:null,eixo:null,esferico:null,id:"",operacao:"",status:""}}},prisma:{od:{base:"",valor:null},oe:{base:"",valor:null}}}},receitaOriginal:{},confirmaHabilitaPerto:!1,habilitaAE:!1,habilitaMedio:!1,habilitaPerto:!1,odLongeEsferico:null,odMedioAdicao:null,odMedioEsferico:null,odPertoAdicao:null,odPertoEsferico:null,oeLongeEsferico:null,oeMedioAdicao:null,oeMedioEsferico:null,oePertoAdicao:null,oePertoEsferico:null,opcoesPacientes:[],opcoesMedicos:[],visivel:!1,arquivosOriginal:[],arquivos:[]}},emits:["atualizar","mudarTela"],methods:{fecharModal(){this.$emit("fecharModal")},btAnterior(){this.$emit("mudarTela","FotoReceita")},btProximo(){this.$emit("mudarTela","FotoRosto")},visibilidadeOptometriaAlterado(){this.camposOptometria.visivel=this.verOptometria},carregaAbasAbertas(){let a=localStorage.getItem("abasOptometria");if(a){const e=JSON.parse(a);this.abasOptometria.OftalmoscopiaDireta=e.OftalmoscopiaDireta,this.abasOptometria.AcuiVisual=e.AcuiVisual,this.abasOptometria.ReflPup=e.ReflPup,this.abasOptometria.AvaliacaoMotora=e.AvaliacaoMotora,this.abasOptometria.Ppc=e.Ppc,this.abasOptometria.CoverTeste=e.CoverTeste,this.abasOptometria.ReservasFusionais=e.ReservasFusionais,this.abasOptometria.Subjetivo=e.Subjetivo,this.abasOptometria.Ambulatorial=e.Ambulatorial,this.abasOptometria.Afinamento=e.Afinamento,this.abasOptometria.Biomicroscopia=e.Biomicroscopia,this.abasOptometria.RXFinal=e.RXFinal,this.abasOptometria.Diagnostico=e.Diagnostico}},setAba(){localStorage.setItem("abasOptometria",JSON.stringify({OftalmoscopiaDireta:this.abasOptometria.OftalmoscopiaDireta,AcuiVisual:this.abasOptometria.AcuiVisual,ReflPup:this.abasOptometria.ReflPup,AvaliacaoMotora:this.abasOptometria.AvaliacaoMotora,Ppc:this.abasOptometria.Ppc,CoverTeste:this.abasOptometria.CoverTeste,ReservasFusionais:this.abasOptometria.ReservasFusionais,Subjetivo:this.abasOptometria.Subjetivo,Ambulatorial:this.abasOptometria.Ambulatorial,Afinamento:this.abasOptometria.Afinamento,Biomicroscopia:this.abasOptometria.Biomicroscopia,RXFinal:this.abasOptometria.RXFinal,Diagnostico:this.abasOptometria.Diagnostico}))},calcDates(a){const e=a.split("/");var u=new Date().getFullYear();return Number(u)-Number(e[2])},async criarOpcoesPacientes(){try{const a=await $db.contato.leFilhos($db.contato.selecionado.id);a.push($db.contato.selecionado);const e=a.map(u=>({label:u.nome,value:u.id,avisoRotulo:$filters.data(u.dataAbertura)+" "+this.calcDates($filters.data(u.dataAbertura))+"anos"}));return e.sort((u,m)=>u.label<m.label?1:-1),e}catch(a){this.$q.notifyError("N\xE3o foi poss\xEDvel carregar os dados de pacientes",a)}},filtrarPacientes(a,e){setTimeout(()=>{e(async()=>{const u=await this.criarOpcoesPacientes();if(a==="")this.opcoesPacientes=u;else{const m=$utils.removerAcentos(a.toLowerCase()).split(" ");this.opcoesPacientes=u.filter(t=>{const i=$utils.removerAcentos(t.label.toLowerCase());for(const n of m)if(!(i.indexOf(n)>-1))return!1;return!0})}})},500)},async criarOpcoesMedicos(a){try{const u=(await $db.contato.ler({filtros:{termoBusca:a,ativo:!0,medicos:!0}})).data.map(m=>{var t;return{label:m.nome,sublabel:((t=m.numeroDocumentoMunicipal)!=null?t:"").trim(),value:m.id}});return u.sort((m,t)=>m.label<t.label?1:-1),u}catch(e){this.$q.notifyError("N\xE3o foi poss\xEDvel carregar os dados de m\xE9dicos",e)}},async filtrarMedicos(a,e){const u=await this.criarOpcoesMedicos(a);e(()=>{if(a==="")this.opcoesMedicos=u;else{const m=$utils.removerAcentos(a.toLowerCase()).split(" ");this.opcoesMedicos=u.filter(t=>{const i=$utils.removerAcentos(t.label.toLowerCase()+" "+t.sublabel.toLowerCase());for(const n of m)if(!(i.indexOf(n)>-1))return!1;return!0})}})},async abrirModalDependente(){const a=await this.$refs.modalDependente.mostrar();(a||{}).id&&this.criarDependencia(a)},async abrirModalMedico(){const a=await this.$refs.modalMedico.mostrar();(a||{}).id&&this.criarMedico(a)},async aoCopiarODOE(a){$q.dialog({message:"Esta a\xE7\xE3o ir\xE1 sobrescrever os dados do olho esquerdo.",title:"Tem certeza?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(()=>{a()})},selecionarPaciente(a){this.campos.paciente.nome=a.label,this.campos.paciente.avisoRotulo=a.avisoRotulo,this.campos.paciente.id=a.value},async atualizar(){$q.loading.show();try{this.carregaAbasAbertas();const a=await $db.receita.le({id:this.id});this.campos=a,this.receitaOriginal=$utils.clonar(a),this.campos.idEmpresa||(this.campos.idEmpresa=this.idEmpresa);let e=!1;(this.campos.prescricao.dioptria.od.longe.esferico||this.campos.prescricao.dioptria.od.longe.cilindrico||this.campos.prescricao.dioptria.od.longe.eixo||this.campos.prescricao.dioptria.od.longe.dnp||this.campos.prescricao.dioptria.oe.longe.esferico||this.campos.prescricao.dioptria.oe.longe.cilindrico||this.campos.prescricao.dioptria.oe.longe.eixo||this.campos.prescricao.dioptria.oe.longe.dnp)&&(e=!0),(this.campos.prescricao.dioptria.od.medio.esferico||this.campos.prescricao.dioptria.od.medio.adicao||this.campos.prescricao.dioptria.od.medio.dnp||this.campos.prescricao.dioptria.oe.medio.esferico||this.campos.prescricao.dioptria.oe.medio.adicao||this.campos.prescricao.dioptria.oe.medio.dnp)&&(this.habilitaMedio=!0),!e&&(this.campos.prescricao.dioptria.od.perto.cilindrico||this.campos.prescricao.dioptria.od.perto.eixo||this.campos.prescricao.dioptria.oe.perto.cilindrico||this.campos.prescricao.dioptria.oe.perto.eixo)&&(this.confirmaHabilitaPerto=this.habilitaPerto=!0),this.odLongeEsferico=this.campos.prescricao.dioptria.od.longe.esferico,this.oeLongeEsferico=this.campos.prescricao.dioptria.oe.longe.esferico,this.odMedioAdicao=this.campos.prescricao.dioptria.od.medio.adicao,this.oeMedioAdicao=this.campos.prescricao.dioptria.oe.medio.adicao,this.odMedioEsferico=this.campos.prescricao.dioptria.od.medio.esferico,this.oeMedioEsferico=this.campos.prescricao.dioptria.oe.medio.esferico,this.odPertoAdicao=this.campos.prescricao.dioptria.od.perto.adicao,this.oePertoAdicao=this.campos.prescricao.dioptria.oe.perto.adicao,this.odPertoEsferico=this.campos.prescricao.dioptria.od.perto.esferico,this.oePertoEsferico=this.campos.prescricao.dioptria.oe.perto.esferico,this.arquivosOriginal=await $db.arquivo.ler({filtros:{idTabelaMaster:this.id}}),this.arquivos=$utils.clonarV2(this.arquivosOriginal),await this.carregarOptometria()}catch(a){$q.notifyError("Ocorreu erro ao consultar a receita"),console.error(a)}finally{$q.loading.hide()}},atualizarValidade(){if(this.campos.data){let a=new Date(this.campos.data);a.setFullYear(a.getFullYear()+1),this.campos.validade=be.formatDate(a)}},calcularAE(){let a=this.campos.prescricao.dioptria.od.longe.esferico,e=this.campos.prescricao.dioptria.oe.longe.esferico;if(this.habilitaMedio){let u=this.campos.prescricao.dioptria.od.medio.adicao,m=this.campos.prescricao.dioptria.od.medio.esferico;(u!==this.odMedioAdicao||m!==this.odMedioEsferico||a!==this.odLongeEsferico&&(!!u||!!m))&&(this.habilitaAE?u=m===null||a===null?null:m-a:m=a===null||u===null?null:a+u,this.odLongeEsferico=this.campos.prescricao.dioptria.od.longe.esferico=a,this.odMedioAdicao=this.campos.prescricao.dioptria.od.medio.adicao=u,this.odMedioEsferico=this.campos.prescricao.dioptria.od.medio.esferico=m);let t=this.campos.prescricao.dioptria.oe.medio.adicao,i=this.campos.prescricao.dioptria.oe.medio.esferico;(t!==this.oeMedioAdicao||i!==this.oeMedioEsferico||e!==this.oeLongeEsferico&&(!!t||!!i))&&(this.habilitaAE?t=i===null||e===null?null:i-e:i=e===null||t===null?null:e+t,this.oeLongeEsferico=this.campos.prescricao.dioptria.oe.longe.esferico=e,this.oeMedioAdicao=this.campos.prescricao.dioptria.oe.medio.adicao=t,this.oeMedioEsferico=this.campos.prescricao.dioptria.oe.medio.esferico=i)}if(!this.habilitaPerto){let u=this.campos.prescricao.dioptria.od.perto.adicao,m=this.campos.prescricao.dioptria.od.perto.esferico;(u!==this.odPertoAdicao||m!==this.odPertoEsferico||a!==this.odLongeEsferico&&(!!u||!!m))&&(this.habilitaAE?u=m===null||a===null?null:m-a:m=a===null||u===null?null:a+u,this.odLongeEsferico=this.campos.prescricao.dioptria.od.longe.esferico=a,this.odPertoAdicao=this.campos.prescricao.dioptria.od.perto.adicao=u,this.odPertoEsferico=this.campos.prescricao.dioptria.od.perto.esferico=m);let t=this.campos.prescricao.dioptria.oe.perto.adicao,i=this.campos.prescricao.dioptria.oe.perto.esferico;(t!==this.oePertoAdicao||i!==this.oePertoEsferico||e!==this.oeLongeEsferico&&(!!t||!!i))&&(this.habilitaAE?t=i===null||e===null?null:i-e:i=e===null||t===null?null:e+t,this.oeLongeEsferico=this.campos.prescricao.dioptria.oe.longe.esferico=e,this.oePertoAdicao=this.campos.prescricao.dioptria.oe.perto.adicao=t,this.oePertoEsferico=this.campos.prescricao.dioptria.oe.perto.esferico=i)}},copiarODDioptria(){this.aoCopiarODOE(()=>{this.campos.prescricao.dioptria.oe.longe.cilindrico=this.campos.prescricao.dioptria.od.longe.cilindrico,this.campos.prescricao.dioptria.oe.longe.dnp=this.campos.prescricao.dioptria.od.longe.dnp,this.campos.prescricao.dioptria.oe.longe.eixo=this.campos.prescricao.dioptria.od.longe.eixo,this.campos.prescricao.dioptria.oe.longe.esferico=this.campos.prescricao.dioptria.od.longe.esferico,this.campos.prescricao.dioptria.oe.medio.adicao=this.campos.prescricao.dioptria.od.medio.adicao,this.campos.prescricao.dioptria.oe.medio.dnp=this.campos.prescricao.dioptria.od.medio.dnp,this.campos.prescricao.dioptria.oe.medio.esferico=this.campos.prescricao.dioptria.od.medio.esferico,this.campos.prescricao.dioptria.oe.medio.cilindrico=this.campos.prescricao.dioptria.od.medio.cilindrico,this.campos.prescricao.dioptria.oe.medio.eixo=this.campos.prescricao.dioptria.od.medio.eixo,this.campos.prescricao.dioptria.oe.perto.adicao=this.campos.prescricao.dioptria.od.perto.adicao,this.campos.prescricao.dioptria.oe.perto.cilindrico=this.campos.prescricao.dioptria.od.perto.cilindrico,this.campos.prescricao.dioptria.oe.perto.dnp=this.campos.prescricao.dioptria.od.perto.dnp,this.campos.prescricao.dioptria.oe.perto.eixo=this.campos.prescricao.dioptria.od.perto.eixo,this.campos.prescricao.dioptria.oe.perto.esferico=this.campos.prescricao.dioptria.od.perto.esferico})},copiarODPrisma(){this.aoCopiarODOE(()=>{this.campos.prescricao.prisma.oe=$utils.clonar(this.campos.prescricao.prisma.od)})},async criarDependencia(a){try{await $db.contato.criarDependenciaContatos({contatoPai:$db.contato.selecionado,contatoFilho:a}),await $db.contato.carregarMemoria($db.contato.selecionado.id),await $db.contato.carregarMemoria(a.id),this.campos.paciente.id=a.id,this.campos.paciente.nome=a.nome}catch(e){this.$q.notifyError("Ocorreu um erro ao criar a depend\xEAncia.",e)}},async criarMedico(a){try{await $db.contato.criarContatoGrupo({idContato:a.id,descricaoGrupo:"M\xE9dico"}),await $db.contato.carregarMemoria(a.id),this.campos.medico.id=a.id,this.campos.medico.nome=a.nome}catch(e){this.$q.notifyError("Ocorreu um erro ao adicionar o contato ao grupo M\xE9dico.",e)}},selecionarMedico(a){this.campos.medico.id=a.value,this.campos.medico.nome=a.label},async salvarReceita(){let a="Ocorreu um erro ao salvar a receita.";try{let e=new Date().setHours(0,0,0,0),u=new Date(this.campos.data).setHours(0,0,0,0);$utils.verificarErro(!this.campos.data||!this.campos.validade,"Preencha o per\xEDodo."),$utils.verificarErro(u>e,"Data da receita n\xE3o pode ser maior que hoje."),$utils.verificarErro(!this.campos.medico.id||!this.campos.medico.nome,"Selecione o m\xE9dico."),$utils.verificarErro(!this.campos.paciente.id||!this.campos.paciente.nome,"Selecione o paciente.");let m="Receita salva com sucesso.";this.duplicarReceita&&(this.campos.id=$utils.uuid(),this.campos.medico.idDocumentoContato=$utils.uuid(),this.campos.prescricao.dioptria.od.longe.id=$utils.uuid(),this.campos.prescricao.dioptria.od.medio.id=$utils.uuid(),this.campos.prescricao.dioptria.od.perto.id=$utils.uuid(),this.campos.prescricao.dioptria.oe.longe.id=$utils.uuid(),this.campos.prescricao.dioptria.oe.medio.id=$utils.uuid(),this.campos.prescricao.dioptria.oe.perto.id=$utils.uuid(),delete this.campos.dadosOriginais,m="Receita duplicada com sucesso.",a="Ocorreu um erro ao duplicar a receita."),this.$q.loading.show({delay:200,message:"Salvando a receita"}),await $db.receita.grava(this.campos),await this.gravarOptometria(),await $db.arquivo.remove(this.arquivosOriginal.filter(t=>!this.arquivos.find(i=>i.id===t.id)));for(const t of this.arquivos){let i={};Object.keys(this.arquivosOriginal).length?i={original:this.arquivosOriginal.find(n=>n.id===t.id)||[{}],atual:t}:i={atual:t},(t==null?void 0:t.name)&&(t==null?void 0:t.editado)&&await $db.arquivo.edita(i),t!=null&&t.name||await $db.arquivo.grava(i)}this.visivel=!1,this.$q.notifyPositive(m),this.$emit("atualizar")}catch(e){this.$q.notifyError(a,e)}finally{this.$q.loading.hide()}},async zerarCamposLongeMedio(){const a=async()=>{await this.zerarCamposMedio(!1),this.campos.prescricao.dioptria.od.longe.esferico=null,this.campos.prescricao.dioptria.od.longe.cilindrico=null,this.campos.prescricao.dioptria.od.longe.eixo=null,this.campos.prescricao.dioptria.od.longe.dnp=null,this.campos.prescricao.dioptria.od.perto.adicao=null,this.campos.prescricao.dioptria.od.perto.esferico=null,this.campos.prescricao.dioptria.od.perto.dnp=null,this.campos.prescricao.dioptria.od.perto.cilindrico=null,this.campos.prescricao.dioptria.od.perto.eixo=null,this.campos.prescricao.dioptria.oe.longe.esferico=null,this.campos.prescricao.dioptria.oe.longe.cilindrico=null,this.campos.prescricao.dioptria.oe.longe.eixo=null,this.campos.prescricao.dioptria.oe.longe.dnp=null,this.campos.prescricao.dioptria.oe.perto.adicao=null,this.campos.prescricao.dioptria.oe.perto.esferico=null,this.campos.prescricao.dioptria.oe.perto.dnp=null,this.campos.prescricao.dioptria.oe.perto.cilindrico=null,this.campos.prescricao.dioptria.oe.perto.eixo=null};let e=!1;this.habilitaPerto?e=this.campos.prescricao.dioptria.od.longe.esferico||this.campos.prescricao.dioptria.od.longe.cilindrico||this.campos.prescricao.dioptria.od.longe.eixo||this.campos.prescricao.dioptria.od.longe.dnp||this.campos.prescricao.dioptria.od.medio.adicao||this.campos.prescricao.dioptria.od.medio.esferico||this.campos.prescricao.dioptria.od.medio.dnp||this.campos.prescricao.dioptria.od.perto.adicao||this.campos.prescricao.dioptria.od.perto.esferico||this.campos.prescricao.dioptria.od.perto.dnp||this.campos.prescricao.dioptria.oe.longe.esferico||this.campos.prescricao.dioptria.oe.longe.cilindrico||this.campos.prescricao.dioptria.oe.longe.eixo||this.campos.prescricao.dioptria.oe.longe.dnp||this.campos.prescricao.dioptria.oe.medio.adicao||this.campos.prescricao.dioptria.oe.medio.esferico||this.campos.prescricao.dioptria.oe.medio.dnp||this.campos.prescricao.dioptria.oe.perto.adicao||this.campos.prescricao.dioptria.oe.perto.esferico||this.campos.prescricao.dioptria.oe.perto.dnp:e=this.campos.prescricao.dioptria.od.perto.esferico||this.campos.prescricao.dioptria.od.perto.dnp||this.campos.prescricao.dioptria.od.perto.cilindrico||this.campos.prescricao.dioptria.od.perto.eixo||this.campos.prescricao.dioptria.oe.perto.esferico||this.campos.prescricao.dioptria.oe.perto.dnp||this.campos.prescricao.dioptria.oe.perto.cilindrico||this.campos.prescricao.dioptria.oe.perto.eixo,e?await new Promise((u,m)=>{this.$q.dialog({message:"Ao continuar os dados ser\xE3o perdidos.",noRefocus:!0,preventClose:!0,title:"Tem certeza?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(()=>{a().then(()=>{this.habilitaMedio=!1,this.habilitaAE=!1})}).onCancel(()=>{this.habilitaPerto=!this.habilitaPerto}).onDismiss(()=>{u()})}):(this.habilitaMedio=!1,this.habilitaAE=!1),this.confirmaHabilitaPerto=this.habilitaPerto},async zerarCamposMedio(a){const e=()=>{this.odMedioAdicao=this.campos.prescricao.dioptria.od.medio.adicao=null,this.odMedioEsferico=this.campos.prescricao.dioptria.od.medio.esferico=null,this.campos.prescricao.dioptria.od.medio.dnp=null,this.oeMedioAdicao=this.campos.prescricao.dioptria.oe.medio.adicao=null,this.oeMedioEsferico=this.campos.prescricao.dioptria.oe.medio.esferico=null,this.campos.prescricao.dioptria.oe.medio.dnp=null,this.campos.prescricao.dioptria.od.medio.cilindrico=null,this.campos.prescricao.dioptria.od.medio.eixo=null,this.campos.prescricao.dioptria.oe.medio.cilindrico=null,this.campos.prescricao.dioptria.oe.medio.eixo=null};a?(this.campos.prescricao.dioptria.od.medio.adicao||this.campos.prescricao.dioptria.od.medio.esferico||this.campos.prescricao.dioptria.od.medio.dnp||this.campos.prescricao.dioptria.oe.medio.adicao||this.campos.prescricao.dioptria.oe.medio.esferico||this.campos.prescricao.dioptria.oe.medio.dnp)&&await new Promise((m,t)=>{this.$q.dialog({message:"Ao continuar os dados ser\xE3o perdidos.",noRefocus:!0,preventClose:!0,title:"Tem certeza?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(()=>{e()}).onCancel(()=>{this.habilitaMedio=!this.habilitaMedio}).onDismiss(()=>{m()})}):e()},calcularDnpPerto(a){if(a==="direito"){const e=(this.campos.prescricao.dioptria.od.perto.adicao||this.campos.prescricao.dioptria.od.perto.esferico)&&!this.campos.prescricao.dioptria.od.perto.dnp,u=this.campos.prescricao.dioptria.od.longe.dnp;$utils.isNumber(u)&&!!u&&e&&(this.campos.prescricao.dioptria.od.perto.dnp=u-1.5)}if(a==="esquerdo"){const e=(this.campos.prescricao.dioptria.oe.perto.adicao||this.campos.prescricao.dioptria.oe.perto.esferico)&&!this.campos.prescricao.dioptria.oe.perto.dnp,u=this.campos.prescricao.dioptria.oe.longe.dnp;$utils.isNumber(u)&&!!u&&e&&(this.campos.prescricao.dioptria.oe.perto.dnp=u-1.5)}},async mostrar(a){const{duplicarReceita:e=!1,id:u="",idEmpresa:m=""}=a;this.id=u,this.idEmpresa=m,this.duplicarReceita=e,this.abaSelecionada="dioptria",this.habilitaAE=!1,this.habilitaMedio=!1,this.habilitaPerto=this.confirmaHabilitaPerto=!1,this.abasOptometria=$utils.clonarV2(Aa),this.camposOptometria=$utils.clonarV2(Fa),this.verOptometria=!1,await this.atualizar(),this.visivel=!0},async carregarOptometria(){let a;this.optometriaOriginal=await $db.receita.obterOptometria({idDocumento:this.id}),a=this.optometriaOriginal.json,a&&(this.camposOptometria=JSON.parse(a),this.verOptometria=this.camposOptometria.visivel)},async gravarOptometria(){const a=this.optometriaOriginal,e={...this.optometriaOriginal,json:JSON.stringify(this.camposOptometria)};await $db.receita.gravarOptometria({original:a,atual:e,idDocumento:this.id})}},mixins:[Ze]},Ma={class:"layout-padding q-pa-none q-pb-md q-mt-md"},Ua={class:"u-container"},Ta={class:"col-12 col-md-3"},Da={class:"col-12 col-md-3"},ja={class:"col-12 col-md-3"},Ea={class:"col-12 col-md-3"},Ra={class:"q-pa-md"},Ia={class:"col-12 col-md-4"},Ba={class:"col-12 col-md-4"},La={class:"col-12 col-md-4"},Na={class:"q-pa-md"},Sa={key:0,class:"col-xs-12 col-md-6"},Ha={style:{"overflow-x":"auto"}},Qa={key:0},Xa={key:1},Ga={key:2},Ya={key:3},Wa={key:1,class:"col-xs-12 col-md-3"},Ja={style:{"overflow-x":"auto"}},Za={key:0,class:"esferico"},Ka={key:1,class:"esferico"},$a={key:2,class:"dnp"},es={key:0},os={key:1},ts={key:0},ls={key:1},as={style:{"overflow-x":"auto"}},ss={key:0,class:"esferico"},is={key:1,class:"esferico"},rs={key:2,class:"esferico"},ns={key:3,class:"cilindrico"},ds={key:4,class:"eixo"},us={key:0},ms={key:1},cs={key:0},ps={key:1},fs={class:"col-12 col-md-auto"},bs={class:"col-12 col-md"},gs={class:"q-pa-md"},vs={class:"col"},hs={class:"col"},ys={class:"col-12 col-md-auto q-pt-none text-center"},xs={class:"col-12 col-md"},Vs={class:"q-pa-md"},ws={class:"col"},Cs={class:"col"},ks={class:"q-pa-md"},zs={class:"col"},Os={style:{"font-size":".9rem","font-weight":"bold"}},qs={class:"col"},_s={style:{"font-size":".9rem","font-weight":"bold"}},As={class:"col"},Fs={style:{"font-size":".9rem","font-weight":"bold"}},Ps={class:"col"},Ms={style:{"font-size":".9rem","font-weight":"bold"}},Us={class:"col"},Ts={style:{"font-size":".9rem","font-weight":"bold"}},Ds={class:"col"},js={style:{"font-size":".9rem","font-weight":"bold"}},Es={class:"col"},Rs={style:{"font-size":".9rem","font-weight":"bold"}},Is={class:"col"},Bs={style:{"font-size":".9rem","font-weight":"bold"}},Ls={class:"col"},Ns={style:{"font-size":".9rem","font-weight":"bold"}},Ss={class:"col"},Hs={style:{"font-size":".9rem","font-weight":"bold"}},Qs={class:"col"},Xs={style:{"font-size":".9rem","font-weight":"bold"}},Gs={class:"col"},Ys={style:{"font-size":".9rem","font-weight":"bold"}},Ws={class:"col"},Js={style:{"font-size":".9rem","font-weight":"bold"}},Zs={class:"col"},Ks={style:{"font-size":".9rem","font-weight":"bold"}},$s={class:"col"},ei={style:{"font-size":".9rem","font-weight":"bold"}},oi={class:"col"},ti={style:{"font-size":".9rem","font-weight":"bold"}},li={class:"col"},ai={style:{"font-size":".9rem","font-weight":"bold"}},si={class:"col"},ii={style:{"font-size":".9rem","font-weight":"bold"}},ri={class:"q-pa-md"},ni={class:"col"},di={class:"col"},ui={class:"col"},mi={class:"col"},ci={class:"col"},pi={class:"col"},fi={class:"col"},bi={class:"col"},gi={class:"col"},vi={class:"col"},hi={class:"col-12 q-mt-sm"},yi={class:"q-pa-md"},xi={class:"col"},Vi={class:"col"},wi={class:"col"},Ci={class:"col"},ki={class:"col"},zi={class:"col"},Oi={class:"q-pa-md"},qi={class:"col"},_i={style:{"font-size":".9rem","font-weight":"bold"}},Ai={class:"col"},Fi={style:{"font-size":".9rem","font-weight":"bold"}},Pi={class:"col"},Mi={style:{"font-size":".9rem","font-weight":"bold"}},Ui={class:"col"},Ti={style:{"font-size":".9rem","font-weight":"bold"}},Di={class:"col"},ji={style:{"font-size":".9rem","font-weight":"bold"}},Ei={class:"col"},Ri={style:{"font-size":".9rem","font-weight":"bold"}},Ii={class:"col"},Bi={class:"versoes"},Li={class:"checkbox checkbox-success ex-0"},Ni={class:"checkbox checkbox-success ex-1"},Si={class:"checkbox checkbox-success ex-2"},Hi={class:"checkbox checkbox-success ex-3"},Qi={class:"checkbox checkbox-success ex-4"},Xi={class:"checkbox checkbox-success ex-5"},Gi={class:"col"},Yi={class:"versoes"},Wi={class:"checkbox checkbox-success ex-0"},Ji={class:"checkbox checkbox-success ex-1"},Zi={class:"checkbox checkbox-success ex-2"},Ki={class:"checkbox checkbox-success ex-3"},$i={class:"checkbox checkbox-success ex-4"},er={class:"checkbox checkbox-success ex-5"},or={class:"col"},tr={style:{"font-size":".9rem","font-weight":"bold"}},lr={class:"col"},ar={style:{"font-size":".9rem","font-weight":"bold"}},sr={class:"q-pa-md"},ir={class:"col"},rr={class:"col"},nr={class:"col"},dr={class:"q-pa-md"},ur={class:"col"},mr={style:{"font-size":".9rem","font-weight":"bold"}},cr={class:"col"},pr={style:{"font-size":".9rem","font-weight":"bold"}},fr={class:"col"},br={style:{"font-size":".9rem","font-weight":"bold"}},gr={class:"col"},vr={style:{"font-size":".9rem","font-weight":"bold"}},hr={class:"col"},yr={style:{"font-size":".9rem","font-weight":"bold"}},xr={class:"col"},Vr={style:{"font-size":".9rem","font-weight":"bold"}},wr={class:"q-pa-md"},Cr={class:"col"},kr={style:{"font-size":".9rem","font-weight":"bold"}},zr={class:"col"},Or={style:{"font-size":".9rem","font-weight":"bold"}},qr={class:"col"},_r={style:{"font-size":".9rem","font-weight":"bold"}},Ar={class:"col"},Fr={style:{"font-size":".9rem","font-weight":"bold"}},Pr={class:"q-pa-md"},Mr={class:"col"},Ur={class:"col"},Tr={class:"col"},Dr={class:"col"},jr={class:"col"},Er={class:"col"},Rr={class:"col"},Ir={class:"col"},Br={class:"col"},Lr={class:"col"},Nr={class:"col"},Sr={class:"col"},Hr={class:"col"},Qr={class:"col"},Xr={class:"col"},Gr={class:"q-pa-md"},Yr={class:"col"},Wr={class:"col"},Jr={class:"col"},Zr={class:"col"},Kr={class:"col"},$r={class:"col"},en={class:"col"},on={class:"col"},tn={class:"col"},ln={class:"col"},an={class:"col"},sn={class:"col"},rn={class:"col"},nn={class:"col"},dn={class:"col"},un={class:"q-pa-md"},mn={class:"col"},cn={class:"col"},pn={class:"col"},fn={class:"col"},bn={class:"col"},gn={class:"col"},vn={class:"col"},hn={class:"col"},yn={class:"col"},xn={class:"col"},Vn={class:"col"},wn={class:"col"},Cn={class:"col"},kn={class:"col"},zn={class:"col"},On={class:"q-pa-md"},qn={class:"col"},_n={style:{"font-size":".9rem","font-weight":"bold"}},An={class:"col"},Fn={style:{"font-size":".9rem","font-weight":"bold"}},Pn={class:"col"},Mn={style:{"font-size":".9rem","font-weight":"bold"}},Un={class:"col"},Tn={style:{"font-size":".9rem","font-weight":"bold"}},Dn={class:"col"},jn={style:{"font-size":".9rem","font-weight":"bold"}},En={class:"col"},Rn={style:{"font-size":".9rem","font-weight":"bold"}},In={class:"col"},Bn={style:{"font-size":".9rem","font-weight":"bold"}},Ln={class:"col"},Nn={style:{"font-size":".9rem","font-weight":"bold"}},Sn={class:"col"},Hn={style:{"font-size":".9rem","font-weight":"bold"}},Qn={class:"col"},Xn={style:{"font-size":".9rem","font-weight":"bold"}},Gn={class:"col"},Yn={style:{"font-size":".9rem","font-weight":"bold"}},Wn={class:"col"},Jn={style:{"font-size":".9rem","font-weight":"bold"}},Zn={class:"col"},Kn={style:{"font-size":".9rem","font-weight":"bold"}},$n={class:"col"},ed={style:{"font-size":".9rem","font-weight":"bold"}},od={class:"col"},td={style:{"font-size":".9rem","font-weight":"bold"}},ld={class:"col"},ad={style:{"font-size":".9rem","font-weight":"bold"}},sd={class:"q-pa-md"},id={class:"col"},rd={class:"col"},nd={class:"col"},dd={class:"col"},ud={class:"col"},md={class:"col"},cd={class:"col"},pd={class:"col"},fd={class:"col"},bd={class:"col"},gd={class:"col"},vd={class:"col"},hd={class:"col"},yd={class:"col"},xd={class:"col"},Vd={class:"q-pa-md"},wd={class:"col"},Cd={class:"col"},kd={class:"col"},zd={class:"col"},Od={class:"col"},qd={class:"col"},_d={class:"col"},Ad={class:"col"},Fd={class:"col"},Pd={class:"col-12 col-md-6"},Md={class:"col-12 col-md-6"};function Ud(a,e,u,m,t,i){const n=C("campo"),d=C("row"),g=C("Arquivo"),b=C("contato-criar");return p(),y(L,{container:"",class:"bg-light"},{default:l(()=>[r("form",{onSubmit:e[218]||(e[218]=q((...s)=>i.salvarReceita&&i.salvarReceita(...s),["prevent"]))},[o(X,null,{default:l(()=>[o(D,null,{default:l(()=>[o(c,{onClick:e[0]||(e[0]=s=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(ue,{vertical:"",inset:"",class:"q-mx-sm"}),o(c,{onClick:e[1]||(e[1]=s=>i.fecharModal()),icon:"close",round:"",flat:"",dense:""}),o(E,null,{default:l(()=>e[219]||(e[219]=[h("Receita")])),_:1}),o(ke),o(d,{class:"items-center"},{default:l(()=>[o(n,{modelValue:t.verOptometria,"onUpdate:modelValue":[e[2]||(e[2]=s=>t.verOptometria=s),i.visibilidadeOptometriaAlterado],rotulo:"Optometria",tipo:"logico",dense:"",class:"q-mr-md",color:"white"},null,8,["modelValue","onUpdate:modelValue"]),o(c,{onClick:e[3]||(e[3]=s=>i.btProximo()),label:"Salvar",color:"white","text-color":"tertiary",unelevated:"",class:"q-ml-sm"})]),_:1})]),_:1})]),_:1}),o(G,null,{default:l(()=>[o(Y,null,{default:l(()=>[r("div",Ma,[r("div",Ua,[o(Q,{class:"bg-white no-shadow q-pa-md q-mb-md"},{default:l(()=>[o(d,{class:"q-col-gutter-md"},{default:l(()=>[r("div",Ta,[o(he,{"model-value":t.campos.paciente.nome,"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",dense:"",label:"Paciente",options:t.opcoesPacientes,onFilter:i.filtrarPacientes,"onUpdate:modelValue":i.selecionarPaciente,hint:t.campos.paciente.avisoRotulo},{prepend:l(()=>[o(c,{color:"tertiary",size:"md",icon:"person_add",dense:"",flat:"",round:"",onClick:q(i.abrirModalDependente,["stop"])},{default:l(()=>[o(K,null,{default:l(()=>e[220]||(e[220]=[h("Incluir paciente")])),_:1})]),_:1},8,["onClick"])]),"no-option":l(()=>[o(R,null,{default:l(()=>[o(F,{class:"text-grey"},{default:l(()=>e[221]||(e[221]=[h(" Resultado n\xE3o encontrado ")])),_:1})]),_:1})]),_:1},8,["model-value","options","onFilter","onUpdate:modelValue","hint"])]),r("div",Da,[o(he,{"model-value":t.campos.medico.nome,"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",dense:"",label:"M\xE9dico ou Optometrista",options:t.opcoesMedicos,onFilter:i.filtrarMedicos,"onUpdate:modelValue":i.selecionarMedico},{prepend:l(()=>[o(c,{color:"tertiary",size:"md",icon:"person_add",dense:"",flat:"",round:"",onClick:q(i.abrirModalMedico,["stop"])},{default:l(()=>[o(K,null,{default:l(()=>e[222]||(e[222]=[h("Incluir m\xE9dico")])),_:1})]),_:1},8,["onClick"])]),"no-option":l(()=>[o(R,null,{default:l(()=>[o(F,{class:"text-grey"},{default:l(()=>e[223]||(e[223]=[h(" Resultado n\xE3o encontrado ")])),_:1})]),_:1})]),option:l(s=>[o(R,Ke($e(s.itemProps)),{default:l(()=>[o(F,null,{default:l(()=>[o(H,null,{default:l(()=>[h(O(s.opt.label),1)]),_:2},1024),s.opt.sublabel?(p(),y(H,{key:0,caption:""},{default:l(()=>[e[224]||(e[224]=r("strong",null,"CRM: ",-1)),h(" "+O(s.opt.sublabel),1)]),_:2},1024)):w("",!0)]),_:2},1024)]),_:2},1040)]),_:1},8,["model-value","options","onFilter","onUpdate:modelValue"])]),r("div",ja,[o(n,{modelValue:t.campos.data,"onUpdate:modelValue":[e[4]||(e[4]=s=>t.campos.data=s),e[5]||(e[5]=s=>i.atualizarValidade())],maxlength:"10",rotulo:"Data",tipo:"data"},null,8,["modelValue"])]),r("div",Ea,[o(n,{modelValue:t.campos.validade,"onUpdate:modelValue":e[6]||(e[6]=s=>t.campos.validade=s),maxlength:"10",rotulo:"Validade",tipo:"data"},null,8,["modelValue"])]),o(n,{modelValue:t.campos.observacoes,"onUpdate:modelValue":e[7]||(e[7]=s=>t.campos.observacoes=s),class:"col-12",maxlength:"4096",rotulo:"Observa\xE7\xF5es",rows:"2",tipo:"textoArea",autogrow:""},null,8,["modelValue"])]),_:1})]),_:1}),t.verOptometria?(p(),y(Q,{key:0,class:"bg-white q-mb-md no-shadow"},{default:l(()=>[o(D,{class:"text-tertiary"},{default:l(()=>[o(B,{name:"history",size:"24px"}),o(E,null,{default:l(()=>e[225]||(e[225]=[h("Motivos da consulta")])),_:1})]),_:1}),r("div",Ra,[o(d,{class:"q-col-gutter-md"},{default:l(()=>[r("div",Ia,[o(n,{modelValue:t.camposOptometria.sinaisSintomas,"onUpdate:modelValue":e[8]||(e[8]=s=>t.camposOptometria.sinaisSintomas=s),class:"col-12",maxlength:"4096",rotulo:"Sinais e Sintomas",rows:"2",tipo:"textoArea",autogrow:""},null,8,["modelValue"])]),r("div",Ba,[o(n,{modelValue:t.camposOptometria.antecedentesPessoais,"onUpdate:modelValue":e[9]||(e[9]=s=>t.camposOptometria.antecedentesPessoais=s),class:"col-12",maxlength:"4096",rotulo:"Antecedentes Pessoais",rows:"2",tipo:"textoArea",autogrow:""},null,8,["modelValue"])]),r("div",La,[o(n,{modelValue:t.camposOptometria.antecedentesFamiliares,"onUpdate:modelValue":e[10]||(e[10]=s=>t.camposOptometria.antecedentesFamiliares=s),class:"col-12",maxlength:"4096",rotulo:"Antecedentes Familiares",rows:"2",tipo:"textoArea",autogrow:""},null,8,["modelValue"])])]),_:1})])]),_:1})):w("",!0),o(Q,{class:"bg-white q-mb-md no-shadow"},{default:l(()=>[o(D,{class:"text-tertiary"},{default:l(()=>[o(B,{name:"image",size:"24px"}),o(E,null,{default:l(()=>e[226]||(e[226]=[h("Arquivos")])),_:1})]),_:1}),r("div",Na,[o(g,{id:t.campos.id,arquivos:t.arquivos,cartao:"",ref:"arquivo"},null,8,["id","arquivos"])])]),_:1}),o(Te,{modelValue:t.abaSelecionada,"onUpdate:modelValue":e[11]||(e[11]=s=>t.abaSelecionada=s),align:"justify",class:"bg-transparent q-mt-lg text-primary",style:{"border-bottom":"1px solid rgba(0, 0, 0, 0.12)"},color:"transparent"},{default:l(()=>[o(Ae,{label:"Dioptria",name:"dioptria"}),o(Ae,{label:"Prisma",name:"prisma"})]),_:1},8,["modelValue"]),o(eo,{modelValue:t.abaSelecionada,"onUpdate:modelValue":e[51]||(e[51]=s=>t.abaSelecionada=s),animated:""},{default:l(()=>[o(Fe,{name:"dioptria",class:"bg-light q-px-none"},{default:l(()=>[t.habilitaPerto?w("",!0):(p(),y(D,{key:0},{default:l(()=>[o(E),r("div",null,[t.confirmaHabilitaPerto?w("",!0):(p(),y(n,{key:0,modelValue:t.habilitaAE,"onUpdate:modelValue":e[12]||(e[12]=s=>t.habilitaAE=s),rotulo:"Adi\xE7\xE3o / Esf\xE9rico",tipo:"logico",dense:""},null,8,["modelValue"]))])]),_:1})),o(d,{class:"q-col-gutter-md q-mb-md"},{default:l(()=>[t.habilitaPerto?w("",!0):(p(),z("div",Sa,[o(Q,{class:"no-shadow rounded-borders"},{default:l(()=>[o(D,null,{default:l(()=>[o(E,{class:"text-tertiary"},{default:l(()=>e[227]||(e[227]=[h("Longe")])),_:1})]),_:1}),r("div",Ha,[r("table",null,[e[230]||(e[230]=r("tr",null,[r("th"),r("th",{class:"esferico"},"Esf\xE9rico"),r("th",{class:"cilindrico"},"Cil\xEDndrico"),r("th",{class:"eixo"},"Eixo"),r("th",{class:"dnp"},"DNP")],-1)),r("tr",null,[e[228]||(e[228]=r("td",null,"OD",-1)),r("td",null,[o(n,{modelValue:t.campos.prescricao.dioptria.od.longe.esferico,"onUpdate:modelValue":[e[13]||(e[13]=s=>t.campos.prescricao.dioptria.od.longe.esferico=s),i.calcularAE],dense:"",min:"-30",max:"30",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","onUpdate:modelValue"])]),r("td",null,[o(n,{modelValue:t.campos.prescricao.dioptria.od.longe.cilindrico,"onUpdate:modelValue":e[14]||(e[14]=s=>t.campos.prescricao.dioptria.od.longe.cilindrico=s),dense:"",aviso:t.campos.prescricao.dioptria.od.longe.cilindrico<-8||t.campos.prescricao.dioptria.od.longe.cilindrico>0,avisoRotulo:"Cil\xEDndrico est\xE1 fora do comum '0 a -8'.",min:"-10",max:"10",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","aviso"])]),r("td",null,[o(n,{modelValue:t.campos.prescricao.dioptria.od.longe.eixo,"onUpdate:modelValue":e[15]||(e[15]=s=>t.campos.prescricao.dioptria.od.longe.eixo=s),dense:"",readonly:t.campos.prescricao.dioptria.od.longe.cilindrico==0,disable:t.campos.prescricao.dioptria.od.longe.cilindrico==0,min:"0",max:"180",tipo:"decimal",decimals:"0",permiteNull:""},null,8,["modelValue","readonly","disable"])]),r("td",null,[o(n,{modelValue:t.campos.prescricao.dioptria.od.longe.dnp,"onUpdate:modelValue":e[16]||(e[16]=s=>t.campos.prescricao.dioptria.od.longe.dnp=s),min:"0",tipo:"decimal",dense:"",decimals:"2",onBlur:e[17]||(e[17]=s=>i.calcularDnpPerto("direito")),permiteNull:""},null,8,["modelValue"])])]),r("tr",null,[e[229]||(e[229]=r("td",null,"OE",-1)),t.confirmaHabilitaPerto?w("",!0):(p(),z("td",Qa,[o(n,{modelValue:t.campos.prescricao.dioptria.oe.longe.esferico,"onUpdate:modelValue":[e[18]||(e[18]=s=>t.campos.prescricao.dioptria.oe.longe.esferico=s),i.calcularAE],dense:"",min:"-30",max:"30",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","onUpdate:modelValue"])])),t.confirmaHabilitaPerto?w("",!0):(p(),z("td",Xa,[o(n,{modelValue:t.campos.prescricao.dioptria.oe.longe.cilindrico,"onUpdate:modelValue":e[19]||(e[19]=s=>t.campos.prescricao.dioptria.oe.longe.cilindrico=s),dense:"",aviso:t.campos.prescricao.dioptria.oe.longe.cilindrico<-8||t.campos.prescricao.dioptria.oe.longe.cilindrico>0,avisoRotulo:"Cil\xEDndrico est\xE1 fora do comum '0 a -8'.",min:"-10",max:"10",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","aviso"])])),t.confirmaHabilitaPerto?w("",!0):(p(),z("td",Ga,[o(n,{modelValue:t.campos.prescricao.dioptria.oe.longe.eixo,"onUpdate:modelValue":e[20]||(e[20]=s=>t.campos.prescricao.dioptria.oe.longe.eixo=s),dense:"",readonly:t.campos.prescricao.dioptria.oe.longe.cilindrico==0,disable:t.campos.prescricao.dioptria.oe.longe.cilindrico==0,min:"0",max:"180",tipo:"decimal",decimals:"0",permiteNull:""},null,8,["modelValue","readonly","disable"])])),t.confirmaHabilitaPerto?w("",!0):(p(),z("td",Ya,[o(n,{modelValue:t.campos.prescricao.dioptria.oe.longe.dnp,"onUpdate:modelValue":e[21]||(e[21]=s=>t.campos.prescricao.dioptria.oe.longe.dnp=s),min:"0",tipo:"decimal",dense:"",decimals:"2",onBlur:e[22]||(e[22]=s=>i.calcularDnpPerto("esquerdo")),permiteNull:""},null,8,["modelValue"])]))])])])]),_:1})])),t.habilitaPerto?w("",!0):(p(),z("div",Wa,[o(Q,{class:"no-shadow rounded-borders"},{default:l(()=>[o(D,null,{default:l(()=>[o(E,{class:"text-tertiary"},{default:l(()=>[o(n,{modelValue:t.habilitaMedio,"onUpdate:modelValue":[e[23]||(e[23]=s=>t.habilitaMedio=s),e[24]||(e[24]=s=>i.zerarCamposMedio(!0))],tipo:"logico",rotulo:"M\xE9dio"},null,8,["modelValue"])]),_:1})]),_:1}),r("div",Ja,[r("table",null,[r("tr",null,[e[231]||(e[231]=r("th",null,null,-1)),!t.confirmaHabilitaPerto&&!t.habilitaAE?(p(),z("th",Za,"Adi\xE7\xE3o")):w("",!0),!t.confirmaHabilitaPerto&&t.habilitaAE?(p(),z("th",Ka,"Esf\xE9rico")):w("",!0),t.confirmaHabilitaPerto?w("",!0):(p(),z("th",$a,"DNP"))]),r("tr",null,[e[232]||(e[232]=r("td",null,"OD",-1)),t.confirmaHabilitaPerto?w("",!0):(p(),z("td",es,[t.habilitaAE?w("",!0):(p(),y(n,{key:0,modelValue:t.campos.prescricao.dioptria.od.medio.adicao,"onUpdate:modelValue":[e[25]||(e[25]=s=>t.campos.prescricao.dioptria.od.medio.adicao=s),i.calcularAE],readonly:!t.habilitaMedio,disable:!t.habilitaMedio,min:"-30",max:"30",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","onUpdate:modelValue","readonly","disable"])),t.habilitaAE?(p(),y(n,{key:1,modelValue:t.campos.prescricao.dioptria.od.medio.esferico,"onUpdate:modelValue":[e[26]||(e[26]=s=>t.campos.prescricao.dioptria.od.medio.esferico=s),i.calcularAE],disable:!t.habilitaMedio,readonly:!t.habilitaMedio,min:"-30",max:"30",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","onUpdate:modelValue","disable","readonly"])):w("",!0)])),t.confirmaHabilitaPerto?w("",!0):(p(),z("td",os,[o(n,{modelValue:t.campos.prescricao.dioptria.od.medio.dnp,"onUpdate:modelValue":e[27]||(e[27]=s=>t.campos.prescricao.dioptria.od.medio.dnp=s),disable:!t.habilitaMedio,readonly:!t.habilitaMedio,min:"0",tipo:"decimal",decimals:"2",permiteNull:""},null,8,["modelValue","disable","readonly"])]))]),r("tr",null,[e[233]||(e[233]=r("td",null,"OE",-1)),t.confirmaHabilitaPerto?w("",!0):(p(),z("td",ts,[t.habilitaAE?w("",!0):(p(),y(n,{key:0,modelValue:t.campos.prescricao.dioptria.oe.medio.adicao,"onUpdate:modelValue":[e[28]||(e[28]=s=>t.campos.prescricao.dioptria.oe.medio.adicao=s),i.calcularAE],disable:!t.habilitaMedio,readonly:!t.habilitaMedio,min:"-30",max:"30",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","disable","readonly","onUpdate:modelValue"])),t.habilitaAE?(p(),y(n,{key:1,modelValue:t.campos.prescricao.dioptria.oe.medio.esferico,"onUpdate:modelValue":[e[29]||(e[29]=s=>t.campos.prescricao.dioptria.oe.medio.esferico=s),i.calcularAE],disable:!t.habilitaMedio,readonly:!t.habilitaMedio,min:"-30",max:"30",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","disable","readonly","onUpdate:modelValue"])):w("",!0)])),t.confirmaHabilitaPerto?w("",!0):(p(),z("td",ls,[o(n,{modelValue:t.campos.prescricao.dioptria.oe.medio.dnp,"onUpdate:modelValue":e[30]||(e[30]=s=>t.campos.prescricao.dioptria.oe.medio.dnp=s),disable:!t.habilitaMedio,readonly:!t.habilitaMedio,min:"0",tipo:"decimal",decimals:"2",permiteNull:""},null,8,["modelValue","disable","readonly"])]))])])])]),_:1})])),r("div",{class:A(t.habilitaPerto?"col-xs-12":"col-xs-12 col-md-3")},[o(Q,{class:"no-shadow rounded-borders"},{default:l(()=>[o(D,null,{default:l(()=>[o(E,{class:"text-tertiary"},{default:l(()=>[o(n,{modelValue:t.habilitaPerto,"onUpdate:modelValue":[e[31]||(e[31]=s=>t.habilitaPerto=s),e[32]||(e[32]=s=>i.zerarCamposLongeMedio())],tipo:"logico",rotulo:"Perto"},null,8,["modelValue"])]),_:1})]),_:1}),r("div",as,[r("table",null,[r("tr",null,[e[234]||(e[234]=r("th",null,null,-1)),!t.habilitaPerto&&!t.habilitaAE?(p(),z("th",ss,"Adi\xE7\xE3o")):w("",!0),!t.habilitaPerto&&t.habilitaAE?(p(),z("th",is,"Esf\xE9rico")):w("",!0),t.habilitaPerto?(p(),z("th",rs,"Esf\xE9rico")):w("",!0),t.habilitaPerto?(p(),z("th",ns,"Cil\xEDndrico")):w("",!0),t.habilitaPerto?(p(),z("th",ds,"Eixo")):w("",!0),e[235]||(e[235]=r("th",{class:"dnp"},"DNP",-1))]),r("tr",null,[e[236]||(e[236]=r("td",null,"OD",-1)),r("td",null,[!t.habilitaAE&&!t.habilitaPerto?(p(),y(n,{key:0,modelValue:t.campos.prescricao.dioptria.od.perto.adicao,"onUpdate:modelValue":[e[33]||(e[33]=s=>t.campos.prescricao.dioptria.od.perto.adicao=s),i.calcularAE],min:"-30",max:"30",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",onBlur:e[34]||(e[34]=s=>i.calcularDnpPerto("direito")),permiteNull:""},null,8,["modelValue","onUpdate:modelValue"])):w("",!0),t.habilitaAE||t.habilitaPerto?(p(),y(n,{key:1,modelValue:t.campos.prescricao.dioptria.od.perto.esferico,"onUpdate:modelValue":[e[35]||(e[35]=s=>t.campos.prescricao.dioptria.od.perto.esferico=s),i.calcularAE],min:"-30",max:"30",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",onBlur:e[36]||(e[36]=s=>i.calcularDnpPerto("direito")),permiteNull:""},null,8,["modelValue","onUpdate:modelValue"])):w("",!0)]),t.habilitaPerto?(p(),z("td",us,[o(n,{modelValue:t.campos.prescricao.dioptria.od.perto.cilindrico,"onUpdate:modelValue":e[37]||(e[37]=s=>t.campos.prescricao.dioptria.od.perto.cilindrico=s),aviso:t.campos.prescricao.dioptria.od.perto.cilindrico<-8||t.campos.prescricao.dioptria.od.perto.cilindrico>0,avisoRotulo:"Cil\xEDndrico est\xE1 fora do comum '0 a -8'.",min:"-10",max:"10",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","aviso"])])):w("",!0),t.habilitaPerto?(p(),z("td",ms,[o(n,{modelValue:t.campos.prescricao.dioptria.od.perto.eixo,"onUpdate:modelValue":e[38]||(e[38]=s=>t.campos.prescricao.dioptria.od.perto.eixo=s),readonly:t.campos.prescricao.dioptria.od.perto.cilindrico==0,disable:t.campos.prescricao.dioptria.od.perto.cilindrico==0,min:"0",max:"180",tipo:"decimal",decimals:"0",permiteNull:""},null,8,["modelValue","readonly","disable"])])):w("",!0),r("td",null,[o(n,{modelValue:t.campos.prescricao.dioptria.od.perto.dnp,"onUpdate:modelValue":e[39]||(e[39]=s=>t.campos.prescricao.dioptria.od.perto.dnp=s),min:"0",tipo:"decimal",decimals:"2",permiteNull:""},null,8,["modelValue"])])]),r("tr",null,[e[237]||(e[237]=r("td",null,"OE",-1)),r("td",null,[!t.habilitaAE&&!t.habilitaPerto?(p(),y(n,{key:0,modelValue:t.campos.prescricao.dioptria.oe.perto.adicao,"onUpdate:modelValue":[e[40]||(e[40]=s=>t.campos.prescricao.dioptria.oe.perto.adicao=s),i.calcularAE],min:"-30",max:"30",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",onBlur:e[41]||(e[41]=s=>i.calcularDnpPerto("esquerdo")),permiteNull:""},null,8,["modelValue","onUpdate:modelValue"])):w("",!0),t.habilitaAE||t.habilitaPerto?(p(),y(n,{key:1,modelValue:t.campos.prescricao.dioptria.oe.perto.esferico,"onUpdate:modelValue":[e[42]||(e[42]=s=>t.campos.prescricao.dioptria.oe.perto.esferico=s),i.calcularAE],min:"-30",max:"30",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",onBlur:e[43]||(e[43]=s=>i.calcularDnpPerto("esquerdo")),permiteNull:""},null,8,["modelValue","onUpdate:modelValue"])):w("",!0)]),t.habilitaPerto?(p(),z("td",cs,[o(n,{modelValue:t.campos.prescricao.dioptria.oe.perto.cilindrico,"onUpdate:modelValue":e[44]||(e[44]=s=>t.campos.prescricao.dioptria.oe.perto.cilindrico=s),aviso:t.campos.prescricao.dioptria.oe.perto.cilindrico<-8||t.campos.prescricao.dioptria.oe.perto.cilindrico>0,avisoRotulo:"Cil\xEDndrico est\xE1 fora do comum '0 a -8'.",min:"-10",max:"10",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","aviso"])])):w("",!0),t.habilitaPerto?(p(),z("td",ps,[o(n,{modelValue:t.campos.prescricao.dioptria.oe.perto.eixo,"onUpdate:modelValue":e[45]||(e[45]=s=>t.campos.prescricao.dioptria.oe.perto.eixo=s),readonly:t.campos.prescricao.dioptria.oe.perto.cilindrico==0,disable:t.campos.prescricao.dioptria.oe.perto.cilindrico==0,min:"0",max:"180",tipo:"decimal",decimals:"0",permiteNull:""},null,8,["modelValue","readonly","disable"])])):w("",!0),r("td",null,[o(n,{modelValue:t.campos.prescricao.dioptria.oe.perto.dnp,"onUpdate:modelValue":e[46]||(e[46]=s=>t.campos.prescricao.dioptria.oe.perto.dnp=s),min:"0",tipo:"decimal",decimals:"2",permiteNull:""},null,8,["modelValue"])])])])])]),_:1})],2)]),_:1}),o(d,{class:"items-center q-col-gutter-md q-mb-md"},{default:l(()=>[r("div",fs,[o(c,{color:"primary",icon:"content_copy",label:"Copiar OD > OE",unelevated:"",onClick:i.copiarODDioptria},null,8,["onClick"])])]),_:1})]),_:1}),o(Fe,{name:"prisma",class:"bg-light q-px-none"},{default:l(()=>[o(d,{class:"items-center q-col-gutter-md q-mb-md"},{default:l(()=>[r("div",bs,[o(Q,{class:"no-shadow rounded-borders q-mb-md"},{default:l(()=>[r("div",gs,[o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[238]||(e[238]=r("div",{class:"col-auto"}," OD ",-1)),r("div",vs,[o(n,{modelValue:t.campos.prescricao.prisma.od.valor,"onUpdate:modelValue":e[47]||(e[47]=s=>t.campos.prescricao.prisma.od.valor=s),rotulo:"Prisma",min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",permiteNull:""},null,8,["modelValue"])]),r("div",hs,[o(n,{modelValue:t.campos.prescricao.prisma.od.base,"onUpdate:modelValue":e[48]||(e[48]=s=>t.campos.prescricao.prisma.od.base=s),rotulo:"Base",tipo:"seletor",opcoes:["Nasal","Temporal","Superior","Inferior"]},null,8,["modelValue"])])]),_:1})])]),_:1})]),r("div",ys,[o(c,{color:"primary",unelevated:"",icon:"content_copy",label:"Copiar OD > OE",onClick:i.copiarODPrisma,class:"'q-my-none'"},null,8,["onClick"])]),r("div",xs,[o(Q,{class:"no-shadow rounded-borders q-mb-md"},{default:l(()=>[r("div",Vs,[o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[239]||(e[239]=r("div",{class:"col-auto"}," OE ",-1)),r("div",ws,[o(n,{modelValue:t.campos.prescricao.prisma.oe.valor,"onUpdate:modelValue":e[49]||(e[49]=s=>t.campos.prescricao.prisma.oe.valor=s),rotulo:"Prisma",min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",permiteNull:""},null,8,["modelValue"])]),r("div",Cs,[o(n,{modelValue:t.campos.prescricao.prisma.oe.base,"onUpdate:modelValue":e[50]||(e[50]=s=>t.campos.prescricao.prisma.oe.base=s),rotulo:"Base",tipo:"seletor",opcoes:["Nasal","Temporal","Superior","Inferior"]},null,8,["modelValue"])])]),_:1})])]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t.verOptometria?(p(),z(P,{key:1},[o(te,{"expand-separator":"","default-opened":"",modelValue:t.abasOptometria.OftalmoscopiaDireta,"onUpdate:modelValue":e[70]||(e[70]=s=>t.abasOptometria.OftalmoscopiaDireta=s),label:"Oftalmoscopia Direta",onShow:i.setAba,onHide:i.setAba},{default:l(()=>[o(Q,{class:"bg-white q-mb-md no-shadow"},{default:l(()=>[r("div",ks,[o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>e[240]||(e[240]=[r("div",{class:"col-2 col-sm-1"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}})],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"OD")],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"OE")],-1)])),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[241]||(e[241]=r("div",{class:"col-2 col-sm-1"}," Bruckner ",-1)),r("div",zs,[r("label",Os,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.od.bruckner,"onUpdate:modelValue":e[52]||(e[52]=s=>t.camposOptometria.oftalmoscopiaDireta.od.bruckner=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",qs,[r("label",_s,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.oe.bruckner,"onUpdate:modelValue":e[53]||(e[53]=s=>t.camposOptometria.oftalmoscopiaDireta.oe.bruckner=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[242]||(e[242]=r("div",{class:"col-2 col-sm-1"}," Lente ",-1)),r("div",As,[r("label",Fs,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.od.lente,"onUpdate:modelValue":e[54]||(e[54]=s=>t.camposOptometria.oftalmoscopiaDireta.od.lente=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",Ps,[r("label",Ms,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.oe.lente,"onUpdate:modelValue":e[55]||(e[55]=s=>t.camposOptometria.oftalmoscopiaDireta.oe.lente=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[243]||(e[243]=r("div",{class:"col-2 col-sm-1"}," Escava\xE7\xE3o ",-1)),r("div",Us,[r("label",Ts,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.od.escavacao,"onUpdate:modelValue":e[56]||(e[56]=s=>t.camposOptometria.oftalmoscopiaDireta.od.escavacao=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",Ds,[r("label",js,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.oe.escavacao,"onUpdate:modelValue":e[57]||(e[57]=s=>t.camposOptometria.oftalmoscopiaDireta.oe.escavacao=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[244]||(e[244]=r("div",{class:"col-2 col-sm-1"}," Rela\xE7\xE3o AV ",-1)),r("div",Es,[r("label",Rs,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.od.relacaoAV,"onUpdate:modelValue":e[58]||(e[58]=s=>t.camposOptometria.oftalmoscopiaDireta.od.relacaoAV=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",Is,[r("label",Bs,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.oe.relacaoAV,"onUpdate:modelValue":e[59]||(e[59]=s=>t.camposOptometria.oftalmoscopiaDireta.oe.relacaoAV=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[245]||(e[245]=r("div",{class:"col-2 col-sm-1"}," M\xE1cula ",-1)),r("div",Ls,[r("label",Ns,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.od.macula,"onUpdate:modelValue":e[60]||(e[60]=s=>t.camposOptometria.oftalmoscopiaDireta.od.macula=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",Ss,[r("label",Hs,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.oe.macula,"onUpdate:modelValue":e[61]||(e[61]=s=>t.camposOptometria.oftalmoscopiaDireta.oe.macula=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[246]||(e[246]=r("div",{class:"col-2 col-sm-1"}," Fixa\xE7\xE3o ",-1)),r("div",Qs,[r("label",Xs,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.od.fixacao,"onUpdate:modelValue":e[62]||(e[62]=s=>t.camposOptometria.oftalmoscopiaDireta.od.fixacao=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",Gs,[r("label",Ys,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.oe.fixacao,"onUpdate:modelValue":e[63]||(e[63]=s=>t.camposOptometria.oftalmoscopiaDireta.oe.fixacao=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[247]||(e[247]=r("div",{class:"col-2 col-sm-1"}," Cor ",-1)),r("div",Ws,[r("label",Js,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.od.cor,"onUpdate:modelValue":e[64]||(e[64]=s=>t.camposOptometria.oftalmoscopiaDireta.od.cor=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",Zs,[r("label",Ks,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.oe.cor,"onUpdate:modelValue":e[65]||(e[65]=s=>t.camposOptometria.oftalmoscopiaDireta.oe.cor=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[248]||(e[248]=r("div",{class:"col-2 col-sm-1"}," Papila ",-1)),r("div",$s,[r("label",ei,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.od.papila,"onUpdate:modelValue":e[66]||(e[66]=s=>t.camposOptometria.oftalmoscopiaDireta.od.papila=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",oi,[r("label",ti,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.oe.papila,"onUpdate:modelValue":e[67]||(e[67]=s=>t.camposOptometria.oftalmoscopiaDireta.oe.papila=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[249]||(e[249]=r("div",{class:"col-2 col-sm-1"}," Observa\xE7\xE3o ",-1)),r("div",li,[r("label",ai,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.od.observacao,"onUpdate:modelValue":e[68]||(e[68]=s=>t.camposOptometria.oftalmoscopiaDireta.od.observacao=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",si,[r("label",ii,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.oe.observacao,"onUpdate:modelValue":e[69]||(e[69]=s=>t.camposOptometria.oftalmoscopiaDireta.oe.observacao=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),o(te,{"expand-separator":"",modelValue:t.abasOptometria.AcuiVisual,"onUpdate:modelValue":e[82]||(e[82]=s=>t.abasOptometria.AcuiVisual=s),onShow:i.setAba,onHide:i.setAba,label:"Acui. Visual"},{default:l(()=>[o(Q,{class:"bg-white q-mb-md no-shadow"},{default:l(()=>[r("div",ri,[o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>e[250]||(e[250]=[r("div",{class:"col-2 col-sm-1"}," \xA0\xA0\xA0 ",-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"VL-SC")],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"PH")],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"VP-SC")],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"VL-CC")],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"VP-CC")],-1)])),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[251]||(e[251]=r("div",{class:"col-2 col-sm-1"}," OD ",-1)),r("div",ni,[o(n,{modelValue:t.camposOptometria.acuiVisual.od.VLSC,"onUpdate:modelValue":e[71]||(e[71]=s=>t.camposOptometria.acuiVisual.od.VLSC=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",di,[o(n,{modelValue:t.camposOptometria.acuiVisual.od.PH,"onUpdate:modelValue":e[72]||(e[72]=s=>t.camposOptometria.acuiVisual.od.PH=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",ui,[o(n,{modelValue:t.camposOptometria.acuiVisual.od.VPSC,"onUpdate:modelValue":e[73]||(e[73]=s=>t.camposOptometria.acuiVisual.od.VPSC=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",mi,[o(n,{modelValue:t.camposOptometria.acuiVisual.od.VLCC,"onUpdate:modelValue":e[74]||(e[74]=s=>t.camposOptometria.acuiVisual.od.VLCC=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",ci,[o(n,{modelValue:t.camposOptometria.acuiVisual.od.VPCC,"onUpdate:modelValue":e[75]||(e[75]=s=>t.camposOptometria.acuiVisual.od.VPCC=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[252]||(e[252]=r("div",{class:"col-2 col-sm-1"}," OE ",-1)),r("div",pi,[o(n,{modelValue:t.camposOptometria.acuiVisual.oe.VLSC,"onUpdate:modelValue":e[76]||(e[76]=s=>t.camposOptometria.acuiVisual.oe.VLSC=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",fi,[o(n,{modelValue:t.camposOptometria.acuiVisual.oe.PH,"onUpdate:modelValue":e[77]||(e[77]=s=>t.camposOptometria.acuiVisual.oe.PH=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",bi,[o(n,{modelValue:t.camposOptometria.acuiVisual.oe.VPSC,"onUpdate:modelValue":e[78]||(e[78]=s=>t.camposOptometria.acuiVisual.oe.VPSC=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",gi,[o(n,{modelValue:t.camposOptometria.acuiVisual.oe.VLCC,"onUpdate:modelValue":e[79]||(e[79]=s=>t.camposOptometria.acuiVisual.oe.VLCC=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",vi,[o(n,{modelValue:t.camposOptometria.acuiVisual.oe.VPCC,"onUpdate:modelValue":e[80]||(e[80]=s=>t.camposOptometria.acuiVisual.oe.VPCC=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),o(d,null,{default:l(()=>[r("div",hi,[o(n,{modelValue:t.camposOptometria.acuiVisual.optotipo,"onUpdate:modelValue":e[81]||(e[81]=s=>t.camposOptometria.acuiVisual.optotipo=s),tipo:"texto",rotulo:"Optotipo",dense:""},null,8,["modelValue"])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),o(te,{"expand-separator":"",modelValue:t.abasOptometria.ReflPup,"onUpdate:modelValue":e[89]||(e[89]=s=>t.abasOptometria.ReflPup=s),onShow:i.setAba,onHide:i.setAba,label:"Refl. Pup"},{default:l(()=>[o(Q,{class:"bg-white q-mb-md no-shadow"},{default:l(()=>[r("div",yi,[o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>e[253]||(e[253]=[r("div",{class:"col-2 col-sm-1"}," \xA0\xA0\xA0 ",-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Fotomotor")],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Consensual")],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Acomodativo")],-1)])),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[254]||(e[254]=r("div",{class:"col-2 col-sm-1"}," OD ",-1)),r("div",xi,[o(n,{modelValue:t.camposOptometria.reflPup.od.fotomotor,"onUpdate:modelValue":e[83]||(e[83]=s=>t.camposOptometria.reflPup.od.fotomotor=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Vi,[o(n,{modelValue:t.camposOptometria.reflPup.od.consensual,"onUpdate:modelValue":e[84]||(e[84]=s=>t.camposOptometria.reflPup.od.consensual=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",wi,[o(n,{modelValue:t.camposOptometria.reflPup.od.acomodativo,"onUpdate:modelValue":e[85]||(e[85]=s=>t.camposOptometria.reflPup.od.acomodativo=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[255]||(e[255]=r("div",{class:"col-2 col-sm-1"}," OE ",-1)),r("div",Ci,[o(n,{modelValue:t.camposOptometria.reflPup.oe.fotomotor,"onUpdate:modelValue":e[86]||(e[86]=s=>t.camposOptometria.reflPup.oe.fotomotor=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",ki,[o(n,{modelValue:t.camposOptometria.reflPup.oe.consensual,"onUpdate:modelValue":e[87]||(e[87]=s=>t.camposOptometria.reflPup.oe.consensual=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",zi,[o(n,{modelValue:t.camposOptometria.reflPup.oe.acomodativo,"onUpdate:modelValue":e[88]||(e[88]=s=>t.camposOptometria.reflPup.oe.acomodativo=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),o(te,{"expand-separator":"",modelValue:t.abasOptometria.AvaliacaoMotora,"onUpdate:modelValue":e[110]||(e[110]=s=>t.abasOptometria.AvaliacaoMotora=s),onShow:i.setAba,onHide:i.setAba,label:"Avalia\xE7\xE3o Motora"},{default:l(()=>[o(Q,{class:"bg-white q-mb-md no-shadow"},{default:l(()=>[r("div",Oi,[o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>e[256]||(e[256]=[r("div",{class:"col-2 col-sm-1"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}})],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"OD")],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"OE")],-1)])),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[257]||(e[257]=r("div",{class:"col-2 col-sm-1"}," Kappa ",-1)),r("div",qi,[r("label",_i,[o(n,{modelValue:t.camposOptometria.avaliacaoMotora.od.kappa,"onUpdate:modelValue":e[90]||(e[90]=s=>t.camposOptometria.avaliacaoMotora.od.kappa=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",Ai,[r("label",Fi,[o(n,{modelValue:t.camposOptometria.avaliacaoMotora.oe.kappa,"onUpdate:modelValue":e[91]||(e[91]=s=>t.camposOptometria.avaliacaoMotora.oe.kappa=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[258]||(e[258]=r("div",{class:"col-2 col-sm-1"}," Hirschberg ",-1)),r("div",Pi,[r("label",Mi,[o(n,{modelValue:t.camposOptometria.avaliacaoMotora.od.hirschberg,"onUpdate:modelValue":e[92]||(e[92]=s=>t.camposOptometria.avaliacaoMotora.od.hirschberg=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",Ui,[r("label",Ti,[o(n,{modelValue:t.camposOptometria.avaliacaoMotora.oe.hirschberg,"onUpdate:modelValue":e[93]||(e[93]=s=>t.camposOptometria.avaliacaoMotora.oe.hirschberg=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[259]||(e[259]=r("div",{class:"col-2 col-sm-1"}," Duc\xE7\xF5es ",-1)),r("div",Di,[r("label",ji,[o(n,{modelValue:t.camposOptometria.avaliacaoMotora.od.duccoes,"onUpdate:modelValue":e[94]||(e[94]=s=>t.camposOptometria.avaliacaoMotora.od.duccoes=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",Ei,[r("label",Ri,[o(n,{modelValue:t.camposOptometria.avaliacaoMotora.oe.duccoes,"onUpdate:modelValue":e[95]||(e[95]=s=>t.camposOptometria.avaliacaoMotora.oe.duccoes=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[274]||(e[274]=r("div",{class:"col-2 col-sm-1"}," Vers\xF5es ",-1)),r("div",Ii,[r("div",Bi,[e[266]||(e[266]=r("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg"},[r("line",{x1:"0",y1:"50%",x2:"100%",y2:"50%",style:{stroke:"rgb(0,0,0)","stroke-width":"2"}}),r("line",{x1:"34%",y1:"0",x2:"34%",y2:"100%",style:{stroke:"rgb(0,0,0)","stroke-width":"2"}}),r("line",{x1:"66%",y1:"0",x2:"66%",y2:"100%",style:{stroke:"rgb(0,0,0)","stroke-width":"2"}})],-1)),r("div",Li,[x(r("input",{type:"checkbox",id:"c_ava_mot_ver_od_0",name:"ava_mot_ver_od_0","onUpdate:modelValue":e[96]||(e[96]=s=>t.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_0=s)},null,512),[[ae,t.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_0]]),e[260]||(e[260]=r("label",{for:"c_ava_mot_ver_od_0"},null,-1))]),r("div",Ni,[x(r("input",{type:"checkbox",id:"c_ava_mot_ver_od_1",name:"ava_mot_ver_od_1","onUpdate:modelValue":e[97]||(e[97]=s=>t.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_1=s)},null,512),[[ae,t.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_1]]),e[261]||(e[261]=r("label",{for:"c_ava_mot_ver_od_1"},null,-1))]),r("div",Si,[x(r("input",{type:"checkbox",id:"c_ava_mot_ver_od_2",name:"ava_mot_ver_od_2","onUpdate:modelValue":e[98]||(e[98]=s=>t.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_2=s)},null,512),[[ae,t.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_2]]),e[262]||(e[262]=r("label",{for:"c_ava_mot_ver_od_2"},null,-1))]),r("div",Hi,[x(r("input",{type:"checkbox",id:"c_ava_mot_ver_od_3",name:"ava_mot_ver_od_3","onUpdate:modelValue":e[99]||(e[99]=s=>t.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_3=s)},null,512),[[ae,t.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_3]]),e[263]||(e[263]=r("label",{for:"c_ava_mot_ver_od_3"},null,-1))]),r("div",Qi,[x(r("input",{type:"checkbox",id:"c_ava_mot_ver_od_4",name:"ava_mot_ver_od_4","onUpdate:modelValue":e[100]||(e[100]=s=>t.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_4=s)},null,512),[[ae,t.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_4]]),e[264]||(e[264]=r("label",{for:"c_ava_mot_ver_od_4"},null,-1))]),r("div",Xi,[x(r("input",{type:"checkbox",id:"c_ava_mot_ver_od_5",name:"ava_mot_ver_od_5","onUpdate:modelValue":e[101]||(e[101]=s=>t.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_5=s)},null,512),[[ae,t.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_5]]),e[265]||(e[265]=r("label",{for:"c_ava_mot_ver_od_5"},null,-1))])])]),r("div",Gi,[r("div",Yi,[e[273]||(e[273]=r("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg"},[r("line",{x1:"0",y1:"50%",x2:"100%",y2:"50%",style:{stroke:"rgb(0,0,0)","stroke-width":"2"}}),r("line",{x1:"34%",y1:"0",x2:"34%",y2:"100%",style:{stroke:"rgb(0,0,0)","stroke-width":"2"}}),r("line",{x1:"66%",y1:"0",x2:"66%",y2:"100%",style:{stroke:"rgb(0,0,0)","stroke-width":"2"}})],-1)),r("div",Wi,[x(r("input",{type:"checkbox",id:"c_ava_mot_ver_oe_0",name:"ava_mot_ver_oe_0","onUpdate:modelValue":e[102]||(e[102]=s=>t.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_0=s)},null,512),[[ae,t.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_0]]),e[267]||(e[267]=r("label",{for:"c_ava_mot_ver_oe_0"},null,-1))]),r("div",Ji,[x(r("input",{type:"checkbox",id:"c_ava_mot_ver_oe_1",name:"ava_mot_ver_oe_1","onUpdate:modelValue":e[103]||(e[103]=s=>t.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_1=s)},null,512),[[ae,t.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_1]]),e[268]||(e[268]=r("label",{for:"c_ava_mot_ver_oe_1"},null,-1))]),r("div",Zi,[x(r("input",{type:"checkbox",id:"c_ava_mot_ver_oe_2",name:"ava_mot_ver_oe_2","onUpdate:modelValue":e[104]||(e[104]=s=>t.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_2=s)},null,512),[[ae,t.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_2]]),e[269]||(e[269]=r("label",{for:"c_ava_mot_ver_oe_2"},null,-1))]),r("div",Ki,[x(r("input",{type:"checkbox",id:"c_ava_mot_ver_oe_3",name:"ava_mot_ver_oe_3","onUpdate:modelValue":e[105]||(e[105]=s=>t.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_3=s)},null,512),[[ae,t.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_3]]),e[270]||(e[270]=r("label",{for:"c_ava_mot_ver_oe_3"},null,-1))]),r("div",$i,[x(r("input",{type:"checkbox",id:"c_ava_mot_ver_oe_4",name:"ava_mot_ver_oe_4","onUpdate:modelValue":e[106]||(e[106]=s=>t.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_4=s)},null,512),[[ae,t.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_4]]),e[271]||(e[271]=r("label",{for:"c_ava_mot_ver_oe_4"},null,-1))]),r("div",er,[x(r("input",{type:"checkbox",id:"c_ava_mot_ver_oe_5",name:"ava_mot_ver_oe_5","onUpdate:modelValue":e[107]||(e[107]=s=>t.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_5=s)},null,512),[[ae,t.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_5]]),e[272]||(e[272]=r("label",{for:"c_ava_mot_ver_oe_5"},null,-1))])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[275]||(e[275]=r("div",{class:"col-2 col-sm-1"}," Observa\xE7\xE3o ",-1)),r("div",or,[r("label",tr,[o(n,{modelValue:t.camposOptometria.avaliacaoMotora.od.observacao,"onUpdate:modelValue":e[108]||(e[108]=s=>t.camposOptometria.avaliacaoMotora.od.observacao=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",lr,[r("label",ar,[o(n,{modelValue:t.camposOptometria.avaliacaoMotora.oe.observacao,"onUpdate:modelValue":e[109]||(e[109]=s=>t.camposOptometria.avaliacaoMotora.oe.observacao=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),o(te,{"expand-separator":"",modelValue:t.abasOptometria.Ppc,"onUpdate:modelValue":e[114]||(e[114]=s=>t.abasOptometria.Ppc=s),onShow:i.setAba,onHide:i.setAba,label:"PPC"},{default:l(()=>[o(Q,{class:"bg-white q-mb-md no-shadow"},{default:l(()=>[r("div",sr,[o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>e[276]||(e[276]=[r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Objeto Real")],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Luz")],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Filtro")],-1)])),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[r("div",ir,[o(n,{modelValue:t.camposOptometria.ppc.objetoReal,"onUpdate:modelValue":e[111]||(e[111]=s=>t.camposOptometria.ppc.objetoReal=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",rr,[o(n,{modelValue:t.camposOptometria.ppc.luz,"onUpdate:modelValue":e[112]||(e[112]=s=>t.camposOptometria.ppc.luz=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",nr,[o(n,{modelValue:t.camposOptometria.ppc.filtro,"onUpdate:modelValue":e[113]||(e[113]=s=>t.camposOptometria.ppc.filtro=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),o(te,{modelValue:t.abasOptometria.CoverTeste,"onUpdate:modelValue":e[121]||(e[121]=s=>t.abasOptometria.CoverTeste=s),onShow:i.setAba,onHide:i.setAba,"expand-separator":"",label:"Cover Teste"},{default:l(()=>[o(Q,{class:"bg-white q-mb-md no-shadow"},{default:l(()=>[r("div",dr,[o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>e[277]||(e[277]=[r("div",{class:"col-2 col-sm-1"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Distancia")],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"S.C.\u2206")],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"C.C.\u2206")],-1)])),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[278]||(e[278]=r("div",{class:"col-2 col-sm-1"}," 6m ",-1)),r("div",ur,[r("label",mr,[o(n,{modelValue:t.camposOptometria.coverTeste.sc.dist6m,"onUpdate:modelValue":e[115]||(e[115]=s=>t.camposOptometria.coverTeste.sc.dist6m=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",cr,[r("label",pr,[o(n,{modelValue:t.camposOptometria.coverTeste.cc.dist6m,"onUpdate:modelValue":e[116]||(e[116]=s=>t.camposOptometria.coverTeste.cc.dist6m=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[279]||(e[279]=r("div",{class:"col-2 col-sm-1"}," 40cm ",-1)),r("div",fr,[r("label",br,[o(n,{modelValue:t.camposOptometria.coverTeste.sc.dist40cm,"onUpdate:modelValue":e[117]||(e[117]=s=>t.camposOptometria.coverTeste.sc.dist40cm=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",gr,[r("label",vr,[o(n,{modelValue:t.camposOptometria.coverTeste.cc.dist40cm,"onUpdate:modelValue":e[118]||(e[118]=s=>t.camposOptometria.coverTeste.cc.dist40cm=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[280]||(e[280]=r("div",{class:"col-2 col-sm-1"}," 20cm ",-1)),r("div",hr,[r("label",yr,[o(n,{modelValue:t.camposOptometria.coverTeste.sc.dist20cm,"onUpdate:modelValue":e[119]||(e[119]=s=>t.camposOptometria.coverTeste.sc.dist20cm=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",xr,[r("label",Vr,[o(n,{modelValue:t.camposOptometria.coverTeste.cc.dist20cm,"onUpdate:modelValue":e[120]||(e[120]=s=>t.camposOptometria.coverTeste.cc.dist20cm=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),o(te,{"expand-separator":"",modelValue:t.abasOptometria.ReservasFusionais,"onUpdate:modelValue":e[126]||(e[126]=s=>t.abasOptometria.ReservasFusionais=s),onShow:i.setAba,onHide:i.setAba,label:"Reservas Fusionais"},{default:l(()=>[o(Q,{class:"bg-white q-mb-md no-shadow"},{default:l(()=>[r("div",wr,[o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>e[281]||(e[281]=[r("div",{class:"col-2 col-sm-1"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}})],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"VL")],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"VP")],-1)])),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[282]||(e[282]=r("div",{class:"col-2 col-sm-1"}," RFN ",-1)),r("div",Cr,[r("label",kr,[o(n,{modelValue:t.camposOptometria.reservasFusionais.vl.rfn,"onUpdate:modelValue":e[122]||(e[122]=s=>t.camposOptometria.reservasFusionais.vl.rfn=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",zr,[r("label",Or,[o(n,{modelValue:t.camposOptometria.reservasFusionais.vp.rfn,"onUpdate:modelValue":e[123]||(e[123]=s=>t.camposOptometria.reservasFusionais.vp.rfn=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[283]||(e[283]=r("div",{class:"col-2 col-sm-1"}," RFP ",-1)),r("div",qr,[r("label",_r,[o(n,{modelValue:t.camposOptometria.reservasFusionais.vl.rfp,"onUpdate:modelValue":e[124]||(e[124]=s=>t.camposOptometria.reservasFusionais.vl.rfp=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",Ar,[r("label",Fr,[o(n,{modelValue:t.camposOptometria.reservasFusionais.vp.rfp,"onUpdate:modelValue":e[125]||(e[125]=s=>t.camposOptometria.reservasFusionais.vp.rfp=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),o(te,{modelValue:t.abasOptometria.Subjetivo,"onUpdate:modelValue":e[142]||(e[142]=s=>t.abasOptometria.Subjetivo=s),onShow:i.setAba,onHide:i.setAba,"expand-separator":"",label:"Subjetivo"},{default:l(()=>[o(Q,{class:"bg-white q-mb-md no-shadow"},{default:l(()=>[r("div",Pr,[o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>e[284]||(e[284]=[r("div",{class:"col-2 col-sm-1"}," \xA0\xA0\xA0 ",-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"ESF.")],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"CIL.")],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"EIXO")],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"A.V.L.")],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"A.V.P")],-1)])),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[285]||(e[285]=r("div",{class:"col-2 col-sm-1"}," OD ",-1)),r("div",Mr,[o(n,{modelValue:t.camposOptometria.subjetivo.od.esf,"onUpdate:modelValue":e[127]||(e[127]=s=>t.camposOptometria.subjetivo.od.esf=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Ur,[o(n,{modelValue:t.camposOptometria.subjetivo.od.cil,"onUpdate:modelValue":e[128]||(e[128]=s=>t.camposOptometria.subjetivo.od.cil=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Tr,[o(n,{modelValue:t.camposOptometria.subjetivo.od.eixo,"onUpdate:modelValue":e[129]||(e[129]=s=>t.camposOptometria.subjetivo.od.eixo=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Dr,[o(n,{modelValue:t.camposOptometria.subjetivo.od.avl,"onUpdate:modelValue":e[130]||(e[130]=s=>t.camposOptometria.subjetivo.od.avl=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",jr,[o(n,{modelValue:t.camposOptometria.subjetivo.od.avp,"onUpdate:modelValue":e[131]||(e[131]=s=>t.camposOptometria.subjetivo.od.avp=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[286]||(e[286]=r("div",{class:"col-2 col-sm-1"}," OE ",-1)),r("div",Er,[o(n,{modelValue:t.camposOptometria.subjetivo.oe.esf,"onUpdate:modelValue":e[132]||(e[132]=s=>t.camposOptometria.subjetivo.oe.esf=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Rr,[o(n,{modelValue:t.camposOptometria.subjetivo.oe.cil,"onUpdate:modelValue":e[133]||(e[133]=s=>t.camposOptometria.subjetivo.oe.cil=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Ir,[o(n,{modelValue:t.camposOptometria.subjetivo.oe.eixo,"onUpdate:modelValue":e[134]||(e[134]=s=>t.camposOptometria.subjetivo.oe.eixo=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Br,[o(n,{modelValue:t.camposOptometria.subjetivo.oe.avl,"onUpdate:modelValue":e[135]||(e[135]=s=>t.camposOptometria.subjetivo.oe.avl=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Lr,[o(n,{modelValue:t.camposOptometria.subjetivo.oe.avp,"onUpdate:modelValue":e[136]||(e[136]=s=>t.camposOptometria.subjetivo.oe.avp=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[287]||(e[287]=r("div",{class:"col-2 col-sm-1"}," ADD ",-1)),r("div",Nr,[o(n,{modelValue:t.camposOptometria.subjetivo.add.esf,"onUpdate:modelValue":e[137]||(e[137]=s=>t.camposOptometria.subjetivo.add.esf=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Sr,[o(n,{modelValue:t.camposOptometria.subjetivo.add.cil,"onUpdate:modelValue":e[138]||(e[138]=s=>t.camposOptometria.subjetivo.add.cil=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Hr,[o(n,{modelValue:t.camposOptometria.subjetivo.add.eixo,"onUpdate:modelValue":e[139]||(e[139]=s=>t.camposOptometria.subjetivo.add.eixo=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Qr,[o(n,{modelValue:t.camposOptometria.subjetivo.add.avl,"onUpdate:modelValue":e[140]||(e[140]=s=>t.camposOptometria.subjetivo.add.avl=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Xr,[o(n,{modelValue:t.camposOptometria.subjetivo.add.avp,"onUpdate:modelValue":e[141]||(e[141]=s=>t.camposOptometria.subjetivo.add.avp=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),o(te,{"expand-separator":"",modelValue:t.abasOptometria.Ambulatorial,"onUpdate:modelValue":e[158]||(e[158]=s=>t.abasOptometria.Ambulatorial=s),onShow:i.setAba,onHide:i.setAba,label:"Ambulatorial"},{default:l(()=>[o(Q,{class:"bg-white q-mb-md no-shadow"},{default:l(()=>[r("div",Gr,[o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>e[288]||(e[288]=[r("div",{class:"col-2 col-sm-1"}," \xA0\xA0\xA0 ",-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"ESF.")],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"CIL.")],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"EIXO")],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"A.V.L.")],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"A.V.P")],-1)])),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[289]||(e[289]=r("div",{class:"col-2 col-sm-1"}," OD ",-1)),r("div",Yr,[o(n,{modelValue:t.camposOptometria.ambulatorial.od.esf,"onUpdate:modelValue":e[143]||(e[143]=s=>t.camposOptometria.ambulatorial.od.esf=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Wr,[o(n,{modelValue:t.camposOptometria.ambulatorial.od.cil,"onUpdate:modelValue":e[144]||(e[144]=s=>t.camposOptometria.ambulatorial.od.cil=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Jr,[o(n,{modelValue:t.camposOptometria.ambulatorial.od.eixo,"onUpdate:modelValue":e[145]||(e[145]=s=>t.camposOptometria.ambulatorial.od.eixo=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Zr,[o(n,{modelValue:t.camposOptometria.ambulatorial.od.avl,"onUpdate:modelValue":e[146]||(e[146]=s=>t.camposOptometria.ambulatorial.od.avl=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Kr,[o(n,{modelValue:t.camposOptometria.ambulatorial.od.avp,"onUpdate:modelValue":e[147]||(e[147]=s=>t.camposOptometria.ambulatorial.od.avp=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[290]||(e[290]=r("div",{class:"col-2 col-sm-1"}," OE ",-1)),r("div",$r,[o(n,{modelValue:t.camposOptometria.ambulatorial.oe.esf,"onUpdate:modelValue":e[148]||(e[148]=s=>t.camposOptometria.ambulatorial.oe.esf=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",en,[o(n,{modelValue:t.camposOptometria.ambulatorial.oe.cil,"onUpdate:modelValue":e[149]||(e[149]=s=>t.camposOptometria.ambulatorial.oe.cil=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",on,[o(n,{modelValue:t.camposOptometria.ambulatorial.oe.eixo,"onUpdate:modelValue":e[150]||(e[150]=s=>t.camposOptometria.ambulatorial.oe.eixo=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",tn,[o(n,{modelValue:t.camposOptometria.ambulatorial.oe.avl,"onUpdate:modelValue":e[151]||(e[151]=s=>t.camposOptometria.ambulatorial.oe.avl=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",ln,[o(n,{modelValue:t.camposOptometria.ambulatorial.oe.avp,"onUpdate:modelValue":e[152]||(e[152]=s=>t.camposOptometria.ambulatorial.oe.avp=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[291]||(e[291]=r("div",{class:"col-2 col-sm-1"}," ADD ",-1)),r("div",an,[o(n,{modelValue:t.camposOptometria.ambulatorial.add.esf,"onUpdate:modelValue":e[153]||(e[153]=s=>t.camposOptometria.ambulatorial.add.esf=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",sn,[o(n,{modelValue:t.camposOptometria.ambulatorial.add.cil,"onUpdate:modelValue":e[154]||(e[154]=s=>t.camposOptometria.ambulatorial.add.cil=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",rn,[o(n,{modelValue:t.camposOptometria.ambulatorial.add.eixo,"onUpdate:modelValue":e[155]||(e[155]=s=>t.camposOptometria.ambulatorial.add.eixo=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",nn,[o(n,{modelValue:t.camposOptometria.ambulatorial.add.avl,"onUpdate:modelValue":e[156]||(e[156]=s=>t.camposOptometria.ambulatorial.add.avl=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",dn,[o(n,{modelValue:t.camposOptometria.ambulatorial.add.avp,"onUpdate:modelValue":e[157]||(e[157]=s=>t.camposOptometria.ambulatorial.add.avp=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),o(te,{"expand-separator":"",modelValue:t.abasOptometria.Afinamento,"onUpdate:modelValue":e[174]||(e[174]=s=>t.abasOptometria.Afinamento=s),onShow:i.setAba,onHide:i.setAba,label:"Afinamento"},{default:l(()=>[o(Q,{class:"bg-white q-mb-md no-shadow"},{default:l(()=>[r("div",un,[o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>e[292]||(e[292]=[r("div",{class:"col-2 col-sm-1"}," \xA0\xA0\xA0 ",-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"ESF.")],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"CIL.")],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"EIXO")],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"A.V.L.")],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"A.V.P")],-1)])),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[293]||(e[293]=r("div",{class:"col-2 col-sm-1"}," OD ",-1)),r("div",mn,[o(n,{modelValue:t.camposOptometria.afinamento.od.esf,"onUpdate:modelValue":e[159]||(e[159]=s=>t.camposOptometria.afinamento.od.esf=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",cn,[o(n,{modelValue:t.camposOptometria.afinamento.od.cil,"onUpdate:modelValue":e[160]||(e[160]=s=>t.camposOptometria.afinamento.od.cil=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",pn,[o(n,{modelValue:t.camposOptometria.afinamento.od.eixo,"onUpdate:modelValue":e[161]||(e[161]=s=>t.camposOptometria.afinamento.od.eixo=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",fn,[o(n,{modelValue:t.camposOptometria.afinamento.od.avl,"onUpdate:modelValue":e[162]||(e[162]=s=>t.camposOptometria.afinamento.od.avl=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",bn,[o(n,{modelValue:t.camposOptometria.afinamento.od.avp,"onUpdate:modelValue":e[163]||(e[163]=s=>t.camposOptometria.afinamento.od.avp=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[294]||(e[294]=r("div",{class:"col-2 col-sm-1"}," OE ",-1)),r("div",gn,[o(n,{modelValue:t.camposOptometria.afinamento.oe.esf,"onUpdate:modelValue":e[164]||(e[164]=s=>t.camposOptometria.afinamento.oe.esf=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",vn,[o(n,{modelValue:t.camposOptometria.afinamento.oe.cil,"onUpdate:modelValue":e[165]||(e[165]=s=>t.camposOptometria.afinamento.oe.cil=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",hn,[o(n,{modelValue:t.camposOptometria.afinamento.oe.eixo,"onUpdate:modelValue":e[166]||(e[166]=s=>t.camposOptometria.afinamento.oe.eixo=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",yn,[o(n,{modelValue:t.camposOptometria.afinamento.oe.avl,"onUpdate:modelValue":e[167]||(e[167]=s=>t.camposOptometria.afinamento.oe.avl=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",xn,[o(n,{modelValue:t.camposOptometria.afinamento.oe.avp,"onUpdate:modelValue":e[168]||(e[168]=s=>t.camposOptometria.afinamento.oe.avp=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[295]||(e[295]=r("div",{class:"col-2 col-sm-1"}," ADD ",-1)),r("div",Vn,[o(n,{modelValue:t.camposOptometria.afinamento.add.esf,"onUpdate:modelValue":e[169]||(e[169]=s=>t.camposOptometria.afinamento.add.esf=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",wn,[o(n,{modelValue:t.camposOptometria.afinamento.add.cil,"onUpdate:modelValue":e[170]||(e[170]=s=>t.camposOptometria.afinamento.add.cil=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Cn,[o(n,{modelValue:t.camposOptometria.afinamento.add.eixo,"onUpdate:modelValue":e[171]||(e[171]=s=>t.camposOptometria.afinamento.add.eixo=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",kn,[o(n,{modelValue:t.camposOptometria.afinamento.add.avl,"onUpdate:modelValue":e[172]||(e[172]=s=>t.camposOptometria.afinamento.add.avl=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",zn,[o(n,{modelValue:t.camposOptometria.afinamento.add.avp,"onUpdate:modelValue":e[173]||(e[173]=s=>t.camposOptometria.afinamento.add.avp=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),o(te,{"expand-separator":"",modelValue:t.abasOptometria.Biomicroscopia,"onUpdate:modelValue":e[191]||(e[191]=s=>t.abasOptometria.Biomicroscopia=s),onShow:i.setAba,onHide:i.setAba,label:"Biomicroscopia"},{default:l(()=>[o(Q,{class:"bg-white q-mb-md no-shadow"},{default:l(()=>[r("div",On,[o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>e[296]||(e[296]=[r("div",{class:"col-2 col-sm-1"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}})],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"OD")],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"OE")],-1)])),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[297]||(e[297]=r("div",{class:"col-2 col-sm-1"}," Sobrancelhas ",-1)),r("div",qn,[r("label",_n,[o(n,{modelValue:t.camposOptometria.biomicroscopia.od.sobrancelhas,"onUpdate:modelValue":e[175]||(e[175]=s=>t.camposOptometria.biomicroscopia.od.sobrancelhas=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",An,[r("label",Fn,[o(n,{modelValue:t.camposOptometria.biomicroscopia.oe.sobrancelhas,"onUpdate:modelValue":e[176]||(e[176]=s=>t.camposOptometria.biomicroscopia.oe.sobrancelhas=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[298]||(e[298]=r("div",{class:"col-2 col-sm-1"}," C\xEDlios ",-1)),r("div",Pn,[r("label",Mn,[o(n,{modelValue:t.camposOptometria.biomicroscopia.od.cilios,"onUpdate:modelValue":e[177]||(e[177]=s=>t.camposOptometria.biomicroscopia.od.cilios=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",Un,[r("label",Tn,[o(n,{modelValue:t.camposOptometria.biomicroscopia.oe.cilios,"onUpdate:modelValue":e[178]||(e[178]=s=>t.camposOptometria.biomicroscopia.oe.cilios=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[299]||(e[299]=r("div",{class:"col-2 col-sm-1"}," P\xE1lpebras ",-1)),r("div",Dn,[r("label",jn,[o(n,{modelValue:t.camposOptometria.biomicroscopia.od.palpepras,"onUpdate:modelValue":e[179]||(e[179]=s=>t.camposOptometria.biomicroscopia.od.palpepras=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",En,[r("label",Rn,[o(n,{modelValue:t.camposOptometria.biomicroscopia.oe.palpepras,"onUpdate:modelValue":e[180]||(e[180]=s=>t.camposOptometria.biomicroscopia.oe.palpepras=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[300]||(e[300]=r("div",{class:"col-2 col-sm-1"}," Conjuntivas ",-1)),r("div",In,[r("label",Bn,[o(n,{modelValue:t.camposOptometria.biomicroscopia.od.conjuntivas,"onUpdate:modelValue":e[181]||(e[181]=s=>t.camposOptometria.biomicroscopia.od.conjuntivas=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",Ln,[r("label",Nn,[o(n,{modelValue:t.camposOptometria.biomicroscopia.oe.conjuntivas,"onUpdate:modelValue":e[182]||(e[182]=s=>t.camposOptometria.biomicroscopia.oe.conjuntivas=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[301]||(e[301]=r("div",{class:"col-2 col-sm-1"}," C\xF3rneas ",-1)),r("div",Sn,[r("label",Hn,[o(n,{modelValue:t.camposOptometria.biomicroscopia.od.corneas,"onUpdate:modelValue":e[183]||(e[183]=s=>t.camposOptometria.biomicroscopia.od.corneas=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",Qn,[r("label",Xn,[o(n,{modelValue:t.camposOptometria.biomicroscopia.oe.corneas,"onUpdate:modelValue":e[184]||(e[184]=s=>t.camposOptometria.biomicroscopia.oe.corneas=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[302]||(e[302]=r("div",{class:"col-2 col-sm-1"}," \xCDris ",-1)),r("div",Gn,[r("label",Yn,[o(n,{modelValue:t.camposOptometria.biomicroscopia.od.iris,"onUpdate:modelValue":e[185]||(e[185]=s=>t.camposOptometria.biomicroscopia.od.iris=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",Wn,[r("label",Jn,[o(n,{modelValue:t.camposOptometria.biomicroscopia.oe.iris,"onUpdate:modelValue":e[186]||(e[186]=s=>t.camposOptometria.biomicroscopia.oe.iris=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[303]||(e[303]=r("div",{class:"col-2 col-sm-1"}," Cristalinos ",-1)),r("div",Zn,[r("label",Kn,[o(n,{modelValue:t.camposOptometria.biomicroscopia.od.cristalinos,"onUpdate:modelValue":e[187]||(e[187]=s=>t.camposOptometria.biomicroscopia.od.cristalinos=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",$n,[r("label",ed,[o(n,{modelValue:t.camposOptometria.biomicroscopia.oe.cristalinos,"onUpdate:modelValue":e[188]||(e[188]=s=>t.camposOptometria.biomicroscopia.oe.cristalinos=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[304]||(e[304]=r("div",{class:"col-2 col-sm-1"}," Observa\xE7\xE3o ",-1)),r("div",od,[r("label",td,[o(n,{modelValue:t.camposOptometria.biomicroscopia.od.observacao,"onUpdate:modelValue":e[189]||(e[189]=s=>t.camposOptometria.biomicroscopia.od.observacao=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",ld,[r("label",ad,[o(n,{modelValue:t.camposOptometria.biomicroscopia.oe.observacao,"onUpdate:modelValue":e[190]||(e[190]=s=>t.camposOptometria.biomicroscopia.oe.observacao=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),o(te,{"expand-separator":"",modelValue:t.abasOptometria.RXFinal,"onUpdate:modelValue":e[207]||(e[207]=s=>t.abasOptometria.RXFinal=s),onShow:i.setAba,onHide:i.setAba,label:"RX Final"},{default:l(()=>[o(Q,{class:"bg-white q-mb-md no-shadow"},{default:l(()=>[r("div",sd,[o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>e[305]||(e[305]=[r("div",{class:"col-2 col-sm-1"}," \xA0\xA0\xA0 ",-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"ESF.")],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"CIL.")],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"EIXO")],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"A.V.L.")],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"A.V.P")],-1)])),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[306]||(e[306]=r("div",{class:"col-2 col-sm-1"}," OD ",-1)),r("div",id,[o(n,{modelValue:t.camposOptometria.rxFinal.od.esf,"onUpdate:modelValue":e[192]||(e[192]=s=>t.camposOptometria.rxFinal.od.esf=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",rd,[o(n,{modelValue:t.camposOptometria.rxFinal.od.cil,"onUpdate:modelValue":e[193]||(e[193]=s=>t.camposOptometria.rxFinal.od.cil=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",nd,[o(n,{modelValue:t.camposOptometria.rxFinal.od.eixo,"onUpdate:modelValue":e[194]||(e[194]=s=>t.camposOptometria.rxFinal.od.eixo=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",dd,[o(n,{modelValue:t.camposOptometria.rxFinal.od.avl,"onUpdate:modelValue":e[195]||(e[195]=s=>t.camposOptometria.rxFinal.od.avl=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",ud,[o(n,{modelValue:t.camposOptometria.rxFinal.od.avp,"onUpdate:modelValue":e[196]||(e[196]=s=>t.camposOptometria.rxFinal.od.avp=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[307]||(e[307]=r("div",{class:"col-2 col-sm-1"}," OE ",-1)),r("div",md,[o(n,{modelValue:t.camposOptometria.rxFinal.oe.esf,"onUpdate:modelValue":e[197]||(e[197]=s=>t.camposOptometria.rxFinal.oe.esf=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",cd,[o(n,{modelValue:t.camposOptometria.rxFinal.oe.cil,"onUpdate:modelValue":e[198]||(e[198]=s=>t.camposOptometria.rxFinal.oe.cil=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",pd,[o(n,{modelValue:t.camposOptometria.rxFinal.oe.eixo,"onUpdate:modelValue":e[199]||(e[199]=s=>t.camposOptometria.rxFinal.oe.eixo=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",fd,[o(n,{modelValue:t.camposOptometria.rxFinal.oe.avl,"onUpdate:modelValue":e[200]||(e[200]=s=>t.camposOptometria.rxFinal.oe.avl=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",bd,[o(n,{modelValue:t.camposOptometria.rxFinal.oe.avp,"onUpdate:modelValue":e[201]||(e[201]=s=>t.camposOptometria.rxFinal.oe.avp=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[308]||(e[308]=r("div",{class:"col-2 col-sm-1"}," ADD ",-1)),r("div",gd,[o(n,{modelValue:t.camposOptometria.rxFinal.add.esf,"onUpdate:modelValue":e[202]||(e[202]=s=>t.camposOptometria.rxFinal.add.esf=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",vd,[o(n,{modelValue:t.camposOptometria.rxFinal.add.cil,"onUpdate:modelValue":e[203]||(e[203]=s=>t.camposOptometria.rxFinal.add.cil=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",hd,[o(n,{modelValue:t.camposOptometria.rxFinal.add.eixo,"onUpdate:modelValue":e[204]||(e[204]=s=>t.camposOptometria.rxFinal.add.eixo=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",yd,[o(n,{modelValue:t.camposOptometria.rxFinal.add.avl,"onUpdate:modelValue":e[205]||(e[205]=s=>t.camposOptometria.rxFinal.add.avl=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",xd,[o(n,{modelValue:t.camposOptometria.rxFinal.add.avp,"onUpdate:modelValue":e[206]||(e[206]=s=>t.camposOptometria.rxFinal.add.avp=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),o(te,{"expand-separator":"",modelValue:t.abasOptometria.Diagnostico,"onUpdate:modelValue":e[217]||(e[217]=s=>t.abasOptometria.Diagnostico=s),onShow:i.setAba,onHide:i.setAba,label:"Diagnostico"},{default:l(()=>[o(Q,{class:"bg-white q-mb-md no-shadow"},{default:l(()=>[r("div",Vd,[o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>e[309]||(e[309]=[r("div",{class:"col-2 col-sm-1"}," \xA0\xA0\xA0 ",-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Patol\xF3gico")],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Motor")],-1),r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Refrativo")],-1)])),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[310]||(e[310]=r("div",{class:"col-2 col-sm-1"}," OD ",-1)),r("div",wd,[o(n,{modelValue:t.camposOptometria.diagnostico.od.patologico,"onUpdate:modelValue":e[208]||(e[208]=s=>t.camposOptometria.diagnostico.od.patologico=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Cd,[o(n,{modelValue:t.camposOptometria.diagnostico.od.motor,"onUpdate:modelValue":e[209]||(e[209]=s=>t.camposOptometria.diagnostico.od.motor=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",kd,[o(n,{modelValue:t.camposOptometria.diagnostico.od.refrativo,"onUpdate:modelValue":e[210]||(e[210]=s=>t.camposOptometria.diagnostico.od.refrativo=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[311]||(e[311]=r("div",{class:"col-2 col-sm-1"}," OE ",-1)),r("div",zd,[o(n,{modelValue:t.camposOptometria.diagnostico.oe.patologico,"onUpdate:modelValue":e[211]||(e[211]=s=>t.camposOptometria.diagnostico.oe.patologico=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Od,[o(n,{modelValue:t.camposOptometria.diagnostico.oe.motor,"onUpdate:modelValue":e[212]||(e[212]=s=>t.camposOptometria.diagnostico.oe.motor=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",qd,[o(n,{modelValue:t.camposOptometria.diagnostico.oe.refrativo,"onUpdate:modelValue":e[213]||(e[213]=s=>t.camposOptometria.diagnostico.oe.refrativo=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[e[312]||(e[312]=r("div",{class:"col-2 col-sm-1"}," OBS ",-1)),r("div",_d,[o(n,{modelValue:t.camposOptometria.diagnostico.obs.patologico,"onUpdate:modelValue":e[214]||(e[214]=s=>t.camposOptometria.diagnostico.obs.patologico=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Ad,[o(n,{modelValue:t.camposOptometria.diagnostico.obs.motor,"onUpdate:modelValue":e[215]||(e[215]=s=>t.camposOptometria.diagnostico.obs.motor=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Fd,[o(n,{modelValue:t.camposOptometria.diagnostico.obs.refrativo,"onUpdate:modelValue":e[216]||(e[216]=s=>t.camposOptometria.diagnostico.obs.refrativo=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),o(Q,{class:"bg-white q-my-md no-shadow"},{default:l(()=>[o(d,null,{default:l(()=>[r("div",Pd,[o(D,{class:"text-tertiary"},{default:l(()=>[o(B,{name:"history",size:"24px"}),o(E,null,{default:l(()=>e[313]||(e[313]=[h("Termo de autoriza\xE7\xE3o")])),_:1})]),_:1}),e[314]||(e[314]=r("p",{class:"q-pa-md"},"Recebi instru\xE7\xF5es sobre cuidado visual e me foi explicado os resultados do exame. Sou ciente de que o exame \xE9 praticado por um profissional da \xE1rea da saude n\xE3o m\xE9dico: Optometrista, o qual \xE9 o fisiologista visual, encarregado de previnir, diagnosticar e tratar altera\xE7\xF5es do sistema visual e motor.",-1))]),r("div",Md,[o(D,{class:"text-tertiary"},{default:l(()=>[o(B,{name:"history",size:"24px"}),o(E,null,{default:l(()=>e[315]||(e[315]=[h("Encaminhamento")])),_:1})]),_:1}),e[316]||(e[316]=r("p",{class:"q-pa-md"},"Declaro ter sido orientado(a) a procurar um profissional m\xE9dico por suspeita de altera\xE7\xE3o patologica, detectada no exame do optometrista / ortoptista / neuro optometrista e que a resposabilidade pela conduta cl\xEDnica ficar\xE1 a cargo do profissional m\xE9dico escolhido(a) por mim: ",-1))])]),_:1})]),_:1})],64)):w("",!0)])])]),_:1})]),_:1})],32),o(b,{ref:"modalDependente","cpf-cnpj":"","data-nascimento":"","msg-erro":"Ocorreu um erro ao incluir o paciente.","msg-sucesso":"Paciente inclu\xEDdo com sucesso.",titulo:"Incluir Paciente",observacao:""},null,512),o(b,{ref:"modalMedico","msg-erro":"Ocorreu um erro ao incluir o m\xE9dico.","msg-sucesso":"Inclu\xEDdo com sucesso.",numeroDocumentoMunicipal:"CRM/CRO",titulo:"Incluir M\xE9dico ou Optometrista"},null,512)]),_:1})}var Td=N(Pa,[["render",Ud],["__scopeId","data-v-b94c544a"]]);const Dd={data(){return{}},emits:["mudarTela","fecharModal"],methods:{fecharModal(){this.$emit("fecharModal")},btAnterior(){this.$emit("mudarTela","ReceitaCompleta")}}};function jd(a,e,u,m,t,i){const n=C("g-label"),d=C("g-col"),g=C("g-row");return p(),y(L,{view:"hHh LpR fFf",class:"bg-light"},{default:l(()=>[o(X,null,{default:l(()=>[o(D,null,{default:l(()=>[o(c,{onClick:e[0]||(e[0]=b=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(ue,{vertical:"",inset:"",class:"q-mx-sm"}),o(c,{onClick:e[1]||(e[1]=b=>i.fecharModal()),icon:"close",round:"",flat:"",dense:""}),o(E,null,{default:l(()=>e[3]||(e[3]=[h("Integra\xE7\xE3o")])),_:1}),o(c,{onClick:e[2]||(e[2]=b=>i.fecharModal()),label:"Finalizar",color:"white","text-color":"tertiary",unelevated:"",class:"q-ml-sm"})]),_:1})]),_:1}),o(G,{class:"q-mt-md"},{default:l(()=>[o(Y,{class:"u-container rounded-borders"},{default:l(()=>[o(g,{gutter:"md"},{default:l(()=>[o(d,null,{default:l(()=>[o(n,{text:"h1 bold center",class:"q-my-xl q-mx-auto"},{default:l(()=>e[4]||(e[4]=[h("INTEGRA\xC7\xC3O...")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var Ed=N(Dd,[["render",jd]]);const Rd={components:{Contato:ro,FormatoRosto:ko,FormatoArmacao:So,EscolherArmacao:Zo,TirarFoto:ot,TamanhoFoto:ct,TamanhoArmacao:gt,Olho:_t,Diagonal:Et,Bifocal:Xt,Medidas:pl,FotoReceita:fo,ReceitaTeclado:vo,Anamnese:gl,GraficoAnamnese:ya,CampoVisao:Ee,Materiais:Pl,Cosmeticas:De,Polarizado:je,Carrinho:wa,Pagamento:za,NotaFiscal:_a,ReceitaCompleta:Td,Integracao:Ed,CardapioLentes:ga},data(){return{tela:"",optsEntreTelas:null}},emits:["fecharModal"],props:{avancar:String},methods:{async mudarTela(a,e){this.tela=a,this.optsEntreTelas=e,$db.jornada.doc.value.tela=this.tela,await $db.jornada.grava()}},async created(){await this.mudarTela(this.avancar||"Contato")}};function Id(a,e,u,m,t,i){const n=C("Contato"),d=C("FotoReceita"),g=C("ReceitaTeclado"),b=C("FormatoRosto"),s=C("FormatoArmacao"),_=C("EscolherArmacao"),f=C("TirarFoto"),T=C("TamanhoFoto"),v=C("TamanhoArmacao"),M=C("Olho"),V=C("Diagonal"),ee=C("Bifocal"),se=C("Medidas"),Z=C("Anamnese"),ie=C("Materiais"),me=C("CardapioLentes"),ce=C("Grafico-Anamnese"),pe=C("Campo-Visao"),fe=C("Cosmeticas"),xe=C("Polarizado"),Ve=C("Carrinho"),we=C("Pagamento"),Ce=C("NotaFiscal"),ze=C("Receita-Completa"),Re=C("Integracao");return p(),z(P,null,[t.tela==="Contato"?(p(),y(n,{key:0,onMudarTela:i.mudarTela,onFecharModal:e[0]||(e[0]=oe=>a.$emit("fecharModal"))},null,8,["onMudarTela"])):w("",!0),t.tela==="FotoReceita"?(p(),y(d,{key:1,onMudarTela:i.mudarTela,onFecharModal:e[1]||(e[1]=oe=>a.$emit("fecharModal"))},null,8,["onMudarTela"])):w("",!0),t.tela==="ReceitaTeclado"?(p(),y(g,{key:2,onMudarTela:i.mudarTela,onFecharModal:e[2]||(e[2]=oe=>a.$emit("fecharModal"))},null,8,["onMudarTela"])):w("",!0),t.tela==="FormatoRosto"?(p(),y(b,{key:3,onMudarTela:i.mudarTela,onFecharModal:e[3]||(e[3]=oe=>a.$emit("fecharModal"))},null,8,["onMudarTela"])):w("",!0),t.tela==="FormatoArmacao"?(p(),y(s,{key:4,onMudarTela:i.mudarTela,onFecharModal:e[4]||(e[4]=oe=>a.$emit("fecharModal"))},null,8,["onMudarTela"])):w("",!0),t.tela==="EscolherArmacao"?(p(),y(_,{key:5,onMudarTela:i.mudarTela,onFecharModal:e[5]||(e[5]=oe=>a.$emit("fecharModal"))},null,8,["onMudarTela"])):w("",!0),t.tela==="TirarFoto"?(p(),y(f,{key:6,onMudarTela:i.mudarTela,onFecharModal:e[6]||(e[6]=oe=>a.$emit("fecharModal"))},null,8,["onMudarTela"])):w("",!0),t.tela==="TamanhoFoto"?(p(),y(T,{key:7,onMudarTela:i.mudarTela,onFecharModal:e[7]||(e[7]=oe=>a.$emit("fecharModal"))},null,8,["onMudarTela"])):w("",!0),t.tela==="TamanhoArmacao"?(p(),y(v,{key:8,onMudarTela:i.mudarTela,onFecharModal:e[8]||(e[8]=oe=>a.$emit("fecharModal"))},null,8,["onMudarTela"])):w("",!0),t.tela==="Olho"?(p(),y(M,{key:9,onMudarTela:i.mudarTela,onFecharModal:e[9]||(e[9]=oe=>a.$emit("fecharModal"))},null,8,["onMudarTela"])):w("",!0),t.tela==="Diagonal"?(p(),y(V,{key:10,onMudarTela:i.mudarTela,onFecharModal:e[10]||(e[10]=oe=>a.$emit("fecharModal"))},null,8,["onMudarTela"])):w("",!0),t.tela==="Bifocal"?(p(),y(ee,{key:11,onMudarTela:i.mudarTela,onFecharModal:e[11]||(e[11]=oe=>a.$emit("fecharModal"))},null,8,["onMudarTela"])):w("",!0),t.tela==="Medidas"?(p(),y(se,{key:12,onMudarTela:i.mudarTela,onFecharModal:e[12]||(e[12]=oe=>a.$emit("fecharModal"))},null,8,["onMudarTela"])):w("",!0),t.tela==="Anamnese"?(p(),y(Z,{key:13,onMudarTela:i.mudarTela,onFecharModal:e[13]||(e[13]=oe=>a.$emit("fecharModal"))},null,8,["onMudarTela"])):w("",!0),t.tela==="Materiais"?(p(),y(ie,{key:14,onMudarTela:i.mudarTela,onFecharModal:e[14]||(e[14]=oe=>a.$emit("fecharModal"))},null,8,["onMudarTela"])):w("",!0),t.tela==="CardapioLentes"?(p(),y(me,{key:15,opts:t.optsEntreTelas,onMudarTela:i.mudarTela},null,8,["opts","onMudarTela"])):w("",!0),t.tela==="GraficoAnamnese"?(p(),y(ce,{key:16,onMudarTela:i.mudarTela},null,8,["onMudarTela"])):w("",!0),t.tela==="CampoVisao"?(p(),y(pe,{key:17,onMudarTela:i.mudarTela},null,8,["onMudarTela"])):w("",!0),t.tela==="Cosmeticas"?(p(),y(fe,{key:18,onMudarTela:i.mudarTela},null,8,["onMudarTela"])):w("",!0),t.tela==="Polarizado"?(p(),y(xe,{key:19,onMudarTela:i.mudarTela},null,8,["onMudarTela"])):w("",!0),t.tela==="Carrinho"?(p(),y(Ve,{key:20,onMudarTela:i.mudarTela},null,8,["onMudarTela"])):w("",!0),t.tela==="Pagamento"?(p(),y(we,{key:21,onMudarTela:i.mudarTela},null,8,["onMudarTela"])):w("",!0),t.tela==="NotaFiscal"?(p(),y(Ce,{key:22,onMudarTela:i.mudarTela},null,8,["onMudarTela"])):w("",!0),t.tela==="ReceitaCompleta"?(p(),y(ze,{key:23,onMudarTela:i.mudarTela},null,8,["onMudarTela"])):w("",!0),t.tela==="Integracao"?(p(),y(Re,{key:24,onMudarTela:i.mudarTela},null,8,["onMudarTela"])):w("",!0)],64)}var Bd=N(Rd,[["render",Id]]);const Ld={components:{Lista:to,PromptItemTabelaPreco:oo,JornadaFicha:Bd},data(){return{usuario:"",permissao:{outrasEmpresas:!1},mostrarJornada:!1,tela:"",contatos:{},lista:[],resultado:{},mostrar:{header:!0,barraTopo:!0,toolbarTitulo:!0,icone:"connect_without_contact",titulo:"Jornadas",buscar:!0,filtroAvancado:!0,btnAjuda:!0,btnAtualizar:!0,btnNovo:!0,toolbarAcoes:!0,checkBox:!1,btnRemover:!1,btnRestaurar:!1,centralizaTabs:!1,btnDetalhes:!1,btnExportaXLS:!1,btnMenuMais:!1,toolbarAdicao:!1,bannerMsg:"",conexao:{icone:"online",iconeTamanho:"xs",cor:"grey-5",rotulo:null,dica:"Online",denso:!0,flat:!0,escuro:!1}},busca:"",filtrosOriginal:{},filtros:{contato:{nome:"",id:""},idContatoEmpresa:"",idContatoVendedor:"",idContatoDigitador:"",numero:"",numeroCompra:null,dataHoraCriacao:{ini:"",fim:""},dataHoraModificacao:{ini:"",fim:""},ordenacao:"dataHoraModificacao",direcao:"desc"},empresaOpcoes:[],opcoesVendedores:[],ordenacaoOpcoes:[{value:"dataHoraCriacao",label:"Data de Cria\xE7\xE3o"},{value:"dataHoraModificacao",label:"Data de Modifica\xE7\xE3o"}],direcaoOpcoes:[{value:"asc",label:"Crescente"},{value:"desc",label:"Decrescente"}],tabSelecionada:{valor:"Digita\xE7\xE3o"},tabs:[{valor:"Digita\xE7\xE3o",rotulo:"Digita\xE7\xE3o"},{valor:"Finalizado",rotulo:"Finalizado"},{valor:"Todos",rotulo:"Todos"}],paginacao:{atual:1,maximo:1,total:1,limite:25}}},methods:{async atualizar(a){var u;const e=$utils.logarIni("JornadaLista");await $tryLoading(async()=>{var g,b,s,_,f,T,v,M,V,ee,se,Z,ie,me,ce,pe,fe,xe,Ve,we,Ce;let m={};a!=null&&a.buscarDadosRecentes&&(m=await $utils.localIDB.getItem({objectStore:"dadosRecentes",id:"JornadaLista_"+((g=this.usuario)==null?void 0:g.id)}),m!=null&&m._id&&(this.tabSelecionada.valor=(m==null?void 0:m.tabSelecionada)||"Digita\xE7\xE3o",this.busca=(m==null?void 0:m.busca)||"",this.filtros={contato:{nome:((s=(b=m==null?void 0:m.filtros)==null?void 0:b.contato)==null?void 0:s.nome)||"",id:((f=(_=m==null?void 0:m.filtros)==null?void 0:_.contato)==null?void 0:f.id)||""},idContatoEmpresa:((T=m==null?void 0:m.filtros)==null?void 0:T.idContatoEmpresa)||"",idContatoVendedor:((v=m==null?void 0:m.filtros)==null?void 0:v.idContatoVendedor)||"",idContatoDigitador:((M=m==null?void 0:m.filtros)==null?void 0:M.idContatoDigitador)||"",numero:((V=m==null?void 0:m.filtros)==null?void 0:V.numero)||"",numeroCompra:((ee=m==null?void 0:m.filtros)==null?void 0:ee.numeroCompra)||null,dataHoraCriacao:{ini:((Z=(se=m==null?void 0:m.filtros)==null?void 0:se.dataHoraCriacao)==null?void 0:Z.ini)||"",fim:((me=(ie=m==null?void 0:m.filtros)==null?void 0:ie.dataHoraCriacao)==null?void 0:me.fim)||""},dataHoraModificacao:{ini:((pe=(ce=m==null?void 0:m.filtros)==null?void 0:ce.dataHoraModificacao)==null?void 0:pe.ini)||"",fim:((xe=(fe=m==null?void 0:m.filtros)==null?void 0:fe.dataHoraModificacao)==null?void 0:xe.fim)||""},ordenacao:((Ve=m==null?void 0:m.filtros)==null?void 0:Ve.ordenacao)||"dataHoraModificacao",direcao:((we=m==null?void 0:m.filtros)==null?void 0:we.direcao)||"desc"},this.compareObject(this.filtrosOriginal,this.filtros,["ordenacao","direcao"])&&(this.$refs.jornadaLista.filtros=!0))),a!=null&&a.aba&&(this.tabSelecionada.valor=a.aba),this.tabSelecionadaAnt!==this.tabSelecionada.valor&&(this.paginacao.atual=1),this.tabSelecionadaAnt=this.tabSelecionada.valor,this.filtros.contato.nome===""&&(this.filtros.contato.id="");let t={...$utils.eliminarVazios(this.filtros),status:this.tabSelecionada.valor,idContato:this.filtros.contato.id,idContatoEmpresa:this.filtros.idContatoEmpresa,idContatoVendedor:this.filtros.idContatoVendedor,idContatoDigitador:this.filtros.idContatoDigitador,dataHoraCriacao:{ini:this.filtros.dataHoraCriacao.ini?be.formatDate(this.filtros.dataHoraCriacao.ini).substr(0,10):null,fim:this.filtros.dataHoraCriacao.fim?be.formatDate(be.addToDate(this.filtros.dataHoraCriacao.fim,{days:1})).substr(0,10):null},dataHoraModificacao:{ini:this.filtros.dataHoraModificacao.ini?be.formatDate(this.filtros.dataHoraModificacao.ini).substr(0,10):null,fim:this.filtros.dataHoraModificacao.fim?be.formatDate(be.addToDate(this.filtros.dataHoraModificacao.fim,{days:1})).substr(0,10):null},ordenacao:this.filtros.ordenacao,direcao:this.filtros.direcao};this.busca&&(this.paginacao.atual=1,/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/.test(this.busca)?(this.tabSelecionada.valor="Todos",t={status:"",id:this.busca}):t.termoBusca=this.busca);const i=[this.filtros.ordenacao],n=[this.filtros.direcao];let d=await $db.jornada.leListaCompleta({where:t,limit:this.paginacao.limite,page:this.paginacao.atual,sort:i,dir:n});this.paginacao.total=d.total,this.paginacao.maximo=d.totalPages,this.lista=d.data,this.contatos=d.contatos,this.carregarImagensContatos(this.contatos),m={_id:"JornadaLista_"+((Ce=this.usuario)==null?void 0:Ce.id),tabSelecionada:this.tabSelecionada.valor,busca:this.busca||"",filtros:$utils.clonar(this.filtros)},await $utils.localIDB.setItem({objectStore:"dadosRecentes",data:m})},{mensagem:"Carregando...",erro:"Ocorreu um erro ao consultar"}),$utils.logarFim(e,((u=this.lista)==null?void 0:u.length)||0)},async fecharModal(){this.mostrarJornada=!1,await this.atualizar()},async carregarImagensContatos(a){const e=Object.keys(a);if(!!e.length){await $utils.dormir(200);try{const u=await $db.hibrido.lista({table:"contato",columns:["id","apelido","imagem"],whereIn:{id:e}});for(const m of u)a[m.id].imagem=m.imagem||""}catch(u){console.error("Erro ao carregar imagens de contatos - ",u)}}},async abrir(a){try{$q.loading.show(),await $db.jornada.carrega(a),this.tela=$db.jornada.doc.value.tela==="CardapioLentes"?"Materiais":$db.jornada.doc.value.tela,this.mostrarJornada=!0}catch(e){let u=`Erro ao abrir a jornada. ${e.message}`;/^GError:.+/.test(e.message)&&(u=e.message.slice(7)),$q.notify({message:u,type:"negative"})}finally{$q.loading.hide()}},async selecionarEmpresa(){const a=await $db.contatoEmpresa.listaCache();if(a.length===0)throw new Error("GError:N\xE3o h\xE1 empresa configurada.");return a.length===1?a[0]:await $g.promptContato.show({filtro:{ativo:!0,empresas:!0},placeholder:"Selecione a empresa"})},async selecionarItemTabelaPreco(a){var i,n;const e=await $db.configuracoes.porNome("vendas.tabelapadrao",a);let u=Number((i=e.find(d=>d.idEmpresa===a))==null?void 0:i.valor);u||(u=Number((n=e.find(d=>!d.idEmpresa))==null?void 0:n.valor));let m,t=await $erp().itemTabelaPreco.toArray();if(u&&(m=t.find(d=>Number(d.codigoItemTabelaPreco)===u),m))return m;if(t=t.filter(d=>d.tabelaMaster===1&&(!d.idEmpresa||d.idEmpresa===a)),t.length!==0)return t.length===1?t[0]:await this.selecionarPromptItemTabelaPreco(null,a)},async selecionarPromptItemTabelaPreco(a,e){if(!a)return this.$refs.promptItemTabelaPreco.placeholder="Selecione a tabela de pre\xE7o",this.$refs.promptItemTabelaPreco.filtro={tabelaMaster:!0,idContatoEmpresa:e},this.$refs.promptItemTabelaPreco.mostrar(),new Promise((u,m)=>{this.resolve=u,this.reject=m});a.id||this.reject("Tabela de pre\xE7o n\xE3o selecionada"),this.resolve(a)},async selecionarVendedor(){var m;let a=(await $db.contato.ler({filtros:{ativo:!0,vendedores:!0}})).data;if(a.length===0)throw new Error("GError:N\xE3o h\xE1 vendedores cadastrados.");if(a.length===1)return a[0];let e;const u=this.usuario;return(m=u==null?void 0:u.numeroDocumentoNacional)!=null&&m.trim()&&(u.numeroDocumentoNacional=u.numeroDocumentoNacional.replace(/\D/g,""),e=a.find(t=>{if(!(t!=null&&t.numeroDocumentoNacional))return!1;const i=t.numeroDocumentoNacional.replace(/\D/g,"");return u.numeroDocumentoNacional===i}),e)||(e=await $g.promptContato.show({placeholder:"Selecione o vendedor",filtro:{ativo:!0,vendedores:!0}})),e},async obterContatoUsuario(){const a=this.usuario;return a!=null&&a.codigoUsuario?(await $db.hibrido.lista({table:"contato",where:{codigoUsuario:a.codigoUsuario}}))[0]:void 0},async criarClick(){try{const a=await this.obterContatoUsuario(),e=await this.selecionarEmpresa();if(!e)return;const u=await this.selecionarVendedor();if(!u)return;let m;try{m=await this.selecionarItemTabelaPreco(e.id)}catch(t){console.error(t);return}$q.loading.show(),await $db.jornada.cria({idContatoDigitador:a==null?void 0:a.id,idContatoEmpresa:e==null?void 0:e.id,idContatoVendedor:u==null?void 0:u.id,idItemTabelaPreco:m==null?void 0:m.id}),$q.loading.hide(),this.tela="Contato",this.mostrarJornada=!0}catch(a){let e=`Erro ao criar a jornada. ${a.message}`;/^GError:.+/.test(a.message)&&(e=a.message.slice(7)),$q.notify({message:e,type:"negative"})}finally{$q.loading.hide()}},async limparFiltrosClick(){this.filtros=$utils.clonar(this.filtrosOriginal),await this.atualizar()},async configurarPermissao(){this.permissao={outrasEmpresas:await $db.permissao.objeto("Diretiva_Venda/Fatura_OutrasLojas_VerTodos")||!1}},async configurarContato(){const a=await $g.promptContato.show({filtro:{ativo:!0}});!(a!=null&&a.id)||(this.filtros.contato={nome:a==null?void 0:a.nome,id:a==null?void 0:a.id})},async configurarEmpresas(){const a=[];let e=[];if(!this.permissao.outrasEmpresas){e=(await $db.contato.ler({filtros:{ativo:!0,empresas:!0}})).data;for(const u of e)a.push({label:u.nome,value:u.id})}if(this.permissao.outrasEmpresas){e=await $db.empresa.ler({filtro:{ativo:!0}});for(const u of e)a.push({label:u.nome,value:u.idContato})}this.empresaOpcoes=a==null?void 0:a.sort((u,m)=>{var t;return(t=u==null?void 0:u.label)==null?void 0:t.localeCompare(m==null?void 0:m.label)})},async configurarVendedores(){const a=(await $db.contato.ler({filtros:{ativo:!0,vendedores:!0}})).data;a==null||a.sort((e,u)=>{var m;return(m=e==null?void 0:e.nome)==null?void 0:m.localeCompare(u==null?void 0:u.nome)}),a.forEach(e=>{this.opcoesVendedores.push({label:e.nome,value:e.id})})},compareObject(a,e,u=[]){const m=Object.keys(a);for(const t of m)if(!u.includes(t)){if(typeof a[t]=="object"&&a[t]!==null){if(!this.compareObject(a[t],e[t],u))continue;return!0}else if(a[t]!==e[t])return!0}return!1}},async mounted(){this.usuario=JSON.parse(localStorage.getItem("usuario")),this.filtrosOriginal=$utils.clonar(this.filtros),await this.configurarPermissao(),await this.configurarEmpresas(),await this.configurarVendedores(),this.$route.params.id&&this.$route.params.id.length?(await this.abrir(this.$route.params.id),this.busca=this.$route.params.id,await this.atualizar()):await this.atualizar({buscarDadosRecentes:!0})}},Nd={id:"JornadaLista"},Sd={class:"mw80 text-center"},Hd={key:0},Qd={key:1},Xd={class:"text-weight-medium"},Gd={class:"text-weight-medium"};function Yd(a,e,u,m,t,i){const n=C("campo"),d=C("BadgeCopiarUid"),g=C("avatar"),b=C("g-label"),s=C("g-col"),_=C("g-row"),f=C("badge"),T=C("Lista"),v=C("PromptItemTabelaPreco"),M=C("JornadaFicha");return p(),z("div",Nd,[o(T,{ref:"jornadaLista",busca:t.busca,"onUpdate:busca":e[11]||(e[11]=V=>t.busca=V),onAtualizar:i.atualizar,onLimparFiltrosClick:i.limparFiltrosClick,onCriarClick:i.criarClick,lista:t.lista,tabSelecionada:t.tabSelecionada,tabs:t.tabs,paginacao:t.paginacao,mostrar:t.mostrar},{filtroCampos:l(()=>[o(n,{modelValue:t.filtros.contato.nome,"onUpdate:modelValue":e[0]||(e[0]=V=>t.filtros.contato.nome=V),dense:"",somenteLeitura:"",rotulo:"Cliente",before:[{icon:"search",handler:i.configurarContato}],class:"q-mt-sm"},null,8,["modelValue","before"]),o(n,{modelValue:t.filtros.idContatoEmpresa,"onUpdate:modelValue":e[1]||(e[1]=V=>t.filtros.idContatoEmpresa=V),options:t.empresaOpcoes,dense:"",clearable:"",rotuloFixo:"Empresa",tipo:"seletor",class:"q-mt-lg"},null,8,["modelValue","options"]),o(n,{modelValue:t.filtros.idContatoVendedor,"onUpdate:modelValue":e[2]||(e[2]=V=>t.filtros.idContatoVendedor=V),options:t.opcoesVendedores,dense:"",clearable:"",rotuloFixo:"Vendedor",tipo:"seletor",class:"q-mt-lg"},null,8,["modelValue","options"]),o(n,{modelValue:t.filtros.idContatoDigitador,"onUpdate:modelValue":e[3]||(e[3]=V=>t.filtros.idContatoDigitador=V),options:t.opcoesVendedores,dense:"",clearable:"",rotuloFixo:"Digitador",tipo:"seletor",class:"q-mt-lg"},null,8,["modelValue","options"]),o(n,{modelValue:t.filtros.dataHoraCriacao.ini,"onUpdate:modelValue":e[4]||(e[4]=V=>t.filtros.dataHoraCriacao.ini=V),dense:"",rotulo:"Data de Cria\xE7\xE3o",tipo:"data",class:"q-mt-xl"},null,8,["modelValue"]),o(n,{modelValue:t.filtros.dataHoraCriacao.fim,"onUpdate:modelValue":e[5]||(e[5]=V=>t.filtros.dataHoraCriacao.fim=V),dense:"",rotulo:"at\xE9",tipo:"data",class:"q-mt-sm"},null,8,["modelValue"]),o(n,{modelValue:t.filtros.dataHoraModificacao.ini,"onUpdate:modelValue":e[6]||(e[6]=V=>t.filtros.dataHoraModificacao.ini=V),dense:"",rotulo:"Data de Modifica\xE7\xE3o",tipo:"data",class:"q-mt-xl"},null,8,["modelValue"]),o(n,{modelValue:t.filtros.dataHoraModificacao.fim,"onUpdate:modelValue":e[7]||(e[7]=V=>t.filtros.dataHoraModificacao.fim=V),dense:"",rotulo:"at\xE9",tipo:"data",class:"q-mt-sm"},null,8,["modelValue"]),o(n,{modelValue:t.filtros.ordenacao,"onUpdate:modelValue":e[8]||(e[8]=V=>t.filtros.ordenacao=V),options:t.ordenacaoOpcoes,dense:"",rotuloFixo:"Ordenar por",tipo:"seletor",class:"q-mt-xl"},null,8,["modelValue","options"]),o(n,{modelValue:t.filtros.direcao,"onUpdate:modelValue":e[9]||(e[9]=V=>t.filtros.direcao=V),options:t.direcaoOpcoes,dense:"",rotuloFixo:"Dire\xE7\xE3o",tipo:"seletor",class:"q-mt-sm"},null,8,["modelValue","options"]),o(n,{modelValue:t.paginacao.limite,"onUpdate:modelValue":e[10]||(e[10]=V=>t.paginacao.limite=V),dense:"",tipo:"quantidade",rotulo:"Quantidade por p\xE1gina",min:"1",class:"q-mt-xl q-mb-md"},null,8,["modelValue"])]),itemLista:l(()=>[o(W,{bordered:"",class:"bg-white q-mb-xs rounded-borders"},{default:l(()=>[(p(!0),z(P,null,I(t.lista,V=>(p(),z("div",{key:V.id,class:"itemHover"},[o(R,{"manual-focus":"",class:"q-py-sm q-px-xs"},{default:l(()=>[o(F,{class:"hideonmobile col-auto q-px-sm no-margin"},{default:l(()=>[r("div",Sd,[o(d,{id:V==null?void 0:V.id,cor:"positive",dica:"ID Jornada"},null,8,["id"])])]),_:2},1024),o(F,{onClick:ee=>i.abrir(V==null?void 0:V.id),class:"col-md col-lg col-xl no-margin cursor-pointer"},{default:l(()=>[o(R,{class:"q-pa-none"},{default:l(()=>[o(F,{class:"col-auto items-center"},{default:l(()=>{var ee,se;return[o(g,{imagem:(ee=t.contatos[V==null?void 0:V.idContato])==null?void 0:ee.imagem,tamanho:"40",rotulo:(se=t.contatos[V==null?void 0:V.idContato])==null?void 0:se.nome,style:{display:"flex","align-self":"center"}},null,8,["imagem","rotulo"])]}),_:2},1024),o(F,{class:"col"},{default:l(()=>{var ee,se;return[o(H,{lines:"2",class:"text-weight-bold ellipsis-2-lines"},{default:l(()=>{var Z;return[r("span",null,[h(O(((Z=t.contatos[V==null?void 0:V.idContato])==null?void 0:Z.nome)||"Sem contato")+" ",1),o(K,{anchor:"bottom middle",self:"center middle"},{default:l(()=>e[13]||(e[13]=[h("Cliente")])),_:1})])]}),_:2},1024),(ee=t.contatos[V.idContatoEmpresa])!=null&&ee.nome?(p(),y(H,{key:0,caption:"",lines:"2",class:"ellipsis-2-lines"},{default:l(()=>{var Z;return[r("span",null,[o(B,{name:"business"}),h(" "+O((Z=t.contatos[V.idContatoEmpresa])==null?void 0:Z.nome)+" ",1),o(K,{anchor:"bottom middle",self:"center middle"},{default:l(()=>e[14]||(e[14]=[h("Empresa")])),_:1})])]}),_:2},1024)):w("",!0),(se=t.contatos[V==null?void 0:V.idContatoVendedor])!=null&&se.nome?(p(),y(H,{key:1,caption:"",lines:"2",class:"ellipsis-2-lines"},{default:l(()=>{var Z,ie,me,ce,pe,fe;return[o(B,{name:"person",style:{"margin-right":"2px"}}),(Z=t.contatos[V==null?void 0:V.idContatoVendedor])!=null&&Z.nome?(p(),z("span",Hd,[h(O((ie=t.contatos[V==null?void 0:V.idContatoVendedor])==null?void 0:ie.nome)+" ",1),o(K,{anchor:"bottom middle",self:"center middle"},{default:l(()=>e[15]||(e[15]=[h(" Vendedor ")])),_:1})])):w("",!0),((me=t.contatos[V==null?void 0:V.idContatoDigitador])==null?void 0:me.nome)&&((ce=t.contatos[V==null?void 0:V.idContatoDigitador])==null?void 0:ce.nome)!==((pe=t.contatos[V==null?void 0:V.idContatoVendedor])==null?void 0:pe.nome)?(p(),z("span",Qd,[h(" | "+O((fe=t.contatos[V==null?void 0:V.idContatoDigitador])==null?void 0:fe.nome)+" ",1),o(K,{anchor:"bottom middle",self:"center middle"},{default:l(()=>e[16]||(e[16]=[h(" Digitador ")])),_:1})])):w("",!0)]}),_:2},1024)):w("",!0),o(F,{class:"hideondesktop q-mt-sm"},{default:l(()=>[o(_,{mg:"xs-b"},{default:l(()=>[V.dataHoraCriacao?(p(),y(s,{key:0,col:"shrink"},{default:l(()=>[o(b,{icon:"mdi-calendar-today xs tertiary left",tip:`Emitido \xE1s ${a.$filters.hora(V==null?void 0:V.dataHoraCriacao)}`},{default:l(()=>[h(O(a.$filters.data(V==null?void 0:V.dataHoraCriacao)),1)]),_:2},1032,["tip"])]),_:2},1024)):w("",!0),V.dataHoraModificacao?(p(),y(s,{key:1,col:"shrink",class:"q-ml-sm"},{default:l(()=>[o(b,{icon:"mdi-calendar xs tertiary left",tip:`Finalizado \xE0s ${a.$filters.hora(V==null?void 0:V.dataHoraModificacao)}`},{default:l(()=>[h(O(a.$filters.data(V==null?void 0:V.dataHoraModificacao)),1)]),_:2},1032,["tip"])]),_:2},1024)):w("",!0)]),_:2},1024),o(_,{mg:"xs-b"},{default:l(()=>[o(s,{col:"shrink"},{default:l(()=>[o(d,{id:V==null?void 0:V.id,cor:"positive",dica:"ID Jornada"},null,8,["id"])]),_:2},1024),o(s,{col:"shrink",class:"q-ml-sm"},{default:l(()=>{var Z,ie;return[(Z=t.contatos[V.idContatoEmpresa])!=null&&Z.nome?(p(),y(f,{key:0,escuro:"",dica:"Empresa",cor:"tertiary",rotulo:(ie=t.contatos[V.idContatoEmpresa])==null?void 0:ie.nome,class:"col-auto q-mx-auto"},null,8,["rotulo"])):w("",!0)]}),_:2},1024)]),_:2},1024)]),_:2},1024)]}),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]),o(F,{onClick:ee=>i.abrir(V==null?void 0:V.id),class:"hideonmobile maxw160 q-pl-sm no-margin cursor-pointer"},{default:l(()=>[V.dataHoraCriacao?(p(),y(H,{key:0,caption:""},{default:l(()=>[r("span",null,[o(B,{name:"mdi-calendar-today",class:"q-mr-xs"}),r("span",Xd,O(a.$filters.data(V==null?void 0:V.dataHoraCriacao)),1),h(" "+O(a.$filters.hora(V==null?void 0:V.dataHoraCriacao))+" ",1),o(K,{anchor:"bottom middle",self:"center middle"},{default:l(()=>e[17]||(e[17]=[h("Criado")])),_:1})])]),_:2},1024)):w("",!0),V.dataHoraModificacao?(p(),y(H,{key:1,caption:""},{default:l(()=>[r("span",null,[o(B,{name:"mdi-calendar",class:"q-mr-xs"}),r("span",Gd,O(a.$filters.data(V==null?void 0:V.dataHoraModificacao)),1),h(" "+O(a.$filters.hora(V==null?void 0:V.dataHoraModificacao))+" ",1),o(K,{anchor:"bottom middle",self:"center middle"},{default:l(()=>e[18]||(e[18]=[h("Modificado")])),_:1})])]),_:2},1024)):w("",!0)]),_:2},1032,["onClick"]),o(F,{class:"col-shrink q-pl-sm no-margin"},{default:l(()=>[o(R,{class:"q-pa-none"},{default:l(()=>[t.tabSelecionada.valor!="Finalizado"?(p(),y(F,{key:0,class:"hideonmobile q-mr-xs",style:{width:"32px"}},{default:l(()=>[V.tela!=="Envelope"?(p(),y(c,{key:0,onClick:ee=>i.abrir(V==null?void 0:V.id),icon:"edit",color:"primary",size:"md",round:"",flat:"",dense:""},null,8,["onClick"])):w("",!0)]),_:2},1024)):w("",!0),o(F,{class:"hideondesktop no-margin",style:{width:"32px"}},{default:l(()=>[o(c,{icon:"more_vert",size:"md",round:"",flat:"",dense:""},{default:l(()=>[o(J,null,{default:l(()=>[x((p(),y(W,{link:"","no-border":"",separator:""},{default:l(()=>[V.tela!=="Envelope"?(p(),y(R,{key:0,onClick:ee=>i.abrir(V==null?void 0:V.id),clickable:"",class:"hideondesktop"},{default:l(()=>[o(F,{avatar:""},{default:l(()=>[o(B,{name:"edit"})]),_:1}),o(F,null,{default:l(()=>e[19]||(e[19]=[h(" Editar ")])),_:1})]),_:2},1032,["onClick"])):w("",!0)]),_:2},1024)),[[j]])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),V!=null&&V.id?(p(),y(ue,{key:0})):w("",!0)]))),128))]),_:1})]),_:1},8,["busca","onAtualizar","onLimparFiltrosClick","onCriarClick","lista","tabSelecionada","tabs","paginacao","mostrar"]),o(v,{ref:"promptItemTabelaPreco",onSelecionar:i.selecionarPromptItemTabelaPreco},null,8,["onSelecionar"]),o(ne,{modelValue:t.mostrarJornada,"onUpdate:modelValue":e[12]||(e[12]=V=>t.mostrarJornada=V),maximized:"",persistent:""},{default:l(()=>[o(M,{onFecharModal:i.fecharModal,avancar:t.tela},null,8,["onFecharModal","avancar"])]),_:1},8,["modelValue"])])}var $d=N(Ld,[["render",Yd]]);export{$d as default};
