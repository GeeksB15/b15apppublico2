import{_ as re,r as _,aw as se,o as c,p as V,f as a,w as t,S as y,T as m,j as w,k as u,H as U,d as f,e as p,P as le,bL as ne,F as P,u as z,aP as ie,C,U as k,t as h,m as x,Q,bg as ue,N as ce,l as de,cO as me}from"./index.6fe972ec.js";import{X as G}from"./xlsx.828573fe.js";import{L as fe}from"./Lista.3d96a066.js";import{m as pe}from"./ContatoModalFicha.f8613896.js";import{C as he}from"./ContatoCombinar.5383d32e.js";import"./ContatoFicha.aba3947d.js";import"./Icone.ead05ce4.js";import"./SeletorPais.49ad0f4c.js";import"./open-url.7d2c7ea8.js";const be={components:{Lista:fe,ContatoModalFicha:pe,ContatoCombinar:he},data(){return{usuario:"",mostrarFiltroVendedores:!1,width:0,lista:[],listaLayout:{},mostrar:{header:!0,barraTopo:!0,toolbarTitulo:!0,icone:"group",titulo:"Contatos",buscar:!0,filtroAvancado:!0,btnAjuda:!0,btnAtualizar:!0,btnNovo:!0,toolbarAcoes:!0,checkBox:!0,btnRemover:!0,btnRestaurar:!0,centralizaTabs:!1,btnDetalhes:!0,btnExportaXLS:!0,btnMenuMais:!0,toolbarAdicao:!1,bannerMsg:""},busca:"",filtrosOriginal:{},filtros:{nome:null,numeroDocumentoNacional:null,telefone:null,bairro:null,municipio:null,uf:null,grupo:null,segmento:null,idContatoVendedor:null},opcoesEstados:[{label:"Acre (AC)",value:"AC"},{label:"Alagoas (AL)",value:"AL"},{label:"Amap\xE1 (AP)",value:"AP"},{label:"Amazonas (AM)",value:"AM"},{label:"Bahia (BA)",value:"BA"},{label:"Cear\xE1 (CE)",value:"CE"},{label:"Distrito Federal (DF)",value:"DF"},{label:"Esp\xEDrito Santo (ES)",value:"ES"},{label:"Goi\xE1s (GO)",value:"GO"},{label:"Maranh\xE3o (MA)",value:"MA"},{label:"Mato Grosso (MT)",value:"MT"},{label:"Mato Grosso do Sul (MS)",value:"MS"},{label:"Minas Gerais (MG)",value:"MG"},{label:"Par\xE1 (PA)",value:"PA"},{label:"Para\xEDba (PB)",value:"PB"},{label:"Paran\xE1 (PR)",value:"PR"},{label:"Pernambuco (PE)",value:"PE"},{label:"Piau\xED (PI)",value:"PI"},{label:"Rio de Janeiro (RJ)",value:"RJ"},{label:"Rio Grande do Norte (RN)",value:"RN"},{label:"Rio Grande do Sul (RS)",value:"RS"},{label:"Rond\xF4nia (RO)",value:"RO"},{label:"Roraima (RR)",value:"RR"},{label:"Santa Catarina (SC)",value:"SC"},{label:"S\xE3o Paulo (SP)",value:"SP"},{label:"Sergipe (SE)",value:"SE"},{label:"Tocantins (TO)",value:"TO"}],opcoesGrupos:[],opcoesSegmento:[],opcoesVendedores:[],tabSelecionada:{valor:""},tabs:[{valor:"Ativos",rotulo:"Ativos"},{valor:"Excluidos",rotulo:"Exclu\xEDdos"},{valor:"",rotulo:"Todos"}],detalhes:!1,checkBox:!1,paginacao:{atual:1,maximo:1,total:1,limite:25},tiposEnderecos:[{label:"Principal",value:"Principal",icon:"star",color:"orange"},{label:"Cobran\xE7a",value:"Cobran\xE7a",icon:"attach_money"},{label:"Comercial",value:"Comercial",icon:"business"},{label:"Correspond\xEAncia",value:"Correspond\xEAncia",icon:"mail"},{label:"Entrega",value:"Entrega",icon:"local_shipping"},{label:"Instala\xE7\xE3o",value:"Instala\xE7\xE3o",icon:"build"},{label:"Residencial",value:"Residencial",icon:"store_mall_directory"},{label:"Outros",value:"Outros",icon:"location_city"}],tiposTelefones:[{label:"Principal",value:"Principal",icon:"star",color:"orange"},{label:"WhatsApp",value:"WhatsApp",icon:"mdi-whatsapp"},{label:"Celular",value:"Celular",icon:"phone_iphone"},{label:"Comercial",value:"Comercial",icon:"phone"},{label:"Fixo",value:"Fixo",icon:"phone"}],copiaEmail:"",combinarContatos:!1}},methods:{async atualizar(l){var e,d,L,i,s,g,A,F,v,S,I,O,T,B,D,o,E,r,b,M,J,X,H,W,$,Y,K,Z,ee;try{$q.loading.show(),this.lista=[],this.tabSelecionadaAnt!==this.tabSelecionada.valor&&(this.paginacao.atual=1),this.tabSelecionadaAnt=this.tabSelecionada.valor;let{buscarDadosRecentes:oe}=l!=null?l:{},n={},N={};oe&&(n=await $utils.localIDB.getItem({objectStore:"dadosRecentes",id:"ContatoLista_"+((e=this.usuario)==null?void 0:e.id)}),n!=null&&n._id&&(this.tabSelecionada.valor=n==null?void 0:n.tabSelecionada,this.busca=(n==null?void 0:n.busca)||"",this.filtros={nome:((d=n==null?void 0:n.filtros)==null?void 0:d.nome)||null,numeroDocumentoNacional:((L=n==null?void 0:n.filtros)==null?void 0:L.numeroDocumentoNacional)||null,telefone:((i=n==null?void 0:n.filtros)==null?void 0:i.telefone)||null,bairro:((s=n==null?void 0:n.filtros)==null?void 0:s.bairro)||null,municipio:((g=n==null?void 0:n.filtros)==null?void 0:g.municipio)||null,uf:((A=n==null?void 0:n.filtros)==null?void 0:A.uf)||null,grupo:((F=n==null?void 0:n.filtros)==null?void 0:F.grupo)||null,segmento:((v=n==null?void 0:n.filtros)==null?void 0:v.segmento)||null,idContatoVendedor:((S=n==null?void 0:n.filtros)==null?void 0:S.idContatoVendedor)||null},this.compareObject(this.filtrosOriginal,this.filtros,["ativo"])&&(this.$refs.contatoLista.filtros=!0))),this.busca=((I=this.busca)==null?void 0:I.trim())||"",this.filtros={termoBusca:this.busca,nome:(T=(O=this.filtros)==null?void 0:O.nome)==null?void 0:T.trim(),numeroDocumentoNacional:(D=(B=this.filtros)==null?void 0:B.numeroDocumentoNacional)==null?void 0:D.trim(),telefone:(E=(o=this.filtros)==null?void 0:o.telefone)==null?void 0:E.trim(),bairro:(b=(r=this.filtros)==null?void 0:r.bairro)==null?void 0:b.trim(),municipio:(J=(M=this.filtros)==null?void 0:M.municipio)==null?void 0:J.trim(),uf:(H=(X=this.filtros)==null?void 0:X.uf)==null?void 0:H.trim(),grupo:($=(W=this.filtros)==null?void 0:W.grupo)==null?void 0:$.trim(),segmento:(K=(Y=this.filtros)==null?void 0:Y.segmento)==null?void 0:K.trim(),idContatoVendedor:(Z=this.filtros)==null?void 0:Z.idContatoVendedor},this.filtros=$utils.eliminarVazios(this.filtros),delete this.filtros.ativo,this.tabSelecionada.valor==="Ativos"&&(this.filtros.ativo=!0),this.tabSelecionada.valor==="Excluidos"&&(this.filtros.ativo=!1),N=$utils.clonarV2(this.filtros),/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/.test(this.busca)&&(N={},this.tabSelecionada.valor="",this.paginacao.atual=1,N.id=this.busca),N.somenteCarteira=!0;let R=await $db.contato.ler({filtros:N,limit:this.paginacao.limite,page:this.paginacao.atual,sort:["nome"]}),ae=!0,te=!0;for(const q of R.data){if(!this.listaLayout.hasOwnProperty(q.id)){const j=await $db.contato.leCompletoV3(q.id);j.detalhes=!1,j.remover=!1,this.listaLayout[q.id]=j}this.listaLayout[q.id].remover||(ae=!1),this.listaLayout[q.id].detalhes||(te=!1)}this.$refs.contatoLista.checkbox=ae,this.$refs.contatoLista.detalhes=te,this.lista=$utils.clonar(R.data),this.paginacao.total=R.total,this.paginacao.maximo=R.totalPages,n={_id:"ContatoLista_"+((ee=this.usuario)==null?void 0:ee.id),tabSelecionada:this.tabSelecionada.valor,busca:this.busca,filtros:$utils.clonar(this.filtros)},await $utils.localIDB.setItem({objectStore:"dadosRecentes",data:n})}catch{$q.notify({message:"N\xE3o foi possivel carregar os contatos.",type:"negative"})}finally{$q.loading.hide()}},async limparFiltrosClick(){this.filtros=$utils.clonar(this.filtrosOriginal),await this.atualizar()},async configurarGrupos(){try{const l=await $db.contato.leGruposUnicos();this.opcoesGrupos=l.map(e=>({label:e.descricao,value:e.descricao}))}catch{$q.notify({message:"N\xE3o foi possivel carregar os grupos.",type:"negative"})}},async configurarSegmento(){try{await $db.contato.carregarMemoria();const l=Array.from(new Set($db.contato.contatos.filter(e=>e.segmento).map(e=>e.segmento)));this.opcoesSegmento=l.map(e=>({label:e,value:e}))}catch{$q.notify({message:"N\xE3o foi possivel carregar segmentos.",type:"negative"})}},async configurarVendedores(){(await $db.contato.ler({filtros:{ativo:!0,vendedores:!0}})).data.forEach(e=>{this.opcoesVendedores.push({label:e.nome,value:e.id})})},async criarClick(){this.$refs.contatoFicha.show({id:""})},checkBoxClick(){for(const l of this.lista)this.listaLayout[l.id].remover=this.checkBox},verificarListaLayout(l){{let e=!0;for(const d of this.lista)this.listaLayout[d.id].remover||(e=!1);this.checkbox=e,this.$refs.contatoLista.checkbox=e}{let e=!0;for(const d of this.lista)this.listaLayout[d.id].detalhes||(e=!1);this.detalhes=e,this.$refs.contatoLista.detalhes=e}},async restaurarClick(){$q.dialog({title:"Restaurar itens",message:"Deseja restaurar todos os itens selecionados?",ok:{label:"Sim",class:"bg-negative",textColor:"white",push:!0,flat:!0},cancel:{label:"N\xE3o",color:"tertiary",push:!0,flat:!0}}).onOk(async()=>{try{$q.loading.show();for(const l of this.lista)if(this.listaLayout[l.id].remover){const e=$utils.clonar(l);l.ativo=!0,await $db.contato.gravar({original:{contato:e},atual:{contato:l}})}this.checkBox=!1,$q.notify({message:"Os Contatos foram restaurados com sucesso!",type:"positive"})}catch{$q.notify({message:"Houve um erro ao restaurar os contatos. Tente novamente.",type:"negative"})}finally{$q.loading.hide()}setTimeout(async()=>{await this.atualizar()},500)})},async removerClick(){$q.dialog({title:"Remover contatos",message:"Deseja remover todos os contatos selecionados?",cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(async()=>{try{$q.loading.show();for(const l of this.lista)if(this.listaLayout[l.id].remover){const e=$utils.clonar(l);l.ativo=!1,await $db.contato.gravar({original:{contato:e},atual:{contato:l}})}this.checkBox=!1,$q.notify({message:"Os Contatos foram removidos com sucesso!",type:"positive"})}catch{$q.notify({message:"Houve um erro ao remover os contatos. Tente novamente.",type:"negative"})}finally{$q.loading.hide()}setTimeout(async()=>{await this.atualizar()},500)})},detalhesClick(){this.detalhes=!this.detalhes,this.lista.forEach(async l=>{await this.abrirDetalhes(l,this.detalhes)})},async abrirDetalhes(l,e){this.listaLayout[l.id].detalhes=e||!this.listaLayout[l.id].detalhes,this.listaLayout[l.id].detalhes&&await $db.contato.leCompleto(l.id),this.verificarListaLayout("detalhes")},async exportaXLSClick(){try{$q.loading.show();const l=$utils.eliminarVazios(this.filtros);delete l.ativo,this.tabSelecionada.valor==="Ativos"&&(l.ativo=!0),this.tabSelecionada.valaor==="Excluidos"&&(l.ativo=!1);const e=await $db.contato.leRefatorado({filtros:l,limit:999999,page:1,sort:"descricao"}),d=G.utils.book_new(),L=G.utils.json_to_sheet(e.data,{header:Object.keys(e.data[0])});G.utils.book_append_sheet(d,L,"contatos"),G.writeFile(d,"contatos.xlsx"),$q.notify({message:"Exporta\xE7\xE3o XLS concluida!",type:"positive"})}catch{$q.notify({message:"Erro ao exportar XLS.",type:"negative"})}finally{$q.loading.hide()}},async abrirItem(l){this.$router.replace({params:{id:l}}).finally(()=>{this.$refs.contatoFicha.show({id:l})})},abrirEdicaoCompleta(l){$q.dialog({title:"Contato cadastrado!",message:"Deseja abrir a edi\xE7\xE3o completa?",persistent:"Sim",ok:{label:"Sim",class:"bg-primary",textColor:"white",push:!0,flat:!0},cancel:{label:"N\xE3o",color:"tertiary",push:!0,flat:!0}}).onOk(async()=>{await this.abrirItem(l)})},async restaurarContato(l,e=!1){$q.dialog({title:"Restaurar contato",message:"Deseja restaurar este contato?",ok:{label:"Sim",class:"bg-negative",textColor:"white",push:!0,flat:!0},cancel:{label:"N\xE3o",color:"tertiary",push:!0,flat:!0}}).onOk(async()=>{try{$q.loading.show();let d=$utils.clonar(l);l.ativo=!0,e>-1&&this.lista.splice(e,1),await $db.contato.gravar({original:{contato:d},atual:{contato:l}}),$q.notify({message:"O contato foi restaurado com sucesso!",type:"positive"})}catch{$q.notify({message:"Ocorreu um erro ao restaurar contato.",type:"negative"})}finally{$q.loading.hide()}})},async removerContato(l,e=!1){$q.dialog({title:"Remover contato",message:"Ao continuar voc\xEA ir\xE1 remover este contato.",ok:{label:"Sim",class:"bg-negative",textColor:"white",push:!0,flat:!0},cancel:{label:"N\xE3o",color:"tertiary",push:!0,flat:!0}}).onOk(async()=>{try{$q.loading.show();const d=$utils.clonar(l);l.ativo=!1,e>-1&&this.lista.splice(e,1),await $db.contato.gravar({atual:{contato:l},original:{contato:d}}),$q.notify({message:"O Contato foi removido com sucesso!",type:"positive"})}catch{$q.notify({message:"Ocorreu um erro ao remover contato.",type:"negative"})}finally{$q.loading.hide()}})},copiarEmail(l){this.copiaEmail=l;const e=this.$refs.inputEmail;e.type="text",e.value=l;try{e.select(),document.execCommand("copy"),this.$q.notify({message:"Copiado!",type:"info"})}catch{this.$q.notify("Erro ao copiar.")}e.type="hidden",window.getSelection().removeAllRanges()},abrirTelefone(l,e){let d="";l==="tel"&&(d=`tel:55${e.replace(/[-\s()]/g,"")}`),l==="whatsapp"&&(d=`https://wa.me/55${e.replace(/[-\s()]/g,"")}`),d&&window.open(d,"_blank").focus()},enderecoIcone(l){const e=this.tiposEnderecos.find(d=>d.label===l)||{};return{color:e.color||"dark",name:e.icon||"store_mall_directory",size:"15px"}},telefoneIcone(l){const e=this.tiposTelefones.find(d=>d.label===l)||{};return{color:e.color||"dark",name:e.icon||"store_mall_directory",size:"15px"}},idade(l){let e=l;if(!e)return 0;e=new Date(e);const d=new Date(Date.now()-e.getTime());return Math.abs(d.getUTCFullYear()-1970)},onResize(){this.width=window.innerWidth},compareObject(l,e,d=[]){const L=Object.keys(l);for(const i of L)if(!d.includes(i)){if(typeof l[i]=="object"&&l[i]!==null){if(!this.compareObject(l[i],e[i],d))continue;return!0}else if(l[i]!==e[i])return!0}return!1},cpf_ou_cnpj(l){const e=l==null?void 0:l.replace(/[^\d]/g,"");return/^\d{11}$/.test(e)?"CPF":/^\d{14}$/.test(e)?"CNPJ":"Documento inv\xE1lido"}},async created(){this.usuario=JSON.parse(localStorage.getItem("usuario")),this.filtrosOriginal=$utils.clonar(this.filtros),this.mostrarFiltroVendedores=await $db.permissao.objeto("Diretiva_Contatos_AcessaTodosContatos"),this.mostrarFiltroVendedores&&await this.configurarVendedores(),await this.configurarSegmento(),await this.configurarGrupos(),await this.atualizar({buscarDadosRecentes:!0}),this.$route.params.id&&this.$route.params.id.length&&(this.abrirItem(this.$route.params.id),this.busca=this.$route.params.id,await this.atualizar())}},ge={id:"ContatoLista"},ve={class:"mw80 text-center"};function ye(l,e,d,L,i,s){const g=_("campo"),A=_("BadgeCopiarUid"),F=_("avatar"),v=_("g-label"),S=_("g-col"),I=_("g-row"),O=_("Lista"),T=_("ContatoModalFicha"),B=_("ContatoCombinar"),D=se("mask");return c(),V("div",ge,[a(O,{ref:"contatoLista",busca:i.busca,"onUpdate:busca":e[13]||(e[13]=o=>i.busca=o),checkBox:i.checkBox,"onUpdate:checkBox":e[14]||(e[14]=o=>i.checkBox=o),onAtualizar:s.atualizar,onCheckBoxClick:s.checkBoxClick,onCriarClick:s.criarClick,onDetalhesClick:s.detalhesClick,onExportaXLSClick:s.exportaXLSClick,onLimparFiltrosClick:s.limparFiltrosClick,onRemoverClick:s.removerClick,onRestaurarClick:s.restaurarClick,lista:i.lista,tabSelecionada:i.tabSelecionada,tabs:i.tabs,paginacao:i.paginacao,mostrar:i.mostrar},{menuExtras:t(()=>[a(y,{onClick:e[0]||(e[0]=()=>{this.combinarContatos=!0}),clickable:""},{default:t(()=>[a(m,{avatar:""},{default:t(()=>[a(w,{name:"compare_arrows"})]),_:1}),a(m,null,{default:t(()=>[u("Combinar Contato")]),_:1})]),_:1})]),filtroCampos:t(()=>[a(g,{modelValue:i.filtros.nome,"onUpdate:modelValue":e[1]||(e[1]=o=>i.filtros.nome=o),rotulo:"Nome ou Raz\xE3o Social",clearable:"",dense:"",class:"col-12 q-mt-md"},null,8,["modelValue"]),U(a(g,{modelValue:i.filtros.numeroDocumentoNacional,"onUpdate:modelValue":e[2]||(e[2]=o=>i.filtros.numeroDocumentoNacional=o),rotulo:"CPF/CNPJ",clearable:"",dense:"",class:"col-12 q-mt-lg"},null,8,["modelValue"]),[[D,["###.###.###-##","##.###.###/####-##"]]]),U(a(g,{modelValue:i.filtros.telefone,"onUpdate:modelValue":e[3]||(e[3]=o=>i.filtros.telefone=o),rotulo:"Telefone",clearable:"",dense:"",class:"col-12 q-mt-lg"},null,8,["modelValue"]),[[D,["(##) # ####-####"]]]),a(g,{modelValue:i.filtros.bairro,"onUpdate:modelValue":e[4]||(e[4]=o=>i.filtros.bairro=o),rotulo:"Bairro",clearable:"",dense:"",class:"col-12 q-mt-lg"},null,8,["modelValue"]),a(g,{modelValue:i.filtros.municipio,"onUpdate:modelValue":e[5]||(e[5]=o=>i.filtros.municipio=o),rotulo:"Munic\xEDpio",clearable:"",dense:"",class:"col-12 q-mt-lg"},null,8,["modelValue"]),a(g,{modelValue:i.filtros.uf,"onUpdate:modelValue":e[6]||(e[6]=o=>i.filtros.uf=o),options:i.opcoesEstados,clearable:"",dense:"",tipo:"seletor",rotulo:"Estado",class:"col-12 q-mt-lg"},null,8,["modelValue","options"]),a(g,{modelValue:i.filtros.segmento,"onUpdate:modelValue":e[7]||(e[7]=o=>i.filtros.segmento=o),options:i.opcoesSegmento,clearable:"",dense:"",tipo:"seletor",rotulo:"Segmento ou Profiss\xE3o",class:"col-12 q-mt-lg"},null,8,["modelValue","options"]),a(g,{modelValue:i.filtros.grupo,"onUpdate:modelValue":e[8]||(e[8]=o=>i.filtros.grupo=o),options:i.opcoesGrupos,clearable:"",dense:"",tipo:"seletor",rotulo:"Grupo",class:"col-12 q-mt-lg"},null,8,["modelValue","options"]),i.mostrarFiltroVendedores?(c(),f(g,{key:0,modelValue:i.filtros.idContatoVendedor,"onUpdate:modelValue":e[9]||(e[9]=o=>i.filtros.idContatoVendedor=o),options:i.opcoesVendedores,clearable:"",dense:"",tipo:"seletor",rotulo:"Vendedor ou Assistente",class:"col-12 q-mt-lg"},null,8,["modelValue","options"])):p("",!0),a(g,{modelValue:i.paginacao.limite,"onUpdate:modelValue":e[10]||(e[10]=o=>i.paginacao.limite=o),tipo:"quantidade",dense:"",rotulo:"Quantidade por p\xE1gina",min:"1",class:"col-12 q-mt-xl"},null,8,["modelValue"])]),itemLista:t(()=>[a(le,{bordered:"",class:"bg-white q-mb-xs rounded-borders"},{default:t(()=>[a(ne,{onResize:s.onResize},null,8,["onResize"]),(c(!0),V(P,null,z(i.lista,(o,E)=>(c(),V("div",{key:o.id,class:"itemHover"},[i.listaLayout[o.id]?(c(),f(y,{key:0,"manual-focus":"",clickable:"",class:"q-py-sm q-px-xs items-center"},{default:t(()=>[a(m,{class:"hideonmobile col-auto q-pr-sm no-margin"},{default:t(()=>[a(y,{class:"q-pa-none"},{default:t(()=>[a(m,{side:"",class:"col-auto q-pa-none"},{default:t(()=>[a(ie,{modelValue:i.listaLayout[o.id].remover,"onUpdate:modelValue":r=>i.listaLayout[o.id].remover=r,onClick:e[11]||(e[11]=r=>s.verificarListaLayout("checkbox"))},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(m,{side:"",class:"col-auto q-pa-none"},{default:t(()=>[C("div",ve,[a(A,{id:o.id,numero:o.codigoContato,cor:o.ativo?"positive":"tertiary",escuro:""},null,8,["id","numero","cor"])])]),_:2},1024)]),_:2},1024)]),_:2},1024),a(m,{class:"col-md col-lg col-xl no-margin"},{default:t(()=>[a(y,{class:"q-pa-none"},{default:t(()=>[a(m,{onClick:r=>s.abrirItem(o.id),class:"col-auto items-center"},{default:t(()=>[a(F,{imagem:o.photo,rotulo:o.nome,tamanho:"40",style:{display:"flex","align-self":"center"}},null,8,["imagem","rotulo"]),a(ie,{modelValue:i.listaLayout[o.id].remover,"onUpdate:modelValue":r=>i.listaLayout[o.id].remover=r,onClick:e[12]||(e[12]=r=>s.verificarListaLayout("checkbox")),class:"hideondesktop q-mt-md"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["onClick"]),a(m,{onClick:r=>s.abrirItem(o.id),class:"col"},{default:t(()=>[a(k,{lines:"2",class:"text-weight-bold"},{default:t(()=>[C("span",null,[u(h(o.apelido||o.nome)+" ",1),a(x,{anchor:"bottom middle",self:"center middle"},{default:t(()=>[u("Apelido/Fantasia")]),_:1})])]),_:2},1024),o.apelido&&o.apelido!==o.nome?(c(),f(k,{key:0,caption:"",lines:"2"},{default:t(()=>[C("span",null,[u(h(o.nome)+" ",1),a(x,{anchor:"bottom middle",self:"center middle"},{default:t(()=>[u("Nome/Raz\xE3o")]),_:1})])]),_:2},1024)):p("",!0),a(m,{class:"hideondesktop"},{default:t(()=>[C("div",null,[a(A,{id:o.id,numero:o.codigoContato,cor:o.ativo?"positive":"tertiary",escuro:"",class:"q-mt-xs"},null,8,["id","numero","cor"]),o.numeroDocumentoNacional?(c(),f(k,{key:0,caption:"",lines:"2",class:"text-weight-medium q-mt-xs"},{default:t(()=>[C("span",null,[u(h(o.numeroDocumentoNacional)+" ",1),a(x,{anchor:"bottom middle",self:"center middle"},{default:t(()=>[u("CPF/CNPJ")]),_:1})])]),_:2},1024)):p("",!0),o.numeroDocumentoEstadual?(c(),f(k,{key:1,caption:"",lines:"2",class:"q-mt-xs"},{default:t(()=>[C("span",null,[u(h(o.numeroDocumentoEstadual)+" ",1),a(x,{anchor:"bottom middle",self:"center middle"},{default:t(()=>[u("RG/IE")]),_:1})])]),_:2},1024)):p("",!0)])]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024),a(m,{onClick:r=>s.abrirItem(o.id),class:"hideonmobile maxw90 no-margin"},{default:t(()=>[a(k,{caption:"",class:"text-weight-medium"},{default:t(()=>[C("span",null,[u(h(l.$filters.data(o.dataAbertura))+" ",1),s.cpf_ou_cnpj(o.numeroDocumentoNacional)==="CPF"?(c(),f(x,{key:0,anchor:"bottom middle",self:"center middle"},{default:t(()=>[u(" Data Nascimento ")]),_:1})):p("",!0),s.cpf_ou_cnpj(o.numeroDocumentoNacional)==="CNPJ"?(c(),f(x,{key:1,anchor:"bottom middle",self:"center middle"},{default:t(()=>[u(" Data Funda\xE7\xE3o ")]),_:1})):p("",!0)])]),_:2},1024),s.cpf_ou_cnpj(o.numeroDocumentoNacional)==="CPF"?(c(),f(k,{key:0,caption:""},{default:t(()=>[u(h(s.idade(o.dataAbertura)>0?"Idade: "+s.idade(o.dataAbertura):""),1)]),_:2},1024)):p("",!0)]),_:2},1032,["onClick"]),a(m,{onClick:r=>s.abrirItem(o.id),class:"hideonmobile maxw130 no-margin"},{default:t(()=>[o.numeroDocumentoNacional?(c(),f(k,{key:0,caption:"",lines:"2",class:"text-weight-bold"},{default:t(()=>[C("span",null,[u(h(o.numeroDocumentoNacional)+" ",1),s.cpf_ou_cnpj(o.numeroDocumentoNacional)==="CPF"?(c(),f(x,{key:0,anchor:"bottom middle",self:"center middle"},{default:t(()=>[u(" CPF ")]),_:1})):p("",!0),s.cpf_ou_cnpj(o.numeroDocumentoNacional)==="CNPJ"?(c(),f(x,{key:1,anchor:"bottom middle",self:"center middle"},{default:t(()=>[u(" CNPJ ")]),_:1})):p("",!0)])]),_:2},1024)):p("",!0),o.numeroDocumentoEstadual?(c(),f(k,{key:1,caption:"",lines:"2"},{default:t(()=>[C("span",null,[u(h(o.numeroDocumentoEstadual)+" ",1),a(x,{anchor:"bottom middle",self:"center middle"},{default:t(()=>[u("RG/IE")]),_:1})])]),_:2},1024)):p("",!0)]),_:2},1032,["onClick"]),a(m,{class:"col-auto q-pl-sm no-margin"},{default:t(()=>[a(y,{class:"q-pa-none"},{default:t(()=>[a(m,{class:"hideonmobile no-margin"},{default:t(()=>[i.listaLayout[o.id]?(c(),f(Q,{key:0,onClick:r=>s.abrirDetalhes(o),flat:"",dense:"",round:"",size:"md",icon:i.listaLayout[o.id].detalhes?"keyboard_arrow_up":"keyboard_arrow_down"},null,8,["onClick","icon"])):p("",!0)]),_:2},1024),a(m,{class:"hideonmobile no-margin"},{default:t(()=>[a(Q,{onClick:r=>s.abrirItem(o.id),class:"hideonmobile",icon:"edit",size:"md",color:"primary",flat:"",dense:"",round:""},null,8,["onClick"])]),_:2},1024),a(m,{class:"no-margin"},{default:t(()=>[a(Q,{icon:"more_vert",size:"md",round:"",flat:"",dense:""},{default:t(()=>[a(ue,null,{default:t(()=>[U((c(),f(le,{link:"","no-border":"",separator:""},{default:t(()=>{var r;return[a(y,{onClick:b=>s.abrirDetalhes(o),clickable:"",class:"hideondesktop"},{default:t(()=>[a(m,{avatar:""},{default:t(()=>[a(w,{name:i.listaLayout[o.id].detalhes?"keyboard_arrow_up":"keyboard_arrow_down",size:"sm"},null,8,["name"])]),_:2},1024),a(m,null,{default:t(()=>[u("Detalhes")]),_:1})]),_:2},1032,["onClick"]),a(y,{onClick:b=>s.abrirItem(o.id),clickable:"",class:"hideondesktop"},{default:t(()=>[a(m,{avatar:""},{default:t(()=>[a(w,{name:"edit",size:"sm"})]),_:1}),a(m,null,{default:t(()=>[u("Editar")]),_:1})]),_:2},1032,["onClick"]),i.listaLayout[o.id].telefone.length?(c(!0),V(P,{key:0},z(i.listaLayout[o.id].telefone,b=>(c(),f(y,{key:b,clickable:"",class:"q-pa-none"},{default:t(()=>[a(m,{onClick:M=>s.abrirTelefone("tel",b.telefone),class:"no-padding itemHover"},{default:t(()=>[a(y,null,{default:t(()=>[a(m,{avatar:"",class:"no-padding"},{default:t(()=>[a(w,{name:"phone",size:"sm"})]),_:1}),a(m,{class:"no-padding"},{default:t(()=>[a(k,null,{default:t(()=>[u(h(b.telefone),1)]),_:2},1024),a(k,{caption:""},{default:t(()=>[u(h(b.tipoTelefone),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]),b.tipoTelefone==="Celular"||b.tipoTelefone==="WhatsApp"?(c(),f(m,{key:0,onClick:M=>s.abrirTelefone("whatsapp",b.telefone),side:"",class:"no-padding itemHover"},{default:t(()=>[a(w,{name:"mdi-whatsapp",size:"sm",class:"q-px-sm"})]),_:2},1032,["onClick"])):p("",!0)]),_:2},1024))),128)):p("",!0),(r=o==null?void 0:o.email)!=null&&r.length?(c(),f(y,{key:1,onClick:b=>s.copiarEmail(o.email),clickable:""},{default:t(()=>[a(m,{avatar:""},{default:t(()=>[a(w,{name:"email",size:"sm"})]),_:1}),a(m,null,{default:t(()=>[u(" Enviar por E-mail ")]),_:1})]),_:2},1032,["onClick"])):p("",!0),o.ativo?(c(),f(y,{key:2,clickable:"",onClick:b=>s.removerContato(o,E)},{default:t(()=>[a(m,{avatar:""},{default:t(()=>[a(w,{name:"delete",size:"sm"})]),_:1}),a(m,null,{default:t(()=>[u("Remover")]),_:1})]),_:2},1032,["onClick"])):p("",!0),o.ativo?p("",!0):(c(),f(y,{key:3,clickable:"",onClick:b=>s.restaurarContato(o,E)},{default:t(()=>[a(m,{avatar:""},{default:t(()=>[a(w,{name:"restore_from_trash",size:"sm"})]),_:1}),a(m,null,{default:t(()=>[u("Restaurar")]),_:1})]),_:2},1032,["onClick"]))]}),_:2},1024)),[[ce]])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)):p("",!0),i.listaLayout[o.id]&&i.listaLayout[o.id].detalhes?(c(),f(I,{key:1,gutter:"md-x lg-y"},{default:t(()=>[a(S,{col:"xs12 sm6 md",bordered:""},{default:t(()=>[a(v,{caption:"",icon:"location_on 14px tertiary"},{default:t(()=>[u(" Local ")]),_:1}),(c(!0),V(P,null,z(i.listaLayout[o.id].endereco.filter(r=>r.logradouro),r=>(c(),f(v,{key:r.id,text:"medium",lines:"3",caption:i.width<=992,icon:`
                    ${s.enderecoIcone(r.grupo).name}
                    ${s.enderecoIcone(r.grupo).size}
                    ${s.enderecoIcone(r.grupo).color}
                  `,class:"q-pl-md"},{default:t(()=>[u(h(r.logradouro)+" "+h(r.numero?", "+r.numero:"")+" "+h(r.complemento?", "+r.complemento:"")+" "+h(r.bairro?", "+r.bairro:"")+" "+h(r.municipio)+" "+h(r.uf?"-"+r.uf:"")+" "+h(r.cep?", CEP: "+r.cep:""),1)]),_:2},1032,["caption","icon"]))),128))]),_:2},1024),a(S,{col:"xs12 sm6 md",bordered:""},{default:t(()=>[a(v,{caption:"",icon:"phone 14px tertiary"},{default:t(()=>[u(" Telefones ")]),_:1}),(c(!0),V(P,null,z(i.listaLayout[o.id].telefone,r=>(c(),f(v,{key:r.id,text:"medium",lines:"2",caption:i.width<=992,icon:`
                    ${s.telefoneIcone(r.tipoTelefone).name}
                    ${s.telefoneIcone(r.tipoTelefone).size}
                    ${s.telefoneIcone(r.tipoTelefone).color}
                  `,class:"q-pl-md"},{default:t(()=>[u(h(r.telefone),1)]),_:2},1032,["caption","icon"]))),128)),a(v,{caption:"",icon:"email 14px tertiary"},{default:t(()=>[u(" E-mail ")]),_:1}),a(v,{caption:i.width<=992,text:"medium",class:"q-pl-md"},{default:t(()=>[u(h(o.email),1)]),_:2},1032,["caption"])]),_:2},1024),a(S,{col:"xs12 sm4 md",bordered:""},{default:t(()=>[a(v,{caption:"",icon:"local_offer 14px tertiary"},{default:t(()=>[u(" Segmento ")]),_:1}),o.segmento?(c(),f(v,{key:0,caption:i.width<=992,icon:"remove 14px tertiary left",text:"medium",class:"q-pl-md"},{default:t(()=>[u(h(o.segmento),1)]),_:2},1032,["caption"])):p("",!0)]),_:2},1024),a(S,{col:"xs12 sm4 md",bordered:""},{default:t(()=>[a(v,{caption:"",icon:"local_offer 14px tertiary"},{default:t(()=>[u(" Grupos ")]),_:1}),i.listaLayout[o.id].grupo?(c(!0),V(P,{key:0},z(i.listaLayout[o.id].grupo,r=>(c(),f(v,{key:r.id,caption:i.width<=992,icon:"remove 14px tertiary left",text:"medium",class:"q-pl-md"},{default:t(()=>[u(h(r.descricao),1)]),_:2},1032,["caption"]))),128)):p("",!0)]),_:2},1024)]),_:2},1024)):p("",!0),i.listaLayout[o.id]?(c(),f(de,{key:2})):p("",!0)]))),128))]),_:1})]),_:1},8,["busca","checkBox","onAtualizar","onCheckBoxClick","onCriarClick","onDetalhesClick","onExportaXLSClick","onLimparFiltrosClick","onRemoverClick","onRestaurarClick","lista","tabSelecionada","tabs","paginacao","mostrar"]),a(T,{ref:"contatoFicha",onAtualizar:s.atualizar},null,8,["onAtualizar"]),a(B,{modelValue:i.combinarContatos,"onUpdate:modelValue":e[15]||(e[15]=o=>i.combinarContatos=o),onAtualizar:s.atualizar},null,8,["modelValue","onAtualizar"]),U(C("input",{type:"hidden","onUpdate:modelValue":e[16]||(e[16]=o=>i.copiaEmail=o),ref:"inputEmail"},null,512),[[me,i.copiaEmail]])])}var De=re(be,[["render",ye]]);export{De as default};
