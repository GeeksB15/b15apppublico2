import{_ as ue,r as F,o as r,p as T,f as a,bI as de,w as o,S as w,T as u,j as E,U as c,k as n,P as J,F as Q,u as N,d as f,C as i,t as m,m as M,e as p,Q as D,be as me,H as G,N as X,l as Y,M as Z,L as fe,E as ce,G as $,h as ee,i as H,a_ as pe,a$ as ae,I as oe,J as se,b4 as ge,b5 as le,W as te,K as be,bq as ve,D as ne}from"./index.7fffe8c0.js";import{L as ye}from"./Lista.304cfc8a.js";import{S as xe}from"./SeletorEmpresa.61078266.js";const K={visivel:!1,dadosEmpresa:null,id:"",ativo:1,removido:0,gerarBonus:0,empresa:"",cnpjEmpresa:"00.000.000/000-00",vigenciaDe:null,vigenciaAte:null,idFinanceiroPlanoConta:null,percentual:10,percentualSobreBonus:5,valorMinimo:1,valorMaximo:500,diasMinimoUso:1,diasExpiracao:60,textoRegras:`[NomeEmpresa] tem um presente para voc\xEA [PrimeiroNome].
\xC9 um super b\xF4nus de R$ [Valor] para usar na pr\xF3xima compra acima de R$ [ValorMinimoCompra], mas corra, pois \xE9 v\xE1lido de [DataInicioValidade] at\xE9 [DataVencimento]!`,observacao:"",mensagens:{aoCriar:"",aoClienteAceitarReceberBonus:"",diasAntesDeVencer:[{dias:0,mensagem:""}],aoUsarBonus:""}},ke={components:{Lista:ye,SeletorEmpresa:xe},data(){return{usuario:"",listaLayout:{},lista:[],listaRemovidos:[],mostrar:{header:!1,barraTopo:!1,toolbarTitulo:!0,icone:"",titulo:"",buscar:!0,filtroAvancado:!0,btnAjuda:!0,btnAtualizar:!0,btnNovo:!0,toolbarAcoes:!0,checkBox:!1,btnRemover:!1,btnRestaurar:!1,centralizaTabs:!1,btnDetalhes:!0,btnExportaXLS:!1,btnMenuMais:!0,toolbarAdicao:!1,bannerMsg:""},busca:"",filtrosOriginal:{},filtros:{cnpjEmpresa:null,vigenciaDe:"",vigenciaAte:"",ordenacao:"vigenciaDe",direcao:"desc"},ordenacaoOpcoes:[{value:"vigenciaDe",label:"Vig\xEAncia De"},{value:"vigenciaAte",label:"Vig\xEAncia At\xE9"},{value:"descricao",label:"Descri\xE7\xE3o"}],direcaoOpcoes:[{value:"asc",label:"Crescente"},{value:"desc",label:"Decrescente"}],detalhes:!1,tabSelecionada:{valor:"Vigente"},tabs:[{valor:"Vigente",rotulo:"Vigente"},{valor:"Futuro",rotulo:"Futuro"},{valor:"Vencidos",rotulo:"Vencidos"},{valor:"Todos",rotulo:"Todos"}],paginacao:{atual:1,maximo:1,total:1,limite:25},bonusOriginal:{},bonus:{},tabConfiguracoes:"configuracoes",removidos:!1,dataAtual:$utils.dataAtual(),tela:{width:0,heihgt:0}}},methods:{async atualizar(t){var e,C,h,l,d,z,y,L,P,_,A,v;try{$q.loading.show(),this.lista=[],this.listaRemovidos=[];let b=[];this.tabSelecionadaAnt!==this.tabSelecionada.valor&&(this.paginacao.atual=1),this.tabSelecionadaAnt=this.tabSelecionada.valor;let{buscarDadosRecentes:I}=t!=null?t:{},x={};I&&(x=await $utils.localIDB.getItem({objectStore:"dadosRecentes",id:"ConfiguracoesBonus_"+((e=this.usuario)==null?void 0:e.id)}),x!=null&&x._id&&(this.tabSelecionada.valor=(x==null?void 0:x.tabSelecionada)||"Ativos",this.busca=(x==null?void 0:x.busca)||"",this.filtros={cnpjEmpresa:((C=x==null?void 0:x.filtros)==null?void 0:C.cnpjEmpresa)||null,vigenciaDe:((h=x==null?void 0:x.filtros)==null?void 0:h.vigenciaDe)||"",vigenciaAte:((l=x==null?void 0:x.filtros)==null?void 0:l.vigenciaAte)||"",ordenacao:((d=x==null?void 0:x.filtros)==null?void 0:d.ordenacao)||"vigenciaDe",direcao:((z=x==null?void 0:x.filtros)==null?void 0:z.direcao)||"desc"},this.compareObject(this.filtrosOriginal,this.filtros,["ordenacao","direcao"])&&(this.$refs.configuracoesBonus.filtros=!0)));const s=await $utils.geeksApi({leBonusConfiguracoes:{funcao:"2CB180A6-5464-4D30-AF0F-82C897831886"}}),g=(A=JSON.parse((_=(P=(L=(y=s==null?void 0:s.data)==null?void 0:y.leBonusConfiguracoes)==null?void 0:L[0])==null?void 0:P.json)!=null?_:null))!=null?A:[];if(b=this.ordenarDados(g,{ordenacao:this.filtros.ordenacao,direcao:this.filtros.direcao}),this.listaRemovidos=b.filter(k=>k.removido===1)||[],b=b.filter(k=>k.removido===0)||[],this.filtros.cnpjEmpresa){const k=this.filtros.cnpjEmpresa.numeroDocumentoNacional;b=b.filter(q=>q.cnpjEmpresa===k)}if(this.filtros.vigenciaDe||this.filtros.vigenciaAte){const k=this.filtros.vigenciaDe?new Date(this.filtros.vigenciaDe).setHours(0,0,0,0):null,q=this.filtros.vigenciaAte?new Date(this.filtros.vigenciaAte).setHours(0,0,0,0):null;b=b.filter(R=>{const O=new Date(R.vigenciaDe).setHours(0,0,0,0),U=new Date(R.vigenciaAte).setHours(0,0,0,0);return k!==null&&q!==null?O>=k&&O<=q||U>=q&&U<=k:k!==null?O>=k&&O<=k:q!==null?U>=q&&U<=q:!0})}if(this.busca)if(this.paginacao.atual=1,/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/.test(this.busca))this.tabSelecionada.valor="Todos",b=b.filter(q=>q.id===this.busca);else{const R=$utils.removerAcentos(this.busca.toUpperCase()).split(" ").filter(Boolean).filter(U=>!U.match(/^\d+$/)),O=[];b=b.filter(U=>{const ie=$utils.removerAcentos([(U.empresa||"Todas as empresas")+" - "+U.percentual+"%",U.cnpjEmpresa].join(" ").toUpperCase());let W=!0;for(const re of R)W=W&&ie.includes(re);return W})}this.tabSelecionada.valor==="Vigente"&&(b=b.filter(k=>new Date(k.vigenciaAte).setHours(0,0,0,0)>=new Date(this.dataAtual).setHours(0,0,0,0))),this.tabSelecionada.valor==="Futuro"&&(b=b.filter(k=>new Date(k.vigenciaDe).setHours(0,0,0,0)>new Date(this.dataAtual).setHours(0,0,0,0))),this.tabSelecionada.valor==="Vencidos"&&(b=b.filter(k=>new Date(k.vigenciaAte).setHours(0,0,0,0)<new Date(this.dataAtual).setHours(0,0,0,0)));const B=Math.ceil(b.length/this.paginacao.limite);this.paginacao.atual=this.paginacao.atual>B?B:this.paginacao.atual,this.paginacao.total=b.length,this.paginacao.maximo=B;const V=this.paginacao.atual*this.paginacao.limite-this.paginacao.limite,j=this.paginacao.atual*this.paginacao.limite;this.lista=b.slice(V,j);let S=!0;for(const k of this.lista)this.listaLayout.hasOwnProperty(k.id)||(this.listaLayout[k.id]={detalhes:!1}),this.listaLayout[k.id].detalhes||(S=!1);this.$refs.configuracoesBonus.detalhes=S,x={_id:"ConfiguracoesBonus_"+((v=this.usuario)==null?void 0:v.id),tabSelecionada:this.tabSelecionada.valor,busca:this.busca,filtros:$utils.clonar(this.filtros)},await $utils.localIDB.setItem({objectStore:"dadosRecentes",data:x})}catch(b){$q.notifyError("Erro iniciar",b)}finally{$q.loading.hide()}},ordenarDados(t,e){return t.sort((C,h)=>{let l=e.ordenacao,d=e.direcao==="desc"?-1:1,z="",y="";return l.includes("vigencia")&&(z=new Date(C[l]),y=new Date(h[l])),l.includes("descricao")?(z=`${C.empresa?C.empresa:"Todas as empresas"} - ${C.percentual}%`,y=`${h.empresa?h.empresa:"Todas as empresas"} - ${h.percentual}%`):typeof z=="string"&&typeof y=="string"&&(z=z.trim().toLowerCase(),y=y.trim().toLowerCase()),z<y?-1*d:z>y?1*d:0})},async abrirBonus(t){if(t!=null&&t.id){const e=await this.buscarEmpresa(t.cnpjEmpresa);this.bonus={...t,dadosEmpresa:e,visivel:!0},this.bonusOriginal=$utils.clonar(this.bonus)}else this.bonus={...K,id:$utils.uuid(),vigenciaDe:this.dataAtual,vigenciaAte:this.dataAtual,visivel:!0}},fecharBonus(){this.bonus=$utils.clonar(K)},async salvarBonus(){try{$q.loading.show();const t=$utils.clonar(this.bonus),e=$utils.diferencaObjetos(this.bonusOriginal,t);Object.keys(e).length>0?(t.dadosEmpresa?(t.empresa=t.dadosEmpresa.nome||t.dadosEmpresa.apelido,t.cnpjEmpresa=t.dadosEmpresa.numeroDocumentoNacional):(t.empresa="",t.cnpjEmpresa=""),delete t.visivel,delete t.dadosEmpresa,await $utils.geeksApi({salvarBonusConfiguracoes:{funcao:"A288EBE9-B138-4D5D-A185-2F68BDDBB3F9",...t}}),this.bonus=$utils.clonar(K),await this.atualizar(),$q.notifyPositive("Configura\xE7\xF5es de b\xF4nus cadastrada com sucesso!")):$q.notify("Configura\xE7\xF5es de b\xF4nus sem altera\xE7\xF5es a serem salvas.")}catch{$q.notifyError("Erro ao cadastrar configura\xE7\xF5es de b\xF4nus.")}finally{$q.loading.hide()}},async duplicarBonus(t){$q.dialog({title:"Duplicar Configura\xE7\xF5es do B\xF4nus",message:`Ao continuar voc\xEA ir\xE1 duplicar as configura\xE7\xF5es do b\xF4nus: ${t.empresa||"Todas as empresas"} - ${t.percentual+"%"}.`,cancel:{label:"N\xE3o",push:!0,color:"textiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk(async()=>{const e=await this.buscarEmpresa(t.cnpjEmpresa);this.bonus={...t,id:$utils.uuid(),vigenciaDe:this.dataAtual,vigenciaAte:this.dataAtual,dadosEmpresa:e,visivel:!0}})},removerBonus(t){$q.dialog({title:"Remover Configura\xE7\xF5es do B\xF4nus",message:`Ao continuar voc\xEA ir\xE1 remover as configura\xE7\xF5es do b\xF4nus: ${t.empresa||"Todas as empresas"} - ${t.percentual+"%"}.`,cancel:{label:"N\xE3o",push:!0,color:"textiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk(async()=>{const e=await this.buscarEmpresa(t.cnpjEmpresa);this.bonus={...t,ativo:0,removido:1,dadosEmpresa:e,visivel:!1},await this.salvarBonus()})},restaurarBonus(t){$q.dialog({title:"Restaurar Configura\xE7\xF5es do B\xF4nus",message:`Ao continuar voc\xEA ir\xE1 restaurar as configura\xE7\xF5es do b\xF4nus: ${t.empresa||"Todas as empresas"} - ${t.percentual+"%"}.`,cancel:{label:"N\xE3o",push:!0,color:"textiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk(async()=>{const e=await this.buscarEmpresa(t.cnpjEmpresa);this.removidos=!1,this.bonus={...t,ativo:1,removido:0,dadosEmpresa:e,visivel:!0}})},async buscarEmpresa(t){try{if(t){const e=(await $db.hibrido.lista({table:"empresa",whereFilter:{numeroDocumentoNacional:t}}))[0];return{id:e.idContato,nome:e.nome,apelido:e.apelido,numeroDocumentoNacional:t}}return null}catch(e){$q.notifyError("Empresa n\xE3o localizada",e)}},adicionarDiasAntesDeVencer(t){try{t.mensagens.diasAntesDeVencer.push({dias:0,mensagem:""})}catch{$q.notifyError("Erro ao adicionar novo per\xEDodo de dias para vencimento.")}},async removerDiasAntesDeVencer(t,e){if(!!await $q.dialogSimNao({title:"Remover",message:"Deseja remover este per\xEDodo de dias de vencimento?"}))try{t.mensagens.diasAntesDeVencer.splice(e,1),t.mensagens.diasAntesDeVencer.length===0&&this.adicionarDiasAntesDeVencer(t)}catch(C){$q.notifyError("Ocorreu um erro ao remover este per\xEDodo de dias.",C)}},validacao(t,e){if(t==="vigenciaDe"){const C=new Date(e).setHours(0,0,0,0),h=new Date(this.bonus.vigenciaAte).setHours(0,0,0,0),l=new Date(this.dataAtual).setHours(0,0,0,0);if(!e)return"Defina a vig\xEAncia.";h<l&&(this.bonus.vigenciaAte=C>=l?this.bonus.vigenciaDe:this.dataAtual),h<C&&(this.bonus.vigenciaAte=C>=l?this.bonus.vigenciaDe:this.dataAtual);return}if(t==="vigenciaAte"){const C=new Date(this.bonus.vigenciaDe).setHours(0,0,0,0),h=new Date(e).setHours(0,0,0,0),l=new Date(this.dataAtual).setHours(0,0,0,0);return e?h<l?(this.bonus.vigenciaAte=C>=l?this.bonus.vigenciaDe:this.dataAtual,"A vig\xEAncia deve ser maior ou igual \xE0 data atual"):h<C?(this.bonus.vigenciaAte=C>=l?this.bonus.vigenciaDe:this.dataAtual,"A vig\xEAncia at\xE9 deve ser maior ou igual \xE0 vig\xEAncia de"):void 0:"Defina a vig\xEAncia."}if(t==="diasMinimoUso")return!e||e<0?(this.bonus.diasMinimoUso=1,"N\xFAmero de dias deve ser maior que 0"):void 0;if(t==="diasExpiracao")return!e||e<0?(this.bonus.diasExpiracao=1,"N\xFAmero de dias deve ser maior que 0"):void 0;if(t==="valorMinimo")return!e||e<0?(this.bonus.valorMinimo=0,"Valor deve ser maior que R$ 0,00"):void 0;if(t==="valorMaximo")return e<0?(this.bonus.valorMaximo=0,"Valor n\xE3o pode ser negativo."):void 0;if(t==="percentual")return!e||e<=0?(this.bonus.percentual=0,"O percentual deve ser maior que 0%"):void 0;if(t==="percentualSobreBonus")return e<0?(this.bonus.percentualSobreBonus=0,"O fator n\xE3o pode ser negativo."):e>=1e3?this.bonus.percentualSobreBonus=999.99:void 0},detalhesClick(){this.detalhes=!this.detalhes,this.lista.forEach(t=>{this.abrirDetalhes(t,this.detalhes)})},async abrirDetalhes(t,e){this.listaLayout[t.id].detalhes=e||!this.listaLayout[t.id].detalhes,this.verificarListaLayout("detalhes")},verificarListaLayout(t){{let e=!0;for(const C of this.lista)this.listaLayout[C.id].detalhes||(e=!1);this.detalhes=e,this.$refs.configuracoesBonus.detalhes=e}},async limparFiltrosClick(){this.filtros=$utils.clonar(this.filtrosOriginal),await this.atualizar()},compareObject(t,e,C=[]){const h=Object.keys(t);for(const l of h)if(!C.includes(l)){if(typeof t[l]=="object"&&t[l]!==null){if(!this.compareObject(t[l],e[l],C))continue;return!0}else if(t[l]!==e[l])return!0}return!1},resize(){const t=document.getElementById("ConfiguracoesBonus");t&&(this.tela={width:t.offsetWidth,height:t.offsetHeight})}},async mounted(){this.usuario=JSON.parse(localStorage.getItem("usuario")),this.filtrosOriginal=$utils.clonar(this.filtros),await this.atualizar({buscarDadosRecentes:!0})}},De={id:"ConfiguracoesBonus"},Ce={class:"mw80 text-center"},Ve={class:"text-weight-bold"},Ae={class:"text-weight-bold"},we={class:"text-weight-bold"},he={class:"text-weight-bold"},Be={class:"text-weight-medium"},Ee={class:"text-weight-bold"},qe={class:"text-weight-bold"},Me={key:0},ze={key:1},Ue={class:"mw80 text-center"},Se={class:"text-weight-bold"},Fe={class:"text-weight-bold"},je={class:"text-weight-bold"},Te={class:"text-weight-bold"},Le={class:"text-weight-medium"},_e={class:"text-weight-bold"},Oe={class:"text-weight-bold"};function Re(t,e,C,h,l,d){const z=F("SeletorEmpresa"),y=F("campo"),L=F("BadgeCopiarUid"),P=F("avatar"),_=F("badge"),A=F("g-label"),v=F("g-col"),b=F("g-row"),I=F("Lista"),x=F("ajuda");return r(),T("div",De,[a(de,{onResize:e[0]||(e[0]=s=>d.resize())}),a(I,{ref:"configuracoesBonus",busca:l.busca,"onUpdate:busca":e[8]||(e[8]=s=>l.busca=s),onAtualizar:d.atualizar,onCriarClick:d.abrirBonus,onDetalhesClick:d.detalhesClick,onLimparFiltrosClick:d.limparFiltrosClick,lista:l.lista,tabSelecionada:l.tabSelecionada,tabs:l.tabs,paginacao:l.paginacao,mostrar:l.mostrar,style:{"margin-top":"-16px"}},{menuExtras:o(()=>[a(w,{onClick:e[1]||(e[1]=()=>{l.removidos=!l.removidos}),clickable:""},{default:o(()=>[a(u,{avatar:""},{default:o(()=>[a(E,{name:"restore_from_trash",size:"sm"})]),_:1}),a(u,null,{default:o(()=>[a(c,null,{default:o(()=>e[41]||(e[41]=[n("Restaurar")])),_:1}),a(c,{caption:""},{default:o(()=>e[42]||(e[42]=[n("B\xF4nus removidos")])),_:1})]),_:1})]),_:1})]),filtroCampos:o(()=>[a(z,{modelValue:l.filtros.cnpjEmpresa,"onUpdate:modelValue":e[2]||(e[2]=s=>l.filtros.cnpjEmpresa=s),rotulo:"Por empresa",dense:"",chaves:["id","numeroDocumentoNacional"]},null,8,["modelValue"]),a(y,{modelValue:l.filtros.vigenciaDe,"onUpdate:modelValue":e[3]||(e[3]=s=>l.filtros.vigenciaDe=s),tipo:"data",dense:"",rotulo:"Vig\xEAncia de",class:"q-mt-lg"},null,8,["modelValue"]),a(y,{modelValue:l.filtros.vigenciaAte,"onUpdate:modelValue":e[4]||(e[4]=s=>l.filtros.vigenciaAte=s),tipo:"data",dense:"",rotulo:"at\xE9",class:"q-mt-sm"},null,8,["modelValue"]),a(y,{modelValue:l.filtros.ordenacao,"onUpdate:modelValue":e[5]||(e[5]=s=>l.filtros.ordenacao=s),options:l.ordenacaoOpcoes,dense:"",rotuloFixo:"Ordenar por",tipo:"seletor",class:"q-mt-xl"},null,8,["modelValue","options"]),a(y,{modelValue:l.filtros.direcao,"onUpdate:modelValue":e[6]||(e[6]=s=>l.filtros.direcao=s),options:l.direcaoOpcoes,dense:"",rotuloFixo:"Dire\xE7\xE3o",tipo:"seletor",class:"q-mt-sm"},null,8,["modelValue","options"]),a(y,{modelValue:l.paginacao.limite,"onUpdate:modelValue":e[7]||(e[7]=s=>l.paginacao.limite=s),tipo:"quantidade",min:"1",dense:"",rotulo:"Quantidade por p\xE1gina",class:"q-mt-xl q-mb-md"},null,8,["modelValue"])]),itemLista:o(()=>[a(J,{bordered:"",class:"bg-white q-mb-xs rounded-borders"},{default:o(()=>[(r(!0),T(Q,null,N(l.lista,s=>(r(),T("div",{key:s.id,class:"itemHover"},[s.id?(r(),f(w,{key:0,"manual-focus":"",class:"q-py-sm q-px-xs items-center"},{default:o(()=>[a(u,{class:"hideonmobile col-auto no-margin"},{default:o(()=>[i("div",Ce,[a(L,{id:s.id,numero:s.id.slice(-8),escuro:"",cor:s.ativo?"positive":"tertiary",dica:"ID Config. B\xF4nus"},null,8,["id","numero","cor"])])]),_:2},1024),a(u,{class:"col-xs col-sm no-margin"},{default:o(()=>[a(w,{class:"q-pa-none"},{default:o(()=>[a(u,{onClick:g=>d.abrirBonus(s),class:"col-auto items-center cursor-pointer"},{default:o(()=>[a(P,{rotulo:`${s.empresa||"Todas as empresas"}`,tamanho:"40",style:{display:"flex","align-self":"center"}},null,8,["rotulo"])]),_:2},1032,["onClick"]),a(u,{class:"col"},{default:o(()=>[a(c,{onClick:g=>d.abrirBonus(s),lines:"2",class:"cursor-pointer"},{default:o(()=>[i("span",null,[i("span",Ve,m(s.empresa||"Todas as empresas"),1),e[44]||(e[44]=i("span",{class:"q-px-sm"},"-",-1)),i("span",null,m(s.percentual)+"%",1),a(M,{anchor:"bottom start",self:"center start"},{default:o(()=>e[43]||(e[43]=[n("Descri\xE7\xE3o")])),_:1})])]),_:2},1032,["onClick"]),s.cnpjEmpresa?(r(),f(c,{key:0,onClick:g=>d.abrirBonus(s),caption:"",class:"cursor-pointer"},{default:o(()=>[i("span",null,[n(m(s.cnpjEmpresa)+" ",1),a(M,{anchor:"bottom start",self:"center start"},{default:o(()=>e[45]||(e[45]=[n("CNPJ")])),_:1})])]),_:2},1032,["onClick"])):p("",!0),a(u,{class:"hideondesktop q-mt-xs"},{default:o(()=>[a(L,{id:s.id,numero:s.id.slice(-8),escuro:"",cor:s.ativo?"positive":"tertiary",dica:"ID Config. B\xF4nus",class:"col-auto q-mr-auto"},null,8,["id","numero","cor"]),a(w,{class:"no-padding no-margin",style:{"min-height":"20px"}},{default:o(()=>[a(u,{onClick:g=>d.abrirBonus(s),class:"no-margin text-weight-medium"},{default:o(()=>[s.vigenciaDe?(r(),f(c,{key:0,caption:""},{default:o(()=>[a(E,{name:"mdi-calendar-today"}),n(" "+m(t.$filters.data(s.vigenciaDe)),1)]),_:2},1024)):p("",!0)]),_:2},1032,["onClick"]),a(u,{onClick:g=>d.abrirBonus(s),class:"no-margin text-weight-medium"},{default:o(()=>[s.vigenciaAte?(r(),f(c,{key:0,caption:""},{default:o(()=>[a(E,{name:"mdi-calendar"}),n(" "+m(t.$filters.data(s.vigenciaAte)),1)]),_:2},1024)):p("",!0)]),_:2},1032,["onClick"])]),_:2},1024),a(w,{class:"no-padding no-margin",style:{"min-height":"10px"}},{default:o(()=>[a(u,{onClick:g=>d.abrirBonus(s),class:"no-margin"},{default:o(()=>[s.diasExpiracao?(r(),f(c,{key:0,caption:""},{default:o(()=>[e[46]||(e[46]=n(" Expira em: ")),i("span",Ae,m(s.diasExpiracao),1)]),_:2},1024)):p("",!0)]),_:2},1032,["onClick"]),a(u,{onClick:g=>d.abrirBonus(s),class:"no-margin"},{default:o(()=>[s.diasMinimoUso?(r(),f(c,{key:0,caption:""},{default:o(()=>[e[47]||(e[47]=n(" Dias m\xEDnimo: ")),i("span",we,m(s.diasMinimoUso),1)]),_:2},1024)):p("",!0)]),_:2},1032,["onClick"])]),_:2},1024),a(w,{class:"no-padding no-margin",style:{"min-height":"32px"}},{default:o(()=>[a(u,{onClick:g=>d.abrirBonus(s),class:"maxw50 no-margin"},{default:o(()=>[s.percentual?(r(),f(c,{key:0},{default:o(()=>[a(_,{rotulo:s.percentual+"%",escuro:"",dica:"Percentual da venda",cor:"tertiary"},null,8,["rotulo"])]),_:2},1024)):p("",!0)]),_:2},1032,["onClick"]),a(u,{onClick:g=>d.abrirBonus(s),class:"col-auto no-margin"},{default:o(()=>[s.valorMaximo?(r(),f(c,{key:0,caption:"",class:"text-right"},{default:o(()=>[e[48]||(e[48]=n(" Valor m\xE1ximo: ")),i("span",he,m(t.$filters.numero(s.valorMaximo,2)),1)]),_:2},1024)):p("",!0),s.valorMinimo?(r(),f(c,{key:1,caption:"",class:"text-right"},{default:o(()=>[e[49]||(e[49]=n(" Valor m\xEDnimo: ")),i("span",Be,m(t.$filters.numero(s.valorMinimo,2)),1)]),_:2},1024)):p("",!0)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),a(u,{onClick:g=>d.abrirBonus(s),class:"hideonmobile maxw100 no-margin cursor-pointer"},{default:o(()=>[s.vigenciaDe?(r(),f(c,{key:0,caption:"",class:"text-center text-weight-medium"},{default:o(()=>[i("span",null,[a(E,{name:"mdi-calendar-today"}),n(" "+m(t.$filters.data(s.vigenciaDe))+" ",1),a(M,{anchor:"bottom middle",self:"center middle"},{default:o(()=>e[50]||(e[50]=[n("Vig\xEAncia de")])),_:1})])]),_:2},1024)):p("",!0),s.vigenciaAte?(r(),f(c,{key:1,caption:"",class:"text-center text-weight-medium"},{default:o(()=>[i("span",null,[a(E,{name:"mdi-calendar"}),n(" "+m(t.$filters.data(s.vigenciaAte))+" ",1),a(M,{anchor:"bottom middle",self:"center middle"},{default:o(()=>e[51]||(e[51]=[n("Vig\xEAncia at\xE9")])),_:1})])]),_:2},1024)):p("",!0)]),_:2},1032,["onClick"]),a(u,{onClick:g=>d.abrirBonus(s),class:"hideonmobile maxw120 q-pl-sm no-margin cursor-pointer"},{default:o(()=>[s.diasExpiracao?(r(),f(c,{key:0,caption:""},{default:o(()=>[e[52]||(e[52]=n(" Expira em: ")),i("span",Ee,m(s.diasExpiracao),1)]),_:2},1024)):p("",!0),s.diasMinimoUso?(r(),f(c,{key:1,caption:""},{default:o(()=>[e[53]||(e[53]=n(" Dias m\xEDnimo: ")),i("span",qe,m(s.diasMinimoUso),1)]),_:2},1024)):p("",!0)]),_:2},1032,["onClick"]),a(u,{onClick:g=>d.abrirBonus(s),class:"hideonmobile maxw50 q-pl-sm no-margin"},{default:o(()=>[s.percentual?(r(),f(c,{key:0},{default:o(()=>[a(_,{rotulo:s.percentual+"%",escuro:"",dica:"Percentual da venda",cor:"tertiary"},null,8,["rotulo"])]),_:2},1024)):p("",!0)]),_:2},1032,["onClick"]),a(u,{onClick:g=>d.abrirBonus(s),class:"hideonmobile maxw100 q-pl-sm no-margin"},{default:o(()=>[s.valorMaximo?(r(),f(c,{key:0,caption:"",class:"text-weight-bold text-right"},{default:o(()=>[i("span",null,[n(m(t.$filters.numero(s.valorMaximo,2))+" ",1),a(M,{anchor:"bottom middle",self:"center middle"},{default:o(()=>e[54]||(e[54]=[n(" Valor m\xE1ximo ")])),_:1})])]),_:2},1024)):p("",!0),s.valorMinimo?(r(),f(c,{key:1,caption:"",class:"text-weight-medium text-right"},{default:o(()=>[i("span",null,[n(m(t.$filters.numero(s.valorMinimo,2))+" ",1),a(M,{anchor:"bottom middle",self:"center middle"},{default:o(()=>e[55]||(e[55]=[n(" Valor m\xEDnimo ")])),_:1})])]),_:2},1024)):p("",!0)]),_:2},1032,["onClick"]),a(u,{class:"col-auto no-margin"},{default:o(()=>[a(w,{class:"q-pa-none"},{default:o(()=>[a(u,{class:"hideonmobile no-margin",style:{"max-width":"32px"}},{default:o(()=>[a(D,{onClick:g=>d.abrirDetalhes(s),size:"md",color:"tertiary",round:"",flat:"",dense:"",icon:l.listaLayout[s.id].detalhes?"keyboard_arrow_up":"keyboard_arrow_down"},null,8,["onClick","icon"])]),_:2},1024),a(u,{class:"hideonmobile no-margin"},{default:o(()=>[a(D,{onClick:g=>d.abrirBonus(s),icon:"edit",size:"md",color:"primary",round:"",flat:"",dense:""},null,8,["onClick"])]),_:2},1024),a(u,{class:"no-margin"},{default:o(()=>[a(D,{icon:"more_vert",size:"md",round:"",flat:"",dense:""},{default:o(()=>[a(me,null,{default:o(()=>[G((r(),f(J,{link:"","no-border":"",separator:""},{default:o(()=>[a(w,{onClick:g=>d.abrirBonus(s),clickable:"",class:"hideondesktop"},{default:o(()=>[a(u,{avatar:""},{default:o(()=>[a(E,{name:"edit"})]),_:1}),a(u,null,{default:o(()=>e[56]||(e[56]=[n(" Editar ")])),_:1})]),_:2},1032,["onClick"]),a(w,{onClick:g=>d.duplicarBonus(s),clickable:""},{default:o(()=>[a(u,{avatar:""},{default:o(()=>[a(E,{name:"file_copy"})]),_:1}),a(u,null,{default:o(()=>[a(c,null,{default:o(()=>e[57]||(e[57]=[n(" Duplicar ")])),_:1})]),_:1})]),_:2},1032,["onClick"]),a(w,{onClick:g=>d.removerBonus(s),clickable:""},{default:o(()=>[a(u,{avatar:""},{default:o(()=>[a(E,{name:"delete"})]),_:1}),a(u,null,{default:o(()=>[a(c,null,{default:o(()=>e[58]||(e[58]=[n(" Remover ")])),_:1})]),_:1})]),_:2},1032,["onClick"]),a(w,{onClick:g=>d.abrirDetalhes(s),clickable:"",class:"hideondesktop"},{default:o(()=>[a(u,{avatar:""},{default:o(()=>[a(E,{name:l.listaLayout[s.id].detalhes?"keyboard_arrow_up":"keyboard_arrow_down"},null,8,["name"])]),_:2},1024),a(u,null,{default:o(()=>e[59]||(e[59]=[n("Mais Detalhes")])),_:1})]),_:2},1032,["onClick"])]),_:2},1024)),[[X]])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)):p("",!0),l.listaLayout[s.id].detalhes?(r(),f(b,{key:1,gutter:"md-x lg-y"},{default:o(()=>[a(v,{col:"12 sm6"},{default:o(()=>[a(b,null,{default:o(()=>[a(v,{col:"12",bordered:""},{default:o(()=>[a(A,{icon:"description xs tertiary left",text:"medium"},{default:o(()=>e[60]||(e[60]=[n("Regras para uso")])),_:1}),a(A,{class:"q-pl-lg"},{default:o(()=>[n(m(s.textoRegras),1)]),_:2},1024)]),_:2},1024),a(v,{col:"12",bordered:""},{default:o(()=>[a(A,{icon:"description xs tertiary left",text:"medium"},{default:o(()=>e[61]||(e[61]=[n("Observa\xE7\xE3o")])),_:1}),a(A,{class:"q-pl-lg"},{default:o(()=>[n(m(s.observacao),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),a(v,{col:"12 sm6",bordered:""},{default:o(()=>{var g,B;return[a(A,{icon:"chat xs tertiary left",text:"medium"},{default:o(()=>e[62]||(e[62]=[n("Mensagens")])),_:1}),(r(!0),T(Q,null,N((B=(g=s==null?void 0:s.mensagens)==null?void 0:g.diasAntesDeVencer)!=null?B:[],(V,j)=>(r(),f(A,{key:j,class:"q-pl-lg q-mb-sm"},{default:o(()=>[a(_,{rotulo:`${V.dias} ${V.dias>1?"Dias":"Dia"}`,cor:"tertiary",escuro:"",class:"q-mr-xs"},null,8,["rotulo"]),n(" "+m(V.mensagem),1)]),_:2},1024))),128))]}),_:2},1024)]),_:2},1024)):p("",!0),s.id?(r(),f(Y,{key:2})):p("",!0)]))),128))]),_:1})]),_:1},8,["busca","onAtualizar","onCriarClick","onDetalhesClick","onLimparFiltrosClick","lista","tabSelecionada","tabs","paginacao","mostrar"]),a(ne,{modelValue:l.bonus.visivel,"onUpdate:modelValue":e[38]||(e[38]=s=>l.bonus.visivel=s),onKeyup:e[39]||(e[39]=ve(s=>d.fecharBonus(),["esc"])),maximized:l.tela.width<=992},{default:o(()=>[a(Z,{container:"",view:"hHh LpR fFf",class:"bg-white rounded-borders",style:fe(l.tela.width<=992?"":"max-width:600px;height:100%;max-height:600px;")},{default:o(()=>[a(ce,{onSubmit:d.salvarBonus,autocorrect:"off",autocapitalize:"off",autocomplete:"off",spellcheck:"false",novalidate:""},{default:o(()=>[a($,null,{default:o(()=>[a(ee,null,{default:o(()=>[a(E,{name:"edit_note",size:"md"}),a(H,{class:"hideonmobile"},{default:o(()=>e[63]||(e[63]=[n("Configura\xE7\xF5es do B\xF4nus")])),_:1}),a(H,{class:"hideondesktop"},{default:o(()=>e[64]||(e[64]=[n("Config. B\xF4nus")])),_:1}),a(x),l.bonus.id?(r(),f(L,{key:0,id:l.bonus.id||"0000",numero:(l.bonus.id||"0000").slice(-8),cor:"positive",class:"float-right"},null,8,["id","numero"])):p("",!0)]),_:1}),a(pe,{modelValue:l.tabConfiguracoes,"onUpdate:modelValue":e[9]||(e[9]=s=>l.tabConfiguracoes=s),dense:"","inline-label":"","outside-arrows":"","mobile-arrows":"",align:"justify"},{default:o(()=>[a(ae,{name:"configuracoes",icon:"settings",label:"configura\xE7\xF5es"}),a(ae,{name:"mensagens",icon:"chat",label:"Mensagens"})]),_:1},8,["modelValue"])]),_:1}),a(oe,null,{default:o(()=>[a(se,null,{default:o(()=>[a(ge,{modelValue:l.tabConfiguracoes,"onUpdate:modelValue":e[35]||(e[35]=s=>l.tabConfiguracoes=s),animated:"",swipeable:"","transition-prev":"jump-up","transition-next":"jump-up"},{default:o(()=>[a(le,{name:"configuracoes",class:"q-pa-none"},{default:o(()=>[a(b,{gutter:"md",items:"center",justify:"center"},{default:o(()=>[a(v,{col:"12",class:"q-mb-md"},{default:o(()=>[a(b,{items:"center"},{default:o(()=>[a(v,{col:"shrink"},{default:o(()=>[i("span",null,[a(te,{modelValue:l.bonus.ativo,"onUpdate:modelValue":e[10]||(e[10]=s=>l.bonus.ativo=s),dense:"","true-value":1,"false-value":0,class:"q-mb-md"},null,8,["modelValue"]),a(M,{anchor:"bottom start",self:"center start"},{default:o(()=>[n(m(l.bonus.ativo===1?"B\xF4nus Ativo":"B\xF4nus Inativo"),1)]),_:1})])]),_:1}),a(v,{col:"xs"},{default:o(()=>[a(A,{text:"medium",class:"disabled",style:{background:"rgba(0, 0, 0, 0.1)",padding:"9.5px 12px"}},{default:o(()=>[l.bonus.dadosEmpresa?(r(),T("span",Me,m(l.bonus.dadosEmpresa.nome||l.bonus.dadosEmpresa.apelido||l.bonus.empresa),1)):(r(),T("span",ze," Todas as empresas ")),e[65]||(e[65]=i("span",{class:"q-px-sm"},"-",-1)),i("span",null,m(l.bonus.percentual)+"%",1)]),_:1}),a(A,{text:"caption light"},{default:o(()=>e[66]||(e[66]=[n(" Descri\xE7\xE3o gerada autom\xE1ticamente pelos parametros abaixo. ")])),_:1})]),_:1})]),_:1})]),_:1}),a(v,{col:"12"},{default:o(()=>[a(A,{"rounded-borders":"",class:"q-mb-md",style:{background:"rgba(0, 0, 0, 0.05)",padding:"1.5px 8px"}},{default:o(()=>[a(b,{items:"center"},{default:o(()=>[a(v,{col:"shrink"},{default:o(()=>[i("span",null,[a(te,{modelValue:l.bonus.gerarBonus,"onUpdate:modelValue":e[11]||(e[11]=s=>l.bonus.gerarBonus=s),dense:"","true-value":1,"false-value":0},null,8,["modelValue"]),a(M,{anchor:"bottom start",self:"center start"},{default:o(()=>[n(m(l.bonus.gerarBonus===1?"Ativo":"Inativo"),1)]),_:1})])]),_:1}),a(v,{col:"xs"},{default:o(()=>[a(A,{text:"regular",class:"q-py-sm"},{default:o(()=>e[67]||(e[67]=[n(" A venda que utilizar esse b\xF4nus, poder\xE1 gerar um novo b\xF4nus. ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(v,{col:"12"},{default:o(()=>[a(z,{modelValue:l.bonus.dadosEmpresa,"onUpdate:modelValue":e[12]||(e[12]=s=>l.bonus.dadosEmpresa=s),filled:"",dense:"",chaves:["id","nome","apelido","numeroDocumentoNacional"]},null,8,["modelValue"])]),_:1}),a(v,{col:"6"},{default:o(()=>[a(y,{modelValue:l.bonus.vigenciaDe,"onUpdate:modelValue":e[13]||(e[13]=s=>l.bonus.vigenciaDe=s),filled:"",dense:"","lazy-rules":"",tipo:"data",rotulo:"Vig\xEAncia de",rules:[s=>d.validacao("vigenciaDe",l.bonus.vigenciaDe)]},null,8,["modelValue","rules"])]),_:1}),a(v,{col:"6"},{default:o(()=>[a(y,{modelValue:l.bonus.vigenciaAte,"onUpdate:modelValue":e[14]||(e[14]=s=>l.bonus.vigenciaAte=s),filled:"",dense:"","lazy-rules":"",tipo:"data",rotulo:"Vig\xEAncia at\xE9",rules:[s=>d.validacao("vigenciaAte",l.bonus.vigenciaAte)]},null,8,["modelValue","rules"])]),_:1}),a(v,{col:"6"},{default:o(()=>[a(y,{modelValue:l.bonus.diasMinimoUso,"onUpdate:modelValue":e[15]||(e[15]=s=>l.bonus.diasMinimoUso=s),filled:"",dense:"","lazy-rules":"",tipo:"quantidade",rotulo:"Dias m\xEDnimos para uso",min:1,rules:[s=>d.validacao("diasMinimoUso",l.bonus.diasMinimoUso)]},null,8,["modelValue","rules"])]),_:1}),a(v,{col:"6"},{default:o(()=>[a(y,{modelValue:l.bonus.diasExpiracao,"onUpdate:modelValue":e[16]||(e[16]=s=>l.bonus.diasExpiracao=s),filled:"",dense:"","lazy-rules":"",tipo:"quantidade",rotulo:"Expira em (dias)",min:1,rules:[s=>d.validacao("diasExpiracao",l.bonus.diasExpiracao)]},null,8,["modelValue","rules"])]),_:1}),a(v,{col:"12 sm6"},{default:o(()=>[a(y,{modelValue:l.bonus.valorMinimo,"onUpdate:modelValue":e[17]||(e[17]=s=>l.bonus.valorMinimo=s),filled:"",dense:"","lazy-rules":"",tipo:"decimal",decimals:"2",zerosDireita:"2",prefix:"R$",rotulo:"Valor m\xEDnimo (b\xF4nus)",rules:[s=>d.validacao("valorMinimo",l.bonus.valorMinimo)]},null,8,["modelValue","rules"])]),_:1}),a(v,{col:"12 sm6"},{default:o(()=>[a(y,{modelValue:l.bonus.valorMaximo,"onUpdate:modelValue":e[18]||(e[18]=s=>l.bonus.valorMaximo=s),filled:"",dense:"","lazy-rules":"",tipo:"decimal",decimals:"2",zerosDireita:"2",prefix:"R$",rotulo:"Valor m\xE1ximo (b\xF4nus)",rules:[s=>d.validacao("valorMaximo",l.bonus.valorMaximo)]},null,8,["modelValue","rules"])]),_:1}),a(v,{col:"12",class:"q-mb-md"},{default:o(()=>[a(A,{bordered:"","rounded-borders":"",class:"q-pa-sm"},{default:o(()=>[a(b,null,{default:o(()=>[a(v,{col:"12 sm6"},{default:o(()=>[a(y,{modelValue:l.bonus.percentual,"onUpdate:modelValue":e[19]||(e[19]=s=>l.bonus.percentual=s),filled:"",dense:"","lazy-rules":"",tipo:"number",rotulo:"Percentual sobre a Venda",suffix:"%","input-class":"text-right",rules:[s=>d.validacao("percentual",l.bonus.percentual)]},null,8,["modelValue","rules"])]),_:1}),a(v,{col:"12 sm6"},{default:o(()=>[a(y,{modelValue:l.bonus.percentualSobreBonus,"onUpdate:modelValue":e[20]||(e[20]=s=>l.bonus.percentualSobreBonus=s),filled:"",dense:"","lazy-rules":"",tipo:"decimal",decimals:"2",zerosDireita:"2",rotulo:"Fator sobre o b\xF4nus",rules:[s=>d.validacao("percentualSobreBonus",l.bonus.percentualSobreBonus)]},null,8,["modelValue","rules"])]),_:1})]),_:1}),a(A,null,{default:o(()=>{var s,g,B,V;return[e[68]||(e[68]=n(" Para uma venda de ")),e[69]||(e[69]=i("strong",null,"R$ 1.000,00",-1)),e[70]||(e[70]=n(" aplicando ")),i("strong",null,m((s=l.bonus)==null?void 0:s.percentual)+"%",1),e[71]||(e[71]=n(" ir\xE1 gerar um b\xF4nus de ")),i("strong",null,"R$ "+m(t.$filters.numero(1e3*parseFloat((((g=l.bonus)==null?void 0:g.percentual)||"0").toString().replace(",","."))/100,2)),1),e[72]||(e[72]=n(". ")),e[73]||(e[73]=i("br",null,null,-1)),e[74]||(e[74]=n(" Para utiliza\xE7\xE3o do b\xF4nus, o cliente ")),e[75]||(e[75]=i("strong",null,"deve comprar",-1)),e[76]||(e[76]=n(" no m\xEDnimo ")),i("strong",null,"R$ "+m(t.$filters.numero(((B=l.bonus)==null?void 0:B.percentualSobreBonus)*(1e3*parseFloat((((V=l.bonus)==null?void 0:V.percentual)||"0").toString().replace(",","."))/100),2)),1),e[77]||(e[77]=n(". "))]}),_:1})]),_:1})]),_:1}),a(v,{col:"12"},{default:o(()=>[a(A,{caption:"",bordered:"",class:"q-pa-sm q-mb-md"},{default:o(()=>{var s,g,B,V,j,S,k,q,R,O;return[i("strong",null,m(((g=(s=l.bonus)==null?void 0:s.dadosEmpresa)==null?void 0:g.apelido)||((V=(B=l.bonus)==null?void 0:B.dadosEmpresa)==null?void 0:V.nome)||"Sua \xD3tica"),1),e[82]||(e[82]=n(" tem um presente para voc\xEA ")),e[83]||(e[83]=i("strong",null,"Ricardo",-1)),e[84]||(e[84]=n(".")),e[85]||(e[85]=i("br",null,null,-1)),e[86]||(e[86]=n(" \xC9 um b\xF4nus de ")),i("strong",null,"R$ "+m(t.$filters.numero(1e3*parseFloat((((j=l.bonus)==null?void 0:j.percentual)||"0").toString().replace(",","."))/100,2)),1),e[87]||(e[87]=n(" para usar na pr\xF3xima compra acima de ")),i("strong",null,"R$ "+m(t.$filters.numero(((S=l.bonus)==null?void 0:S.percentualSobreBonus)*(1e3*parseFloat((((k=l.bonus)==null?void 0:k.percentual)||"0").toString().replace(",","."))/100),2)),1),e[88]||(e[88]=n(", mas corra, pois \xE9 v\xE1lido de ")),i("strong",null,m(t.$filters.data(new Date(l.dataAtual).setDate(new Date(l.dataAtual).getDate()+((q=l.bonus)==null?void 0:q.diasMinimoUso)))),1),e[89]||(e[89]=n(" at\xE9 ")),i("strong",null,m(t.$filters.data(new Date(l.dataAtual).setDate(new Date(l.dataAtual).getDate()+(((R=l.bonus)==null?void 0:R.diasMinimoUso)+((O=l.bonus)==null?void 0:O.diasExpiracao))))),1),e[90]||(e[90]=n("! ")),e[91]||(e[91]=i("br",null,null,-1)),a(A,{text:"center",class:"q-my-sm"},{default:o(()=>[a(E,{name:"add",color:"primary",size:"xs"})]),_:1}),a(y,{modelValue:l.bonus.textoRegras,"onUpdate:modelValue":e[21]||(e[21]=U=>l.bonus.textoRegras=U),filled:"",dense:"",tipo:"textoArea",rotulo:"Regras para uso:"},null,8,["modelValue"]),a(A,{text:"regular"},{default:o(()=>[e[78]||(e[78]=n(" Texto din\xE2mico: ")),a(D,{onClick:e[22]||(e[22]=()=>{l.bonus.textoRegras+=" [DataVencimento]"}),dense:"",flat:"","no-caps":"",label:"[DataVencimento]",style:{"font-size":"0.75rem"}}),a(D,{onClick:e[23]||(e[23]=()=>{l.bonus.textoRegras+=" [CPF]"}),class:"captalize",dense:"",flat:"","no-caps":"",label:"[CPF]",style:{"font-size":"0.75rem"}}),a(D,{onClick:e[24]||(e[24]=()=>{l.bonus.textoRegras+=" [WhatsApp]"}),dense:"",flat:"","no-caps":"",label:"[WhatsApp]",style:{"font-size":"0.75rem"}}),a(D,{onClick:e[25]||(e[25]=()=>{l.bonus.textoRegras+=" [Valor]"}),dense:"",flat:"","no-caps":"",label:"[Valor]",style:{"font-size":"0.75rem"}}),a(D,{onClick:e[26]||(e[26]=()=>{l.bonus.textoRegras+=" [ValorMinimoCompra]"}),dense:"",flat:"","no-caps":"",label:"[ValorMinimoCompra]",style:{"font-size":"0.75rem"}}),e[79]||(e[79]=i("br",null,null,-1)),e[80]||(e[80]=i("strong",null,"*",-1)),e[81]||(e[81]=n(" Esse texto ser\xE1 enviado junto as informa\xE7\xF5es do b\xF4nus para o cliente. "))]),_:1})]}),_:1})]),_:1}),a(v,{col:"12"},{default:o(()=>[a(A,{bordered:"","roudned-borders":"",text:"regular caption",class:"q-pa-sm q-mb-md"},{default:o(()=>[a(y,{modelValue:l.bonus.observacao,"onUpdate:modelValue":e[27]||(e[27]=s=>l.bonus.observacao=s),filled:"",dense:"",tipo:"textoArea",rotulo:"Observa\xE7\xE3o:"},null,8,["modelValue"]),e[92]||(e[92]=i("strong",null,"*",-1)),e[93]||(e[93]=n(" Esta observa\xE7\xE3o s\xF3 estar\xE1 disponivel aqui nas configura\xE7\xF5es. "))]),_:1})]),_:1})]),_:1})]),_:1}),a(le,{name:"mensagens",class:"q-pa-none"},{default:o(()=>[a(b,{gutter:"md",items:"center",justify:"center"},{default:o(()=>[a(v,{col:"12",text:"center",class:"q-mb-lg"},{default:o(()=>{var s,g,B;return[(r(!0),T(Q,null,N((B=(g=(s=l.bonus)==null?void 0:s.mensagens)==null?void 0:g.diasAntesDeVencer)!=null?B:[],(V,j)=>(r(),f(b,{key:j,gutter:"sm",items:"center",mg:"md-y",bordered:"","rounded-borders":""},{default:o(()=>[a(v,{col:"grow"},{default:o(()=>[a(y,{modelValue:V.dias,"onUpdate:modelValue":S=>V.dias=S,filled:"",dense:"",tipo:"quantidade",rotulo:"Dias antes de vencer"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(v,{col:"shrink"},{default:o(()=>[a(D,{onClick:S=>d.removerDiasAntesDeVencer(l.bonus,j),icon:"delete",round:"",flat:"",dense:"",color:"tertiary"},null,8,["onClick"])]),_:2},1024),a(v,{col:"12"},{default:o(()=>[a(y,{modelValue:V.mensagem,"onUpdate:modelValue":S=>V.mensagem=S,dense:"",filled:"",tipo:"textoArea",rotulo:`Mensagem para ${V.dias} dia(s):`},null,8,["modelValue","onUpdate:modelValue","rotulo"]),a(A,{caption:"",text:"regular left"},{default:o(()=>[e[94]||(e[94]=n(" Texto din\xE2mico: ")),a(D,{onClick:()=>{V.mensagem+=" [DataVencimento]"},dense:"",flat:"","no-caps":"",label:"[DataVencimento]",style:{"font-size":"0.75rem"}},null,8,["onClick"]),a(D,{onClick:()=>{V.mensagem+=" [CPF]"},class:"captalize",dense:"",flat:"","no-caps":"",label:"[CPF]",style:{"font-size":"0.75rem"}},null,8,["onClick"]),a(D,{onClick:()=>{V.mensagem+=" [WhatsApp]"},dense:"",flat:"","no-caps":"",label:"[WhatsApp]",style:{"font-size":"0.75rem"}},null,8,["onClick"]),a(D,{onClick:()=>{V.mensagem+=" [Valor]"},dense:"",flat:"","no-caps":"",label:"[Valor]",style:{"font-size":"0.75rem"}},null,8,["onClick"]),a(D,{onClick:()=>{V.mensagem+=" [ValorMinimoCompra]"},dense:"",flat:"","no-caps":"",label:"[ValorMinimoCompra]",style:{"font-size":"0.75rem"}},null,8,["onClick"]),e[95]||(e[95]=i("br",null,null,-1)),e[96]||(e[96]=i("strong",null,"*",-1)),e[97]||(e[97]=n(" Esse texto ser\xE1 enviado por WhatsApp ao cliente no perio descrito. "))]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),a(D,{onClick:e[28]||(e[28]=V=>d.adicionarDiasAntesDeVencer(l.bonus)),outline:"",icon:"add",label:"Adicionar periodo",size:"sm",color:"positive"})]}),_:1}),a(v,{col:"12"},{default:o(()=>[a(A,{caption:"",bordered:"",class:"q-pa-sm q-mb-lg"},{default:o(()=>[a(y,{modelValue:l.bonus.mensagens.aoUsarBonus,"onUpdate:modelValue":e[29]||(e[29]=s=>l.bonus.mensagens.aoUsarBonus=s),dense:"",filled:"",tipo:"textoArea",rotulo:"Ao cliente usar o b\xF4nus"},null,8,["modelValue"]),a(A,{text:"regular"},{default:o(()=>[e[98]||(e[98]=n(" Texto din\xE2mico: ")),a(D,{onClick:e[30]||(e[30]=()=>{l.bonus.mensagens.aoUsarBonus+=" [DataVencimento]"}),dense:"",flat:"","no-caps":"",label:"[DataVencimento]",style:{"font-size":"0.75rem"}}),a(D,{onClick:e[31]||(e[31]=()=>{l.bonus.mensagens.aoUsarBonus+=" [CPF]"}),class:"captalize",dense:"",flat:"","no-caps":"",label:"[CPF]",style:{"font-size":"0.75rem"}}),a(D,{onClick:e[32]||(e[32]=()=>{l.bonus.mensagens.aoUsarBonus+=" [WhatsApp]"}),dense:"",flat:"","no-caps":"",label:"[WhatsApp]",style:{"font-size":"0.75rem"}}),a(D,{onClick:e[33]||(e[33]=()=>{l.bonus.mensagens.aoUsarBonus+=" [Valor]"}),dense:"",flat:"","no-caps":"",label:"[Valor]",style:{"font-size":"0.75rem"}}),a(D,{onClick:e[34]||(e[34]=()=>{l.bonus.mensagens.aoUsarBonus+=" [ValorMinimoCompra]"}),dense:"",flat:"","no-caps":"",label:"[ValorMinimoCompra]",style:{"font-size":"0.75rem"}}),e[99]||(e[99]=i("br",null,null,-1)),e[100]||(e[100]=i("strong",null,"*",-1)),e[101]||(e[101]=n(" Esse texto ser\xE1 enviado por WhatsApp ao cliente, quando for utilizado o b\xF4nus. "))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(be,{class:"bg-light border-top q-px-md q-py-sm text-right"},{default:o(()=>{var s;return[((s=l.bonus)==null?void 0:s.removido)===0?(r(),f(D,{key:0,onClick:e[36]||(e[36]=g=>d.removerBonus(l.bonus)),flat:"",round:"",dense:"",icon:"delete",color:"tertiary",class:"float-left"})):p("",!0),a(D,{onClick:e[37]||(e[37]=g=>d.fecharBonus()),flat:"",label:"Cancelar",color:"tertiary"}),a(D,{type:"submit",unelevated:"",dark:"",color:"primary",label:"Salvar",class:"q-ml-sm"})]}),_:1})]),_:1},8,["onSubmit"])]),_:1},8,["style"])]),_:1},8,["modelValue","maximized"]),a(ne,{modelValue:l.removidos,"onUpdate:modelValue":e[40]||(e[40]=s=>l.removidos=s),maximized:""},{default:o(()=>[a(Z,{container:"",view:"hHh LpR fFf",class:"bg-white rounded-borders"},{default:o(()=>[a($,null,{default:o(()=>[a(ee,{class:"q-px-sm"},{default:o(()=>[G(a(D,{icon:"arrow_back",dense:"",flat:"",round:""},null,512),[[X]]),a(H,{class:"hideonmobile"},{default:o(()=>e[102]||(e[102]=[n("Configura\xE7\xF5es de B\xF4nus Removidos")])),_:1}),a(H,{class:"hideondesktop"},{default:o(()=>e[103]||(e[103]=[n("Config. B\xF4nus Removidos")])),_:1})]),_:1})]),_:1}),a(oe,null,{default:o(()=>[a(se,null,{default:o(()=>[a(J,{bordered:"",class:"bg-white q-mb-xs rounded-borders"},{default:o(()=>[l.listaRemovidos.length?(r(!0),T(Q,{key:0},N(l.listaRemovidos,s=>(r(),T("div",{key:s.id,class:"itemHover"},[s.id?(r(),f(w,{key:0,"manual-focus":"",class:"q-py-sm q-px-xs items-center"},{default:o(()=>[a(u,{class:"hideonmobile col-auto no-margin"},{default:o(()=>[i("div",Ue,[a(L,{id:s.id,numero:s.id.slice(-8),escuro:"",cor:s.ativo?"positive":"tertiary",dica:"ID Config. B\xF4nus"},null,8,["id","numero","cor"])])]),_:2},1024),a(u,{class:"col-xs col-sm no-margin"},{default:o(()=>[a(w,{class:"q-pa-none"},{default:o(()=>[a(u,{class:"col-auto items-center cursor-pointer"},{default:o(()=>[a(P,{rotulo:`${s.empresa||"Todas as empresas"}`,tamanho:"40",style:{display:"flex","align-self":"center"}},null,8,["rotulo"])]),_:2},1024),a(u,{class:"col"},{default:o(()=>[a(c,{lines:"2",class:"cursor-pointer"},{default:o(()=>[i("span",null,[i("span",Se,m(s.empresa||"Todas as empresas"),1),e[105]||(e[105]=i("span",{class:"q-px-sm"},"-",-1)),i("span",null,m(s.percentual)+"%",1),a(M,{anchor:"bottom start",self:"center start"},{default:o(()=>e[104]||(e[104]=[n("Descri\xE7\xE3o")])),_:1})])]),_:2},1024),s.cnpjEmpresa?(r(),f(c,{key:0,caption:"",class:"cursor-pointer"},{default:o(()=>[i("span",null,[n(m(s.cnpjEmpresa)+" ",1),a(M,{anchor:"bottom start",self:"center start"},{default:o(()=>e[106]||(e[106]=[n("CNPJ")])),_:1})])]),_:2},1024)):p("",!0),a(u,{class:"hideondesktop q-mt-xs"},{default:o(()=>[a(L,{id:s.id,numero:s.id.slice(-8),escuro:"",cor:s.ativo?"positive":"tertiary",dica:"ID Config. B\xF4nus",class:"col-auto q-mr-auto"},null,8,["id","numero","cor"]),a(w,{class:"no-padding no-margin",style:{"min-height":"20px"}},{default:o(()=>[a(u,{class:"no-margin text-weight-medium"},{default:o(()=>[s.vigenciaDe?(r(),f(c,{key:0,caption:""},{default:o(()=>[a(E,{name:"mdi-calendar-today"}),n(" "+m(t.$filters.data(s.vigenciaDe)),1)]),_:2},1024)):p("",!0)]),_:2},1024),a(u,{class:"no-margin text-weight-medium"},{default:o(()=>[s.vigenciaAte?(r(),f(c,{key:0,caption:""},{default:o(()=>[a(E,{name:"mdi-calendar"}),n(" "+m(t.$filters.data(s.vigenciaAte)),1)]),_:2},1024)):p("",!0)]),_:2},1024)]),_:2},1024),a(w,{class:"no-padding no-margin",style:{"min-height":"10px"}},{default:o(()=>[a(u,{class:"no-margin"},{default:o(()=>[s.diasExpiracao?(r(),f(c,{key:0,caption:""},{default:o(()=>[e[107]||(e[107]=n(" Expira em: ")),i("span",Fe,m(s.diasExpiracao),1)]),_:2},1024)):p("",!0)]),_:2},1024),a(u,{class:"no-margin"},{default:o(()=>[s.diasMinimoUso?(r(),f(c,{key:0,caption:""},{default:o(()=>[e[108]||(e[108]=n(" Dias m\xEDnimo: ")),i("span",je,m(s.diasMinimoUso),1)]),_:2},1024)):p("",!0)]),_:2},1024)]),_:2},1024),a(w,{class:"no-padding no-margin",style:{"min-height":"32px"}},{default:o(()=>[a(u,{class:"maxw50 no-margin"},{default:o(()=>[s.percentual?(r(),f(c,{key:0},{default:o(()=>[a(_,{rotulo:s.percentual+"%",escuro:"",dica:"Percentual da venda",cor:"tertiary"},null,8,["rotulo"])]),_:2},1024)):p("",!0)]),_:2},1024),a(u,{class:"col-auto no-margin"},{default:o(()=>[s.valorMaximo?(r(),f(c,{key:0,caption:"",class:"text-right"},{default:o(()=>[e[109]||(e[109]=n(" Valor m\xE1ximo: ")),i("span",Te,m(t.$filters.numero(s.valorMaximo,2)),1)]),_:2},1024)):p("",!0),s.valorMinimo?(r(),f(c,{key:1,caption:"",class:"text-right"},{default:o(()=>[e[110]||(e[110]=n(" Valor m\xEDnimo: ")),i("span",Le,m(t.$filters.numero(s.valorMinimo,2)),1)]),_:2},1024)):p("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),a(u,{class:"hideonmobile maxw100 no-margin cursor-pointer"},{default:o(()=>[s.vigenciaDe?(r(),f(c,{key:0,caption:"",class:"text-center text-weight-medium"},{default:o(()=>[i("span",null,[a(E,{name:"mdi-calendar-today"}),n(" "+m(t.$filters.data(s.vigenciaDe))+" ",1),a(M,{anchor:"bottom middle",self:"center middle"},{default:o(()=>e[111]||(e[111]=[n("Vig\xEAncia de")])),_:1})])]),_:2},1024)):p("",!0),s.vigenciaAte?(r(),f(c,{key:1,caption:"",class:"text-center text-weight-medium"},{default:o(()=>[i("span",null,[a(E,{name:"mdi-calendar"}),n(" "+m(t.$filters.data(s.vigenciaAte))+" ",1),a(M,{anchor:"bottom middle",self:"center middle"},{default:o(()=>e[112]||(e[112]=[n("Vig\xEAncia at\xE9")])),_:1})])]),_:2},1024)):p("",!0)]),_:2},1024),a(u,{class:"hideonmobile maxw110 q-pl-sm no-margin cursor-pointer"},{default:o(()=>[s.diasExpiracao?(r(),f(c,{key:0,caption:""},{default:o(()=>[e[113]||(e[113]=n(" Expira em: ")),i("span",_e,m(s.diasExpiracao),1)]),_:2},1024)):p("",!0),s.diasMinimoUso?(r(),f(c,{key:1,caption:""},{default:o(()=>[e[114]||(e[114]=n(" Dias m\xEDnimo: ")),i("span",Oe,m(s.diasMinimoUso),1)]),_:2},1024)):p("",!0)]),_:2},1024),a(u,{class:"hideonmobile maxw50 q-pl-sm no-margin"},{default:o(()=>[s.percentual?(r(),f(c,{key:0},{default:o(()=>[a(_,{rotulo:s.percentual+"%",escuro:"",dica:"Percentual da venda",cor:"tertiary"},null,8,["rotulo"])]),_:2},1024)):p("",!0)]),_:2},1024),a(u,{class:"hideonmobile maxw100 q-pl-sm no-margin"},{default:o(()=>[s.valorMaximo?(r(),f(c,{key:0,caption:"",class:"text-weight-bold text-right"},{default:o(()=>[i("span",null,[n(m(t.$filters.numero(s.valorMaximo,2))+" ",1),a(M,{anchor:"bottom middle",self:"center middle"},{default:o(()=>e[115]||(e[115]=[n(" Valor m\xE1ximo ")])),_:1})])]),_:2},1024)):p("",!0),s.valorMinimo?(r(),f(c,{key:1,caption:"",class:"text-weight-medium text-right"},{default:o(()=>[i("span",null,[n(m(t.$filters.numero(s.valorMinimo,2))+" ",1),a(M,{anchor:"bottom middle",self:"center middle"},{default:o(()=>e[116]||(e[116]=[n(" Valor m\xEDnimo ")])),_:1})])]),_:2},1024)):p("",!0)]),_:2},1024),a(u,{class:"col-auto no-margin"},{default:o(()=>[a(w,{class:"q-pa-none"},{default:o(()=>[a(u,{class:"no-margin"},{default:o(()=>[a(D,{onClick:g=>d.restaurarBonus(s),round:"",flat:"",dense:"",icon:"restore_from_trash",size:"md",color:"primary"},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)):p("",!0),s.id?(r(),f(Y,{key:1})):p("",!0)]))),128)):(r(),f(w,{key:1},{default:o(()=>[a(u,null,{default:o(()=>[a(c,{class:"text-center"},{default:o(()=>e[117]||(e[117]=[n(" N\xE3o h\xE1 configura\xE7\xF5es de b\xF4nus removidas. ")])),_:1})]),_:1})]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var He=ue(ke,[["render",Re]]);export{He as default};
