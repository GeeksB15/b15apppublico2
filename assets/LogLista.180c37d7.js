import{_ as C,r as l,o as r,p as m,f as a,w as e,P as z,F as A,x as B,S as w,T as i,e as f,U as p,C as d,k as c,t as u,m as y,d as _,j as H,l as N}from"./index.df68757a.js";import{L as Q}from"./Lista.adb4668b.js";import{J as T}from"./JsonViewer.55595fe0.js";const $={components:{Lista:Q,JsonViewer:T},data(){return{lista:[],mostrar:{header:!0,barraTopo:!0,toolbarTitulo:!0,icone:"analytics",titulo:"Logs",filtroAvancado:!0,buscar:!0,btnAjuda:!0,btnAtualizar:!0,btnNovo:!1,toolbarAcoes:!0,checkBox:!1,btnRemover:!1,btnRestaurar:!1,centralizaTabs:!1,btnDetalhes:!1,btnExportaXLS:!1,btnMenuMais:!1,toolbarAdicao:!1,bannerMsg:"",conexao:{icone:"online",iconeTamanho:"xs",cor:"grey-5",rotulo:null,dica:"Online",denso:!0,flat:!0,escuro:!1}},busca:"",paginacao:{atual:1,maximo:1,total:1,limite:25}}},methods:{async abrir(o){const t=$utils.clonar(this.lista[o]);await this.$refs.jsonViewer.show(t)},async atualizar(){try{$q.loading.show(),this.lista=await $db.log.ler()}catch(o){$q.notifyError(o.message)}finally{$q.loading.hide()}}},async mounted(){this.atualizar()}},S={id:"LogLista"},I={key:0,class:"mw80 text-center"},U={class:"text-weight-medium q-mr-xs"},j={class:"text-weight-medium"};function J(o,t,M,D,n,b){const g=l("BadgeCopiarUid"),L=l("avatar"),h=l("g-col"),q=l("g-label"),k=l("g-row"),v=l("Lista"),V=l("JsonViewer");return r(),m("div",S,[a(v,{ref:"logLista",busca:n.busca,"onUpdate:busca":t[0]||(t[0]=s=>n.busca=s),lista:n.lista,paginacao:n.paginacao,mostrar:n.mostrar,onAtualizar:b.atualizar},{itemLista:e(()=>[a(z,{bordered:"",class:"bg-white q-mb-xs rounded-borders"},{default:e(()=>[(r(!0),m(A,null,B(n.lista,(s,x)=>(r(),m("div",{key:x,class:"itemHover"},[a(w,{onClick:E=>b.abrir(x),clickable:"","manual-focus":"",class:"q-py-sm q-px-xs items-center"},{default:e(()=>[a(i,{class:"hideonmobile col-auto q-pr-sm no-margin"},{default:e(()=>[s.id?(r(),m("div",I,[a(g,{id:s.id,numero:s.id.slice(-8),cor:"positive",dica:"ID Log"},null,8,["id","numero"])])):f("",!0)]),_:2},1024),a(i,{class:"col no-margin"},{default:e(()=>[a(w,{class:"q-pa-none"},{default:e(()=>[a(i,{class:"col-auto items-center"},{default:e(()=>[a(L,{rotulo:s.usuarioNome,tamanho:"40",style:{display:"flex","align-self":"center"}},null,8,["rotulo"])]),_:2},1024),a(i,{class:"col"},{default:e(()=>[a(p,{lines:"2",class:"text-weight-bold ellipsis-2-lines"},{default:e(()=>[d("span",null,[c(u(s.mensagem||"Sem mensagem")+" ",1),a(y,{anchor:"bottom middle",self:"center middle"},{default:e(()=>t[1]||(t[1]=[c("Mensagem")])),_:1})])]),_:2},1024),a(p,{caption:""},{default:e(()=>[d("span",null,[c(u(s.usuarioNome)+" ",1),a(y,{anchor:"bottom middle",self:"center middle"},{default:e(()=>t[2]||(t[2]=[c("Usu\xE1rio")])),_:1})])]),_:2},1024),a(i,{class:"hideondesktop q-mt-sm"},{default:e(()=>[a(k,{mg:"xs-b"},{default:e(()=>[s.id?(r(),_(h,{key:0,col:"12",class:"q-mt-xs"},{default:e(()=>[a(g,{id:s.id,escuro:"",cor:"positive",numero:s.id.slice(-8),class:"q-mr-sm"},null,8,["id","numero"])]),_:2},1024)):f("",!0),s.dataHora?(r(),_(h,{key:1,col:"12",class:"q-mt-xs"},{default:e(()=>[a(q,null,{default:e(()=>[d("span",U,u(o.$filters.data(s.dataHora)),1),c(" "+u(o.$filters.hora(s.dataHora)),1)]),_:2},1024)]),_:2},1024)):f("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),a(i,{class:"hideonmobile maxw150 q-pl-sm no-margin cursor-pointer"},{default:e(()=>[s.dataHora?(r(),_(p,{key:0,caption:"",lines:"1",class:"ellipsis"},{default:e(()=>[d("span",null,[a(H,{name:"mdi-calendar-today",class:"q-mr-xs"}),d("span",j,u(o.$filters.data(s.dataHora)),1),c(" "+u(o.$filters.hora(s.dataHora)),1)])]),_:2},1024)):f("",!0)]),_:2},1024)]),_:2},1032,["onClick"]),a(N)]))),128))]),_:1})]),_:1},8,["busca","lista","paginacao","mostrar","onAtualizar"]),a(V,{ref:"jsonViewer"},null,512)])}var P=C($,[["render",J]]);export{P as default};
